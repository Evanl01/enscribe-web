function iE(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in r)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r3(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var eg={exports:{}},Rf={};var S2;function aE(){if(S2)return Rf;S2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var l in s)l!=="key"&&(o[l]=s[l])}else o=s;return s=o.ref,{$$typeof:r,type:i,key:c,ref:s!==void 0?s:null,props:o}}return Rf.Fragment=e,Rf.jsx=t,Rf.jsxs=t,Rf}var A2;function sE(){return A2||(A2=1,eg.exports=aE()),eg.exports}var H=sE(),tg={exports:{}},er={};var E2;function oE(){if(E2)return er;E2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=b&&W[b]||W["@@iterator"],typeof W=="function"?W:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function v(W,R,G){this.props=W,this.context=R,this.refs=E,this.updater=G||A}v.prototype.isReactComponent={},v.prototype.setState=function(W,R){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,R,"setState")},v.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=v.prototype;function N(W,R,G){this.props=W,this.context=R,this.refs=E,this.updater=G||A}var S=N.prototype=new C;S.constructor=N,_(S,v.prototype),S.isPureReactComponent=!0;var D=Array.isArray;function K(){}var $={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function P(W,R,G){var X=G.ref;return{$$typeof:r,type:W,key:R,ref:X!==void 0?X:null,props:G}}function fe(W,R){return P(W.type,R,W.props)}function re(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function B(W){var R={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(G){return R[G]})}var J=/\/+/g;function L(W,R){return typeof W=="object"&&W!==null&&W.key!=null?B(""+W.key):R.toString(36)}function se(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(K,K):(W.status="pending",W.then(function(R){W.status==="pending"&&(W.status="fulfilled",W.value=R)},function(R){W.status==="pending"&&(W.status="rejected",W.reason=R)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function ie(W,R,G,X,ce){var ae=typeof W;(ae==="undefined"||ae==="boolean")&&(W=null);var I=!1;if(W===null)I=!0;else switch(ae){case"bigint":case"string":case"number":I=!0;break;case"object":switch(W.$$typeof){case r:case e:I=!0;break;case p:return I=W._init,ie(I(W._payload),R,G,X,ce)}}if(I)return ce=ce(W),I=X===""?"."+L(W,0):X,D(ce)?(G="",I!=null&&(G=I.replace(J,"$&/")+"/"),ie(ce,R,G,"",function(oe){return oe})):ce!=null&&(re(ce)&&(ce=fe(ce,G+(ce.key==null||W&&W.key===ce.key?"":(""+ce.key).replace(J,"$&/")+"/")+I)),R.push(ce)),1;I=0;var U=X===""?".":X+":";if(D(W))for(var ne=0;ne<W.length;ne++)X=W[ne],ae=U+L(X,ne),I+=ie(X,R,G,ae,ce);else if(ne=m(W),typeof ne=="function")for(W=ne.call(W),ne=0;!(X=W.next()).done;)X=X.value,ae=U+L(X,ne++),I+=ie(X,R,G,ae,ce);else if(ae==="object"){if(typeof W.then=="function")return ie(se(W),R,G,X,ce);throw R=String(W),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return I}function Z(W,R,G){if(W==null)return W;var X=[],ce=0;return ie(W,X,"","",function(ae){return R.call(G,ae,ce++)}),X}function pe(W){if(W._status===-1){var R=W._result;R=R(),R.then(function(G){(W._status===0||W._status===-1)&&(W._status=1,W._result=G)},function(G){(W._status===0||W._status===-1)&&(W._status=2,W._result=G)}),W._status===-1&&(W._status=0,W._result=R)}if(W._status===1)return W._result.default;throw W._result}var ye=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Te={map:Z,forEach:function(W,R,G){Z(W,function(){R.apply(this,arguments)},G)},count:function(W){var R=0;return Z(W,function(){R++}),R},toArray:function(W){return Z(W,function(R){return R})||[]},only:function(W){if(!re(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return er.Activity=y,er.Children=Te,er.Component=v,er.Fragment=t,er.Profiler=s,er.PureComponent=N,er.StrictMode=i,er.Suspense=h,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,er.__COMPILER_RUNTIME={__proto__:null,c:function(W){return $.H.useMemoCache(W)}},er.cache=function(W){return function(){return W.apply(null,arguments)}},er.cacheSignal=function(){return null},er.cloneElement=function(W,R,G){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var X=_({},W.props),ce=W.key;if(R!=null)for(ae in R.key!==void 0&&(ce=""+R.key),R)!ee.call(R,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&R.ref===void 0||(X[ae]=R[ae]);var ae=arguments.length-2;if(ae===1)X.children=G;else if(1<ae){for(var I=Array(ae),U=0;U<ae;U++)I[U]=arguments[U+2];X.children=I}return P(W.type,ce,X)},er.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},er.createElement=function(W,R,G){var X,ce={},ae=null;if(R!=null)for(X in R.key!==void 0&&(ae=""+R.key),R)ee.call(R,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ce[X]=R[X]);var I=arguments.length-2;if(I===1)ce.children=G;else if(1<I){for(var U=Array(I),ne=0;ne<I;ne++)U[ne]=arguments[ne+2];ce.children=U}if(W&&W.defaultProps)for(X in I=W.defaultProps,I)ce[X]===void 0&&(ce[X]=I[X]);return P(W,ae,ce)},er.createRef=function(){return{current:null}},er.forwardRef=function(W){return{$$typeof:l,render:W}},er.isValidElement=re,er.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:pe}},er.memo=function(W,R){return{$$typeof:f,type:W,compare:R===void 0?null:R}},er.startTransition=function(W){var R=$.T,G={};$.T=G;try{var X=W(),ce=$.S;ce!==null&&ce(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(K,ye)}catch(ae){ye(ae)}finally{R!==null&&G.types!==null&&(R.types=G.types),$.T=R}},er.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},er.use=function(W){return $.H.use(W)},er.useActionState=function(W,R,G){return $.H.useActionState(W,R,G)},er.useCallback=function(W,R){return $.H.useCallback(W,R)},er.useContext=function(W){return $.H.useContext(W)},er.useDebugValue=function(){},er.useDeferredValue=function(W,R){return $.H.useDeferredValue(W,R)},er.useEffect=function(W,R){return $.H.useEffect(W,R)},er.useEffectEvent=function(W){return $.H.useEffectEvent(W)},er.useId=function(){return $.H.useId()},er.useImperativeHandle=function(W,R,G){return $.H.useImperativeHandle(W,R,G)},er.useInsertionEffect=function(W,R){return $.H.useInsertionEffect(W,R)},er.useLayoutEffect=function(W,R){return $.H.useLayoutEffect(W,R)},er.useMemo=function(W,R){return $.H.useMemo(W,R)},er.useOptimistic=function(W,R){return $.H.useOptimistic(W,R)},er.useReducer=function(W,R,G){return $.H.useReducer(W,R,G)},er.useRef=function(W){return $.H.useRef(W)},er.useState=function(W){return $.H.useState(W)},er.useSyncExternalStore=function(W,R,G){return $.H.useSyncExternalStore(W,R,G)},er.useTransition=function(){return $.H.useTransition()},er.version="19.2.3",er}var k2;function wv(){return k2||(k2=1,tg.exports=oE()),tg.exports}var Ne=wv();const rc=r3(Ne),lE=iE({__proto__:null,default:rc},[Ne]);var rg={exports:{}},Cf={},ng={exports:{}},ig={};var N2;function uE(){return N2||(N2=1,(function(r){function e(ie,Z){var pe=ie.length;ie.push(Z);e:for(;0<pe;){var ye=pe-1>>>1,Te=ie[ye];if(0<s(Te,Z))ie[ye]=Z,ie[pe]=Te,pe=ye;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var Z=ie[0],pe=ie.pop();if(pe!==Z){ie[0]=pe;e:for(var ye=0,Te=ie.length,W=Te>>>1;ye<W;){var R=2*(ye+1)-1,G=ie[R],X=R+1,ce=ie[X];if(0>s(G,pe))X<Te&&0>s(ce,G)?(ie[ye]=ce,ie[X]=pe,ye=X):(ie[ye]=G,ie[R]=pe,ye=R);else if(X<Te&&0>s(ce,pe))ie[ye]=ce,ie[X]=pe,ye=X;else break e}}return Z}function s(ie,Z){var pe=ie.sortIndex-Z.sortIndex;return pe!==0?pe:ie.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,l=c.now();r.unstable_now=function(){return c.now()-l}}var h=[],f=[],p=1,y=null,b=3,m=!1,A=!1,_=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function S(ie){for(var Z=t(f);Z!==null;){if(Z.callback===null)i(f);else if(Z.startTime<=ie)i(f),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(f)}}function D(ie){if(_=!1,S(ie),!A)if(t(h)!==null)A=!0,K||(K=!0,B());else{var Z=t(f);Z!==null&&se(D,Z.startTime-ie)}}var K=!1,$=-1,ee=5,P=-1;function fe(){return E?!0:!(r.unstable_now()-P<ee)}function re(){if(E=!1,K){var ie=r.unstable_now();P=ie;var Z=!0;try{e:{A=!1,_&&(_=!1,C($),$=-1),m=!0;var pe=b;try{t:{for(S(ie),y=t(h);y!==null&&!(y.expirationTime>ie&&fe());){var ye=y.callback;if(typeof ye=="function"){y.callback=null,b=y.priorityLevel;var Te=ye(y.expirationTime<=ie);if(ie=r.unstable_now(),typeof Te=="function"){y.callback=Te,S(ie),Z=!0;break t}y===t(h)&&i(h),S(ie)}else i(h);y=t(h)}if(y!==null)Z=!0;else{var W=t(f);W!==null&&se(D,W.startTime-ie),Z=!1}}break e}finally{y=null,b=pe,m=!1}Z=void 0}}finally{Z?B():K=!1}}}var B;if(typeof N=="function")B=function(){N(re)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,L=J.port2;J.port1.onmessage=re,B=function(){L.postMessage(null)}}else B=function(){v(re,0)};function se(ie,Z){$=v(function(){ie(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var pe=b;b=Z;try{return ie()}finally{b=pe}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(ie,Z){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var pe=b;b=ie;try{return Z()}finally{b=pe}},r.unstable_scheduleCallback=function(ie,Z,pe){var ye=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ye+pe:ye):pe=ye,ie){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=pe+Te,ie={id:p++,callback:Z,priorityLevel:ie,startTime:pe,expirationTime:Te,sortIndex:-1},pe>ye?(ie.sortIndex=pe,e(f,ie),t(h)===null&&ie===t(f)&&(_?(C($),$=-1):_=!0,se(D,pe-ye))):(ie.sortIndex=Te,e(h,ie),A||m||(A=!0,K||(K=!0,B()))),ie},r.unstable_shouldYield=fe,r.unstable_wrapCallback=function(ie){var Z=b;return function(){var pe=b;b=Z;try{return ie.apply(this,arguments)}finally{b=pe}}}})(ig)),ig}var T2;function cE(){return T2||(T2=1,ng.exports=uE()),ng.exports}var ag={exports:{}},Yi={};var R2;function hE(){if(R2)return Yi;R2=1;var r=wv();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Yi.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,p)},Yi.flushSync=function(h){var f=c.T,p=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=p,i.d.f()}},Yi.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Yi.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Yi.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=l(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:m}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yi.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Yi.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=l(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yi.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Yi.requestFormReset=function(h){i.d.r(h)},Yi.unstable_batchedUpdates=function(h,f){return h(f)},Yi.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Yi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yi.version="19.2.3",Yi}var C2;function n3(){if(C2)return ag.exports;C2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ag.exports=hE(),ag.exports}var O2;function fE(){if(O2)return Cf;O2=1;var r=cE(),e=wv(),t=n3();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,u=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(u=a.return),n=a.return;while(n)}return a.tag===3?u:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function l(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(i(188));return a!==n?null:n}for(var u=n,d=a;;){var w=u.return;if(w===null)break;var k=w.alternate;if(k===null){if(d=w.return,d!==null){u=d;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===u)return h(w),n;if(k===d)return h(w),a;k=k.sibling}throw Error(i(188))}if(u.return!==d.return)u=w,d=k;else{for(var Y=!1,ge=w.child;ge;){if(ge===u){Y=!0,u=w,d=k;break}if(ge===d){Y=!0,d=w,u=k;break}ge=ge.sibling}if(!Y){for(ge=k.child;ge;){if(ge===u){Y=!0,u=k,d=w;break}if(ge===d){Y=!0,d=k,u=w;break}ge=ge.sibling}if(!Y)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var J=Symbol.for("react.client.reference");function L(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===J?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case v:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case N:return n.displayName||"Context";case C:return(n._context.displayName||"Context")+".Consumer";case S:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return a=n.displayName||null,a!==null?a:L(n.type)||"Memo";case ee:a=n._payload,n=n._init;try{return L(n(a))}catch{}}return null}var se=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ye=[],Te=-1;function W(n){return{current:n}}function R(n){0>Te||(n.current=ye[Te],ye[Te]=null,Te--)}function G(n,a){Te++,ye[Te]=n.current,n.current=a}var X=W(null),ce=W(null),ae=W(null),I=W(null);function U(n,a){switch(G(ae,a),G(ce,n),G(X,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Ww(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Ww(a),n=Vw(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}R(X),G(X,n)}function ne(){R(X),R(ce),R(ae)}function oe(n){n.memoizedState!==null&&G(I,n);var a=X.current,u=Vw(a,n.type);a!==u&&(G(ce,n),G(X,u))}function Q(n){ce.current===n&&(R(X),R(ce)),I.current===n&&(R(I),Ef._currentValue=pe)}var ue,ke;function z(n){if(ue===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);ue=a&&a[1]||"",ke=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+n+ke}var te=!1;function q(n,a){if(!n||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(We){var Ge=We}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(We){Ge=We}n.call(tt.prototype)}}else{try{throw Error()}catch(We){Ge=We}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(We){if(We&&Ge&&typeof We.stack=="string")return[We.stack,Ge.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=d.DetermineComponentFrameRoot(),Y=k[0],ge=k[1];if(Y&&ge){var Re=Y.split(`
`),He=ge.split(`
`);for(w=d=0;d<Re.length&&!Re[d].includes("DetermineComponentFrameRoot");)d++;for(;w<He.length&&!He[w].includes("DetermineComponentFrameRoot");)w++;if(d===Re.length||w===He.length)for(d=Re.length-1,w=He.length-1;1<=d&&0<=w&&Re[d]!==He[w];)w--;for(;1<=d&&0<=w;d--,w--)if(Re[d]!==He[w]){if(d!==1||w!==1)do if(d--,w--,0>w||Re[d]!==He[w]){var Xe=`
`+Re[d].replace(" at new "," at ");return n.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",n.displayName)),Xe}while(1<=d&&0<=w);break}}}finally{te=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?z(u):""}function T(n,a){switch(n.tag){case 26:case 27:case 5:return z(n.type);case 16:return z("Lazy");case 13:return n.child!==a&&a!==null?z("Suspense Fallback"):z("Suspense");case 19:return z("SuspenseList");case 0:case 15:return q(n.type,!1);case 11:return q(n.type.render,!1);case 1:return q(n.type,!0);case 31:return z("Activity");default:return""}}function O(n){try{var a="",u=null;do a+=T(n,u),u=n,n=n.return;while(n);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var M=Object.prototype.hasOwnProperty,ve=r.unstable_scheduleCallback,xe=r.unstable_cancelCallback,we=r.unstable_shouldYield,je=r.unstable_requestPaint,qe=r.unstable_now,Me=r.unstable_getCurrentPriorityLevel,Ke=r.unstable_ImmediatePriority,at=r.unstable_UserBlockingPriority,ht=r.unstable_NormalPriority,dt=r.unstable_LowPriority,Rt=r.unstable_IdlePriority,mt=r.log,Sr=r.unstable_setDisableYieldValue,bt=null,Je=null;function lt(n){if(typeof mt=="function"&&Sr(n),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(bt,n)}catch{}}var _t=Math.clz32?Math.clz32:wt,Et=Math.log,Jt=Math.LN2;function wt(n){return n>>>=0,n===0?32:31-(Et(n)/Jt|0)|0}var Ut=256,yr=262144,Mt=4194304;function gt(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xt(n,a,u){var d=n.pendingLanes;if(d===0)return 0;var w=0,k=n.suspendedLanes,Y=n.pingedLanes;n=n.warmLanes;var ge=d&134217727;return ge!==0?(d=ge&~k,d!==0?w=gt(d):(Y&=ge,Y!==0?w=gt(Y):u||(u=ge&~n,u!==0&&(w=gt(u))))):(ge=d&~k,ge!==0?w=gt(ge):Y!==0?w=gt(Y):u||(u=d&~n,u!==0&&(w=gt(u)))),w===0?0:a!==0&&a!==w&&(a&k)===0&&(k=w&-w,u=a&-a,k>=u||k===32&&(u&4194048)!==0)?a:w}function qn(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function li(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(){var n=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),n}function Ri(n){for(var a=[],u=0;31>u;u++)a.push(n);return a}function Tt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ci(n,a,u,d,w,k){var Y=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var ge=n.entanglements,Re=n.expirationTimes,He=n.hiddenUpdates;for(u=Y&~u;0<u;){var Xe=31-_t(u),tt=1<<Xe;ge[Xe]=0,Re[Xe]=-1;var Ge=He[Xe];if(Ge!==null)for(He[Xe]=null,Xe=0;Xe<Ge.length;Xe++){var We=Ge[Xe];We!==null&&(We.lane&=-536870913)}u&=~tt}d!==0&&ui(n,d,0),k!==0&&w===0&&n.tag!==0&&(n.suspendedLanes|=k&~(Y&~a))}function ui(n,a,u){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-_t(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|u&261930}function Oi(n,a){var u=n.entangledLanes|=a;for(n=n.entanglements;u;){var d=31-_t(u),w=1<<d;w&a|n[d]&a&&(n[d]|=a),u&=~w}}function Li(n,a){var u=a&-a;return u=(u&42)!==0?1:Wr(u),(u&(n.suspendedLanes|a))!==0?0:u}function Wr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function yn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rn(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:g2(n.type))}function Za(n,a){var u=Z.p;try{return Z.p=n,a()}finally{Z.p=u}}var ci=Math.random().toString(36).slice(2),jr="__reactFiber$"+ci,rn="__reactProps$"+ci,Zn="__reactContainer$"+ci,ji="__reactEvents$"+ci,Gi="__reactListeners$"+ci,Qa="__reactHandles$"+ci,ta="__reactResources$"+ci,ra="__reactMarker$"+ci;function es(n){delete n[jr],delete n[rn],delete n[ji],delete n[Gi],delete n[Qa]}function na(n){var a=n[jr];if(a)return a;for(var u=n.parentNode;u;){if(a=u[Zn]||u[jr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(n=e2(n);n!==null;){if(u=n[jr])return u;n=e2(n)}return a}n=u,u=n.parentNode}return null}function ia(n){if(n=n[jr]||n[Zn]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function ts(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function fa(n){var a=n[ta];return a||(a=n[ta]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function un(n){n[ra]=!0}var _s=new Set,$e={};function ct(n,a){pt(n,a),pt(n+"Capture",a)}function pt(n,a){for($e[n]=a,n=0;n<a.length;n++)_s.add(a[n])}var Lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cr={},Wt={};function rr(n){return M.call(Wt,n)?!0:M.call(cr,n)?!1:Lt.test(n)?Wt[n]=!0:(cr[n]=!0,!1)}function ar(n,a,u){if(rr(a))if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+u)}}function Pr(n,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+u)}}function dr(n,a,u,d){if(d===null)n.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(a,u,""+d)}}function ir(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rs(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Hn(n,a,u){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,k=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return w.call(this)},set:function(Y){u=""+Y,k.call(this,Y)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(Y){u=""+Y},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Cn(n){if(!n._valueTracker){var a=rs(n)?"checked":"value";n._valueTracker=Hn(n,a,""+n[a])}}function Dr(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return n&&(d=rs(n)?n.checked?"true":"false":n.value),n=d,n!==u?(a.setValue(n),!0):!1}function or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vr=/[\n"\\]/g;function Mr(n){return n.replace(Vr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Pi(n,a,u,d,w,k,Y,ge){n.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?n.type=Y:n.removeAttribute("type"),a!=null?Y==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+ir(a)):n.value!==""+ir(a)&&(n.value=""+ir(a)):Y!=="submit"&&Y!=="reset"||n.removeAttribute("value"),a!=null?oo(n,Y,ir(a)):u!=null?oo(n,Y,ir(u)):d!=null&&n.removeAttribute("value"),w==null&&k!=null&&(n.defaultChecked=!!k),w!=null&&(n.checked=w&&typeof w!="function"&&typeof w!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?n.name=""+ir(ge):n.removeAttribute("name")}function xs(n,a,u,d,w,k,Y,ge){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(n.type=k),a!=null||u!=null){if(!(k!=="submit"&&k!=="reset"||a!=null)){Cn(n);return}u=u!=null?""+ir(u):"",a=a!=null?""+ir(a):u,ge||a===n.value||(n.value=a),n.defaultValue=a}d=d??w,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=ge?n.checked:!!d,n.defaultChecked=!!d,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(n.name=Y),Cn(n)}function oo(n,a,u){a==="number"&&or(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function Qn(n,a,u,d){if(n=n.options,a){a={};for(var w=0;w<u.length;w++)a["$"+u[w]]=!0;for(u=0;u<n.length;u++)w=a.hasOwnProperty("$"+n[u].value),n[u].selected!==w&&(n[u].selected=w),w&&d&&(n[u].defaultSelected=!0)}else{for(u=""+ir(u),a=null,w=0;w<n.length;w++){if(n[w].value===u){n[w].selected=!0,d&&(n[w].defaultSelected=!0);return}a!==null||n[w].disabled||(a=n[w])}a!==null&&(a.selected=!0)}}function lo(n,a,u){if(a!=null&&(a=""+ir(a),a!==n.value&&(n.value=a),u==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=u!=null?""+ir(u):""}function pu(n,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(se(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=ir(a),n.defaultValue=u,d=n.textContent,d===u&&d!==""&&d!==null&&(n.value=d),Cn(n)}function Pa(n,a){if(a){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=a;return}}n.textContent=a}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(n,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":d?n.setProperty(a,u):typeof u!="number"||u===0||Mo.has(a)?a==="float"?n.cssFloat=u:n[a]=(""+u).trim():n[a]=u+"px"}function mc(n,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var w in a)d=a[w],a.hasOwnProperty(w)&&u[w]!==d&&pc(n,w,d)}else for(var k in a)a.hasOwnProperty(k)&&pc(n,k,a[k])}function mu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(n){return gc.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Da(){}var Ss=null;function Fo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var uo=null,Ft=null;function yc(n){var a=ia(n);if(a&&(n=a.stateNode)){var u=n[rn]||null;e:switch(n=a.stateNode,a.type){case"input":if(Pi(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==n&&d.form===n.form){var w=d[rn]||null;if(!w)throw Error(i(90));Pi(d,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===n.form&&Dr(d)}break e;case"textarea":lo(n,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Qn(n,!!u.multiple,a,!1)}}}var yu=!1;function vc(n,a,u){if(yu)return n(a,u);yu=!0;try{var d=n(a);return d}finally{if(yu=!1,(uo!==null||Ft!==null)&&(Hd(),uo&&(a=uo,n=Ft,Ft=uo=null,yc(a),n)))for(a=0;a<n.length;a++)yc(n[a])}}function aa(n,a){var u=n.stateNode;if(u===null)return null;var d=u[rn]||null;if(d===null)return null;u=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=!1;if(hi)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){vu=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{vu=!1}var sa=null,qo=null,ns=null;function bc(){if(ns)return ns;var n,a=qo,u=a.length,d,w="value"in sa?sa.value:sa.textContent,k=w.length;for(n=0;n<u&&a[n]===w[n];n++);var Y=u-n;for(d=1;d<=Y&&a[u-d]===w[k-d];d++);return ns=w.slice(n,1<d?1-d:void 0)}function da(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Sl(){return!0}function Al(){return!1}function ei(n){function a(u,d,w,k,Y){this._reactName=u,this._targetInst=w,this.type=d,this.nativeEvent=k,this.target=Y,this.currentTarget=null;for(var ge in n)n.hasOwnProperty(ge)&&(u=n[ge],this[ge]=u?u(k):k[ge]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Sl:Al,this.isPropagationStopped=Al,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=ei(is),As=y({},is,{view:0,detail:0}),El=ei(As),Ho,Es,ks,$o=y({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ht,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ks&&(ks&&n.type==="mousemove"?(Ho=n.screenX-ks.screenX,Es=n.screenY-ks.screenY):Es=Ho=0,ks=n),Ho)},movementY:function(n){return"movementY"in n?n.movementY:Es}}),bu=ei($o),Ns=y({},$o,{dataTransfer:0}),Ts=ei(Ns),wc=y({},As,{relatedTarget:0}),Rs=ei(wc),_c=y({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),j=ei(_c),le=y({},is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ee=ei(le),Ce=y({},is,{data:0}),De=ei(Ce),Ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ct(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=St[n])?!!a[n]:!1}function Ht(){return Ct}var Zt=y({},As,{key:function(n){if(n.key){var a=Ze[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=da(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?it[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ht,charCode:function(n){return n.type==="keypress"?da(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?da(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wr=ei(Zt),cn=y({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sn=ei(cn),Kr=y({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ht}),$n=ei(Kr),On=y({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),fi=ei(On),Cs=y({},$o,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=ei(Cs),Os=y({},is,{newState:0,oldState:0}),wu=ei(Os),kl=[9,13,27,32],as=hi&&"CompositionEvent"in window,Ia=null;hi&&"documentMode"in document&&(Ia=document.documentMode);var Go=hi&&"TextEvent"in window&&!Ia,Ls=hi&&(!as||Ia&&8<Ia&&11>=Ia),ti=" ",co=!1;function ho(n,a){switch(n){case"keyup":return kl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ss=!1;function Di(n,a){switch(n){case"compositionend":return Nl(a);case"keypress":return a.which!==32?null:(co=!0,ti);case"textInput":return n=a.data,n===ti&&co?null:n;default:return null}}function js(n,a){if(ss)return n==="compositionend"||!as&&ho(n,a)?(n=bc(),ns=qo=sa=null,ss=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ls&&a.locale!=="ko"?null:a.data;default:return null}}var Tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Tl[n.type]:a==="textarea"}function oa(n,a,u,d){uo?Ft?Ft.push(d):Ft=[d]:uo=d,a=Xd(a,"onChange"),0<a.length&&(u=new pa("onChange","change",null,u,d),n.push({event:u,listeners:a}))}var Ua=null,Ps=null;function xu(n){Fw(n,0)}function Ma(n){var a=ts(n);if(Dr(a))return n}function fo(n,a){if(n==="change")return a}var Vi=!1;if(hi){var Bi;if(hi){var os="oninput"in document;if(!os){var ls=document.createElement("div");ls.setAttribute("oninput","return;"),os=typeof ls.oninput=="function"}Bi=os}else Bi=!1;Vi=Bi&&(!document.documentMode||9<document.documentMode)}function Ds(){Ua&&(Ua.detachEvent("onpropertychange",Rl),Ps=Ua=null)}function Rl(n){if(n.propertyName==="value"&&Ma(Ps)){var a=[];oa(a,Ps,n,Fo(n)),vc(xu,a)}}function Cl(n,a,u){n==="focusin"?(Ds(),Ua=a,Ps=u,Ua.attachEvent("onpropertychange",Rl)):n==="focusout"&&Ds()}function An(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(Ps)}function xc(n,a){if(n==="click")return Ma(a)}function us(n,a){if(n==="input"||n==="change")return Ma(a)}function cs(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var di=typeof Object.is=="function"?Object.is:cs;function Bs(n,a){if(di(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var u=Object.keys(n),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var w=u[d];if(!M.call(a,w)||!di(n[w],a[w]))return!1}return!0}function Ol(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ll(n,a){var u=Ol(n);n=0;for(var d;u;){if(u.nodeType===3){if(d=n+u.textContent.length,n<=a&&d>=a)return{node:u,offset:a-n};n=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ol(u)}}function Is(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Is(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Us(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=or(n.document);a instanceof n.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)n=a.contentWindow;else break;a=or(n.document)}return a}function hs(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Wo=hi&&"documentMode"in document&&11>=document.documentMode,la=null,Ms=null,_i=null,ma=!1;function Tr(n,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ma||la==null||la!==or(d)||(d=la,"selectionStart"in d&&hs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_i&&Bs(_i,d)||(_i=d,d=Xd(Ms,"onSelect"),0<d.length&&(a=new pa("onSelect","select",null,a,u),n.push({event:a,listeners:d}),a.target=la)))}function _r(n,a){var u={};return u[n.toLowerCase()]=a.toLowerCase(),u["Webkit"+n]="webkit"+a,u["Moz"+n]="moz"+a,u}var Yr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},En={},fs={};hi&&(fs=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Fa(n){if(En[n])return En[n];if(!Yr[n])return n;var a=Yr[n],u;for(u in a)if(a.hasOwnProperty(u)&&u in fs)return En[n]=a[u];return n}var Vo=Fa("animationend"),Su=Fa("animationiteration"),Vh=Fa("animationstart"),bd=Fa("transitionrun"),wd=Fa("transitionstart"),_d=Fa("transitioncancel"),Kh=Fa("transitionend"),Yh=new Map,Ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ko.push("scrollEnd");function ga(n,a){Yh.set(n,a),ct(a,[n])}var Au=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ua=[],Yo=0,Sc=0;function Eu(){for(var n=Yo,a=Sc=Yo=0;a<n;){var u=ua[a];ua[a++]=null;var d=ua[a];ua[a++]=null;var w=ua[a];ua[a++]=null;var k=ua[a];if(ua[a++]=null,d!==null&&w!==null){var Y=d.pending;Y===null?w.next=w:(w.next=Y.next,Y.next=w),d.pending=w}k!==0&&Nu(u,w,k)}}function ku(n,a,u,d){ua[Yo++]=n,ua[Yo++]=a,ua[Yo++]=u,ua[Yo++]=d,Sc|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function Ac(n,a,u,d){return ku(n,a,u,d),xi(n)}function Fs(n,a){return ku(n,null,null,a),xi(n)}function Nu(n,a,u){n.lanes|=u;var d=n.alternate;d!==null&&(d.lanes|=u);for(var w=!1,k=n.return;k!==null;)k.childLanes|=u,d=k.alternate,d!==null&&(d.childLanes|=u),k.tag===22&&(n=k.stateNode,n===null||n._visibility&1||(w=!0)),n=k,k=k.return;return n.tag===3?(k=n.stateNode,w&&a!==null&&(w=31-_t(u),n=k.hiddenUpdates,d=n[w],d===null?n[w]=[a]:d.push(a),a.lane=u|536870912),k):null}function xi(n){if(50<vf)throw vf=0,Am=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var pi={};function Ec(n,a,u,d){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(n,a,u,d){return new Ec(n,a,u,d)}function kc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ya(n,a){var u=n.alternate;return u===null?(u=Si(n.tag,a,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=a,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&65011712,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,a=n.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function Tu(n,a){n.flags&=65011714;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,a=u.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function jl(n,a,u,d,w,k){var Y=0;if(d=n,typeof n=="function")kc(n)&&(Y=1);else if(typeof n=="string")Y=WA(n,u,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=Si(31,u,a,w),n.elementType=P,n.lanes=k,n;case _:return po(u.children,w,k,a);case E:Y=8,w|=24;break;case v:return n=Si(12,u,a,w|2),n.elementType=v,n.lanes=k,n;case D:return n=Si(13,u,a,w),n.elementType=D,n.lanes=k,n;case K:return n=Si(19,u,a,w),n.elementType=K,n.lanes=k,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:Y=10;break e;case C:Y=9;break e;case S:Y=11;break e;case $:Y=14;break e;case ee:Y=16,d=null;break e}Y=29,u=Error(i(130,n===null?"null":typeof n,"")),d=null}return a=Si(Y,u,a,w),a.elementType=n,a.type=d,a.lanes=k,a}function po(n,a,u,d){return n=Si(7,n,d,a),n.lanes=u,n}function Ru(n,a,u){return n=Si(6,n,null,a),n.lanes=u,n}function Nc(n){var a=Si(18,null,null,0);return a.stateNode=n,a}function Pl(n,a,u){return a=Si(4,n.children!==null?n.children:[],n.key,a),a.lanes=u,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Tc=new WeakMap;function va(n,a){if(typeof n=="object"&&n!==null){var u=Tc.get(n);return u!==void 0?u:(a={value:n,source:a,stack:O(a)},Tc.set(n,a),a)}return{value:n,source:a,stack:O(a)}}var Dl=[],Xo=0,Rc=null,Cu=0,ba=[],wa=0,mo=null,_a=1,xa="";function ca(n,a){Dl[Xo++]=Cu,Dl[Xo++]=Rc,Rc=n,Cu=a}function xd(n,a,u){ba[wa++]=_a,ba[wa++]=xa,ba[wa++]=mo,mo=n;var d=_a;n=xa;var w=32-_t(d)-1;d&=~(1<<w),u+=1;var k=32-_t(a)+w;if(30<k){var Y=w-w%5;k=(d&(1<<Y)-1).toString(32),d>>=Y,w-=Y,_a=1<<32-_t(a)+w|u<<w|d,xa=k+n}else _a=1<<k|u<<w|d,xa=n}function Xh(n){n.return!==null&&(ca(n,1),xd(n,1,0))}function Cc(n){for(;n===Rc;)Rc=Dl[--Xo],Dl[Xo]=null,Cu=Dl[--Xo],Dl[Xo]=null;for(;n===mo;)mo=ba[--wa],ba[wa]=null,xa=ba[--wa],ba[wa]=null,_a=ba[--wa],ba[wa]=null}function Sd(n,a){ba[wa++]=_a,ba[wa++]=xa,ba[wa++]=mo,_a=a.id,xa=a.overflow,mo=n}var mi=null,nn=null,pr=!1,Ii=null,vn=!1,za=Error(i(519));function go(n){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(va(a,n)),za}function Jh(n){var a=n.stateNode,u=n.type,d=n.memoizedProps;switch(a[jr]=n,a[rn]=d,u){case"dialog":gr("cancel",a),gr("close",a);break;case"iframe":case"object":case"embed":gr("load",a);break;case"video":case"audio":for(u=0;u<wf.length;u++)gr(wf[u],a);break;case"source":gr("error",a);break;case"img":case"image":case"link":gr("error",a),gr("load",a);break;case"details":gr("toggle",a);break;case"input":gr("invalid",a),xs(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":gr("invalid",a);break;case"textarea":gr("invalid",a),pu(a,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||$w(a.textContent,u)?(d.popover!=null&&(gr("beforetoggle",a),gr("toggle",a)),d.onScroll!=null&&gr("scroll",a),d.onScrollEnd!=null&&gr("scrollend",a),d.onClick!=null&&(a.onclick=Da),a=!0):a=!1,a||go(n,!0)}function zs(n){for(mi=n.return;mi;)switch(mi.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:mi=mi.return}}function gi(n){if(n!==mi)return!1;if(!pr)return zs(n),pr=!0,!1;var a=n.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||Mm(n.type,n.memoizedProps)),u=!u),u&&nn&&go(n),zs(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));nn=Qw(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));nn=Qw(n)}else a===27?(a=nn,Xl(n.type)?(n=$m,$m=null,nn=n):nn=a):nn=mi?gs(n.stateNode.nextSibling):null;return!0}function Jo(){nn=mi=null,pr=!1}function Zh(){var n=Ii;return n!==null&&(Ta===null?Ta=n:Ta.push.apply(Ta,n),Ii=null),n}function Bl(n){Ii===null?Ii=[n]:Ii.push(n)}var Oc=W(null),yo=null,ds=null;function vo(n,a,u){G(Oc,a._currentValue),a._currentValue=u}function Sa(n){n._currentValue=Oc.current,R(Oc)}function Il(n,a,u){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===u)break;n=n.return}}function Zo(n,a,u,d){var w=n.child;for(w!==null&&(w.return=n);w!==null;){var k=w.dependencies;if(k!==null){var Y=w.child;k=k.firstContext;e:for(;k!==null;){var ge=k;k=w;for(var Re=0;Re<a.length;Re++)if(ge.context===a[Re]){k.lanes|=u,ge=k.alternate,ge!==null&&(ge.lanes|=u),Il(k.return,u,n),d||(Y=null);break e}k=ge.next}}else if(w.tag===18){if(Y=w.return,Y===null)throw Error(i(341));Y.lanes|=u,k=Y.alternate,k!==null&&(k.lanes|=u),Il(Y,u,n),Y=null}else Y=w.child;if(Y!==null)Y.return=w;else for(Y=w;Y!==null;){if(Y===n){Y=null;break}if(w=Y.sibling,w!==null){w.return=Y.return,Y=w;break}Y=Y.return}w=Y}}function bo(n,a,u,d){n=null;for(var w=a,k=!1;w!==null;){if(!k){if((w.flags&524288)!==0)k=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var Y=w.alternate;if(Y===null)throw Error(i(387));if(Y=Y.memoizedProps,Y!==null){var ge=w.type;di(w.pendingProps.value,Y.value)||(n!==null?n.push(ge):n=[ge])}}else if(w===I.current){if(Y=w.alternate,Y===null)throw Error(i(387));Y.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(n!==null?n.push(Ef):n=[Ef])}w=w.return}n!==null&&Zo(a,n,u,d),a.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!di(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function wo(n){yo=n,ds=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yi(n){return Ad(yo,n)}function jc(n,a){return yo===null&&wo(n),Ad(n,a)}function Ad(n,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},ds===null){if(n===null)throw Error(i(308));ds=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else ds=ds.next=a;return u}var H0=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(u,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(u){return u()})}},$0=r.unstable_scheduleCallback,G0=r.unstable_NormalPriority,kn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ul(){return{controller:new H0,data:new Map,refCount:0}}function Ou(n){n.refCount--,n.refCount===0&&$0(G0,function(){n.controller.abort()})}var Lu=null,Pc=0,g=0,x=null;function F(n,a){if(Lu===null){var u=Lu=[];Pc=0,g=Cm(),x={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Pc++,a.then(V,V),a}function V(){if(--Pc===0&&Lu!==null){x!==null&&(x.status="fulfilled");var n=Lu;Lu=null,g=0,x=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function he(n,a){var u=[],d={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var w=0;w<u.length;w++)(0,u[w])(a)},function(w){for(d.status="rejected",d.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),d}var de=ie.S;ie.S=function(n,a){pw=qe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&F(n,a),de!==null&&de(n,a)};var me=W(null);function be(){var n=me.current;return n!==null?n:sn.pooledCache}function _e(n,a){a===null?G(me,me.current):G(me,a.pool)}function Ae(){var n=be();return n===null?null:{parent:kn._currentValue,pool:n}}var Oe=Error(i(460)),Fe=Error(i(474)),Se=Error(i(542)),Pe={then:function(){}};function Ie(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ye(n,a,u){switch(u=n[u],u===void 0?n.push(a):u!==a&&(a.then(Da,Da),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ut(n),n;default:if(typeof a.status=="string")a.then(Da,Da);else{if(n=sn,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var w=a;w.status="fulfilled",w.value=d}},function(d){if(a.status==="pending"){var w=a;w.status="rejected",w.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,ut(n),n}throw Ve=a,Oe}}function Ue(n){try{var a=n._init;return a(n._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ve=u,Oe):u}}var Ve=null;function Qe(){if(Ve===null)throw Error(i(459));var n=Ve;return Ve=null,n}function ut(n){if(n===Oe||n===Se)throw Error(i(483))}var nt=null,kt=0;function yt(n){var a=kt;return kt+=1,nt===null&&(nt=[]),Ye(nt,n,a)}function Vt(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function xt(n,a){throw a.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function fr(n){function a(Be,Le){if(n){var ze=Be.deletions;ze===null?(Be.deletions=[Le],Be.flags|=16):ze.push(Le)}}function u(Be,Le){if(!n)return null;for(;Le!==null;)a(Be,Le),Le=Le.sibling;return null}function d(Be){for(var Le=new Map;Be!==null;)Be.key!==null?Le.set(Be.key,Be):Le.set(Be.index,Be),Be=Be.sibling;return Le}function w(Be,Le){return Be=ya(Be,Le),Be.index=0,Be.sibling=null,Be}function k(Be,Le,ze){return Be.index=ze,n?(ze=Be.alternate,ze!==null?(ze=ze.index,ze<Le?(Be.flags|=67108866,Le):ze):(Be.flags|=67108866,Le)):(Be.flags|=1048576,Le)}function Y(Be){return n&&Be.alternate===null&&(Be.flags|=67108866),Be}function ge(Be,Le,ze,et){return Le===null||Le.tag!==6?(Le=Ru(ze,Be.mode,et),Le.return=Be,Le):(Le=w(Le,ze),Le.return=Be,Le)}function Re(Be,Le,ze,et){var It=ze.type;return It===_?Xe(Be,Le,ze.props.children,et,ze.key):Le!==null&&(Le.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ee&&Ue(It)===Le.type)?(Le=w(Le,ze.props),Vt(Le,ze),Le.return=Be,Le):(Le=jl(ze.type,ze.key,ze.props,null,Be.mode,et),Vt(Le,ze),Le.return=Be,Le)}function He(Be,Le,ze,et){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==ze.containerInfo||Le.stateNode.implementation!==ze.implementation?(Le=Pl(ze,Be.mode,et),Le.return=Be,Le):(Le=w(Le,ze.children||[]),Le.return=Be,Le)}function Xe(Be,Le,ze,et,It){return Le===null||Le.tag!==7?(Le=po(ze,Be.mode,et,It),Le.return=Be,Le):(Le=w(Le,ze),Le.return=Be,Le)}function tt(Be,Le,ze){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Ru(""+Le,Be.mode,ze),Le.return=Be,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case m:return ze=jl(Le.type,Le.key,Le.props,null,Be.mode,ze),Vt(ze,Le),ze.return=Be,ze;case A:return Le=Pl(Le,Be.mode,ze),Le.return=Be,Le;case ee:return Le=Ue(Le),tt(Be,Le,ze)}if(se(Le)||B(Le))return Le=po(Le,Be.mode,ze,null),Le.return=Be,Le;if(typeof Le.then=="function")return tt(Be,yt(Le),ze);if(Le.$$typeof===N)return tt(Be,jc(Be,Le),ze);xt(Be,Le)}return null}function Ge(Be,Le,ze,et){var It=Le!==null?Le.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return It!==null?null:ge(Be,Le,""+ze,et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:return ze.key===It?Re(Be,Le,ze,et):null;case A:return ze.key===It?He(Be,Le,ze,et):null;case ee:return ze=Ue(ze),Ge(Be,Le,ze,et)}if(se(ze)||B(ze))return It!==null?null:Xe(Be,Le,ze,et,null);if(typeof ze.then=="function")return Ge(Be,Le,yt(ze),et);if(ze.$$typeof===N)return Ge(Be,Le,jc(Be,ze),et);xt(Be,ze)}return null}function We(Be,Le,ze,et,It){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Be=Be.get(ze)||null,ge(Le,Be,""+et,It);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case m:return Be=Be.get(et.key===null?ze:et.key)||null,Re(Le,Be,et,It);case A:return Be=Be.get(et.key===null?ze:et.key)||null,He(Le,Be,et,It);case ee:return et=Ue(et),We(Be,Le,ze,et,It)}if(se(et)||B(et))return Be=Be.get(ze)||null,Xe(Le,Be,et,It,null);if(typeof et.then=="function")return We(Be,Le,ze,yt(et),It);if(et.$$typeof===N)return We(Be,Le,ze,jc(Le,et),It);xt(Le,et)}return null}function At(Be,Le,ze,et){for(var It=null,Cr=null,Ot=Le,sr=Le=0,br=null;Ot!==null&&sr<ze.length;sr++){Ot.index>sr?(br=Ot,Ot=null):br=Ot.sibling;var Or=Ge(Be,Ot,ze[sr],et);if(Or===null){Ot===null&&(Ot=br);break}n&&Ot&&Or.alternate===null&&a(Be,Ot),Le=k(Or,Le,sr),Cr===null?It=Or:Cr.sibling=Or,Cr=Or,Ot=br}if(sr===ze.length)return u(Be,Ot),pr&&ca(Be,sr),It;if(Ot===null){for(;sr<ze.length;sr++)Ot=tt(Be,ze[sr],et),Ot!==null&&(Le=k(Ot,Le,sr),Cr===null?It=Ot:Cr.sibling=Ot,Cr=Ot);return pr&&ca(Be,sr),It}for(Ot=d(Ot);sr<ze.length;sr++)br=We(Ot,Be,sr,ze[sr],et),br!==null&&(n&&br.alternate!==null&&Ot.delete(br.key===null?sr:br.key),Le=k(br,Le,sr),Cr===null?It=br:Cr.sibling=br,Cr=br);return n&&Ot.forEach(function(tu){return a(Be,tu)}),pr&&ca(Be,sr),It}function qt(Be,Le,ze,et){if(ze==null)throw Error(i(151));for(var It=null,Cr=null,Ot=Le,sr=Le=0,br=null,Or=ze.next();Ot!==null&&!Or.done;sr++,Or=ze.next()){Ot.index>sr?(br=Ot,Ot=null):br=Ot.sibling;var tu=Ge(Be,Ot,Or.value,et);if(tu===null){Ot===null&&(Ot=br);break}n&&Ot&&tu.alternate===null&&a(Be,Ot),Le=k(tu,Le,sr),Cr===null?It=tu:Cr.sibling=tu,Cr=tu,Ot=br}if(Or.done)return u(Be,Ot),pr&&ca(Be,sr),It;if(Ot===null){for(;!Or.done;sr++,Or=ze.next())Or=tt(Be,Or.value,et),Or!==null&&(Le=k(Or,Le,sr),Cr===null?It=Or:Cr.sibling=Or,Cr=Or);return pr&&ca(Be,sr),It}for(Ot=d(Ot);!Or.done;sr++,Or=ze.next())Or=We(Ot,Be,sr,Or.value,et),Or!==null&&(n&&Or.alternate!==null&&Ot.delete(Or.key===null?sr:Or.key),Le=k(Or,Le,sr),Cr===null?It=Or:Cr.sibling=Or,Cr=Or);return n&&Ot.forEach(function(nE){return a(Be,nE)}),pr&&ca(Be,sr),It}function Qr(Be,Le,ze,et){if(typeof ze=="object"&&ze!==null&&ze.type===_&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case m:e:{for(var It=ze.key;Le!==null;){if(Le.key===It){if(It=ze.type,It===_){if(Le.tag===7){u(Be,Le.sibling),et=w(Le,ze.props.children),et.return=Be,Be=et;break e}}else if(Le.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ee&&Ue(It)===Le.type){u(Be,Le.sibling),et=w(Le,ze.props),Vt(et,ze),et.return=Be,Be=et;break e}u(Be,Le);break}else a(Be,Le);Le=Le.sibling}ze.type===_?(et=po(ze.props.children,Be.mode,et,ze.key),et.return=Be,Be=et):(et=jl(ze.type,ze.key,ze.props,null,Be.mode,et),Vt(et,ze),et.return=Be,Be=et)}return Y(Be);case A:e:{for(It=ze.key;Le!==null;){if(Le.key===It)if(Le.tag===4&&Le.stateNode.containerInfo===ze.containerInfo&&Le.stateNode.implementation===ze.implementation){u(Be,Le.sibling),et=w(Le,ze.children||[]),et.return=Be,Be=et;break e}else{u(Be,Le);break}else a(Be,Le);Le=Le.sibling}et=Pl(ze,Be.mode,et),et.return=Be,Be=et}return Y(Be);case ee:return ze=Ue(ze),Qr(Be,Le,ze,et)}if(se(ze))return At(Be,Le,ze,et);if(B(ze)){if(It=B(ze),typeof It!="function")throw Error(i(150));return ze=It.call(ze),qt(Be,Le,ze,et)}if(typeof ze.then=="function")return Qr(Be,Le,yt(ze),et);if(ze.$$typeof===N)return Qr(Be,Le,jc(Be,ze),et);xt(Be,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Le!==null&&Le.tag===6?(u(Be,Le.sibling),et=w(Le,ze),et.return=Be,Be=et):(u(Be,Le),et=Ru(ze,Be.mode,et),et.return=Be,Be=et),Y(Be)):u(Be,Le)}return function(Be,Le,ze,et){try{kt=0;var It=Qr(Be,Le,ze,et);return nt=null,It}catch(Ot){if(Ot===Oe||Ot===Se)throw Ot;var Cr=Si(29,Ot,null,Be.mode);return Cr.lanes=et,Cr.return=Be,Cr}}}var an=fr(!0),Qt=fr(!1),vt=!1;function ft(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hn(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function zt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function nr(n,a,u){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(Ur&2)!==0){var w=d.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),d.pending=a,a=xi(n),Nu(n,null,u),a}return ku(n,d,a,u),xi(n)}function Br(n,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=n.pendingLanes,u|=d,a.lanes=u,Oi(n,u)}}function Gn(n,a){var u=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var w=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var Y={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};k===null?w=k=Y:k=k.next=Y,u=u.next}while(u!==null);k===null?w=k=a:k=k.next=a}else w=k=a;u={baseState:d.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:d.shared,callbacks:d.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=a:n.next=a,u.lastBaseUpdate=a}var vi=!1;function Xr(){if(vi){var n=x;if(n!==null)throw n}}function Ln(n,a,u,d){vi=!1;var w=n.updateQueue;vt=!1;var k=w.firstBaseUpdate,Y=w.lastBaseUpdate,ge=w.shared.pending;if(ge!==null){w.shared.pending=null;var Re=ge,He=Re.next;Re.next=null,Y===null?k=He:Y.next=He,Y=Re;var Xe=n.alternate;Xe!==null&&(Xe=Xe.updateQueue,ge=Xe.lastBaseUpdate,ge!==Y&&(ge===null?Xe.firstBaseUpdate=He:ge.next=He,Xe.lastBaseUpdate=Re))}if(k!==null){var tt=w.baseState;Y=0,Xe=He=Re=null,ge=k;do{var Ge=ge.lane&-536870913,We=Ge!==ge.lane;if(We?(vr&Ge)===Ge:(d&Ge)===Ge){Ge!==0&&Ge===g&&(vi=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var At=n,qt=ge;Ge=a;var Qr=u;switch(qt.tag){case 1:if(At=qt.payload,typeof At=="function"){tt=At.call(Qr,tt,Ge);break e}tt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=qt.payload,Ge=typeof At=="function"?At.call(Qr,tt,Ge):At,Ge==null)break e;tt=y({},tt,Ge);break e;case 2:vt=!0}}Ge=ge.callback,Ge!==null&&(n.flags|=64,We&&(n.flags|=8192),We=w.callbacks,We===null?w.callbacks=[Ge]:We.push(Ge))}else We={lane:Ge,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Xe===null?(He=Xe=We,Re=tt):Xe=Xe.next=We,Y|=Ge;if(ge=ge.next,ge===null){if(ge=w.shared.pending,ge===null)break;We=ge,ge=We.next,We.next=null,w.lastBaseUpdate=We,w.shared.pending=null}}while(!0);Xe===null&&(Re=tt),w.baseState=Re,w.firstBaseUpdate=He,w.lastBaseUpdate=Xe,k===null&&(w.shared.lanes=0),Gl|=Y,n.lanes=Y,n.memoizedState=tt}}function Ai(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function jn(n,a){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)Ai(u[n],a)}var lr=W(null),Ar=W(0);function fn(n,a){n=ll,G(Ar,n),G(lr,a),ll=n|a.baseLanes}function Rr(){G(Ar,ll),G(lr,lr.current)}function Wn(){ll=Ar.current,R(lr),R(Ar)}var dn=W(null),Er=null;function Nn(n){var a=n.alternate;G(xr,xr.current&1),G(dn,n),Er===null&&(a===null||lr.current!==null||a.memoizedState!==null)&&(Er=n)}function Ir(n){G(xr,xr.current),G(dn,n),Er===null&&(Er=n)}function Pn(n){n.tag===22?(G(xr,xr.current),G(dn,n),Er===null&&(Er=n)):Dn()}function Dn(){G(xr,xr.current),G(dn,dn.current)}function zr(n){R(dn),Er===n&&(Er=null),R(xr)}var xr=W(0);function Ei(n){for(var a=n;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||qm(u)||Hm(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bn=0,Dt=null,Bt=null,kr=null,Ki=!1,Aa=!1,Ui=!1,Bn=0,_o=0,xo=null,Dc=0;function Jr(){throw Error(i(321))}function Qh(n,a){if(a===null)return!1;for(var u=0;u<a.length&&u<n.length;u++)if(!di(n[u],a[u]))return!1;return!0}function ef(n,a,u,d,w,k){return bn=k,Dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ie.H=n===null||n.memoizedState===null?Eb:Q0,Ui=!1,k=u(d,w),Ui=!1,Aa&&(k=qs(a,u,d,w)),Bc(n),k}function Bc(n){ie.H=uf;var a=Bt!==null&&Bt.next!==null;if(bn=0,kr=Bt=Dt=null,Ki=!1,_o=0,xo=null,a)throw Error(i(300));n===null||ni||(n=n.dependencies,n!==null&&Lc(n)&&(ni=!0))}function qs(n,a,u,d){Dt=n;var w=0;do{if(Aa&&(xo=null),_o=0,Aa=!1,25<=w)throw Error(i(301));if(w+=1,kr=Bt=null,n.updateQueue!=null){var k=n.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ie.H=kb,k=a(u,d)}while(Aa);return k}function W0(){var n=ie.H,a=n.useState()[0];return a=typeof a.then=="function"?So(a):a,n=n.useState()[0],(Bt!==null?Bt.memoizedState:null)!==n&&(Dt.flags|=1024),a}function tf(){var n=Bn!==0;return Bn=0,n}function rf(n,a,u){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~u}function Ic(n){if(Ki){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ki=!1}bn=0,kr=Bt=Dt=null,Aa=!1,_o=Bn=0,xo=null}function ri(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Dt.memoizedState=kr=n:kr=kr.next=n,kr}function wn(){if(Bt===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var a=kr===null?Dt.memoizedState:kr.next;if(a!==null)kr=a,Bt=n;else{if(n===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},kr===null?Dt.memoizedState=kr=n:kr=kr.next=n}return kr}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var a=_o;return _o+=1,xo===null&&(xo=[]),n=Ye(xo,n,a),a=Dt,(kr===null?a.memoizedState:kr.next)===null&&(a=a.alternate,ie.H=a===null||a.memoizedState===null?Eb:Q0),n}function Ml(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===N)return yi(n)}throw Error(i(438,String(n)))}function Qo(n){var a=null,u=Dt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=Dt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(w){return w.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=ju(),Dt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(n),d=0;d<n;d++)u[d]=fe;return a.index++,u}function ps(n,a){return typeof a=="function"?a(n):a}function Uc(n){var a=wn();return Fl(a,Bt,n)}function Fl(n,a,u){var d=n.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var w=n.baseQueue,k=d.pending;if(k!==null){if(w!==null){var Y=w.next;w.next=k.next,k.next=Y}a.baseQueue=w=k,d.pending=null}if(k=n.baseState,w===null)n.memoizedState=k;else{a=w.next;var ge=Y=null,Re=null,He=a,Xe=!1;do{var tt=He.lane&-536870913;if(tt!==He.lane?(vr&tt)===tt:(bn&tt)===tt){var Ge=He.revertLane;if(Ge===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),tt===g&&(Xe=!0);else if((bn&Ge)===Ge){He=He.next,Ge===g&&(Xe=!0);continue}else tt={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Re===null?(ge=Re=tt,Y=k):Re=Re.next=tt,Dt.lanes|=Ge,Gl|=Ge;tt=He.action,Ui&&u(k,tt),k=He.hasEagerState?He.eagerState:u(k,tt)}else Ge={lane:tt,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},Re===null?(ge=Re=Ge,Y=k):Re=Re.next=Ge,Dt.lanes|=tt,Gl|=tt;He=He.next}while(He!==null&&He!==a);if(Re===null?Y=k:Re.next=ge,!di(k,n.memoizedState)&&(ni=!0,Xe&&(u=x,u!==null)))throw u;n.memoizedState=k,n.baseState=Y,n.baseQueue=Re,d.lastRenderedState=k}return w===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function Mc(n){var a=wn(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=n;var d=u.dispatch,w=u.pending,k=a.memoizedState;if(w!==null){u.pending=null;var Y=w=w.next;do k=n(k,Y.action),Y=Y.next;while(Y!==w);di(k,a.memoizedState)||(ni=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),u.lastRenderedState=k}return[k,d]}function Fc(n,a,u){var d=Dt,w=wn(),k=pr;if(k){if(u===void 0)throw Error(i(407));u=u()}else u=a();var Y=!di((Bt||w).memoizedState,u);if(Y&&(w.memoizedState=u,ni=!0),w=w.queue,V0(af.bind(null,d,w,n),[n]),w.getSnapshot!==a||Y||kr!==null&&kr.memoizedState.tag&1){if(d.flags|=2048,tl(9,{destroy:void 0},nf.bind(null,d,w,u,a),null),sn===null)throw Error(i(349));k||(bn&127)!==0||Hs(d,a,u)}return u}function Hs(n,a,u){n.flags|=16384,n={getSnapshot:a,value:u},a=Dt.updateQueue,a===null?(a=ju(),Dt.updateQueue=a,a.stores=[n]):(u=a.stores,u===null?a.stores=[n]:u.push(n))}function nf(n,a,u,d){a.value=u,a.getSnapshot=d,Ed(a)&&sf(n)}function af(n,a,u){return u(function(){Ed(a)&&sf(n)})}function Ed(n){var a=n.getSnapshot;n=n.value;try{var u=a();return!di(n,u)}catch{return!0}}function sf(n){var a=Fs(n,2);a!==null&&Ra(a,n,2)}function Ao(n){var a=ri();if(typeof n=="function"){var u=n;if(n=u(),Ui){lt(!0);try{u()}finally{lt(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},a}function kd(n,a,u,d){return n.baseState=u,Fl(n,Bt,typeof d=="function"?d:ps)}function Nd(n,a,u,d,w){if(Od(n))throw Error(i(485));if(n=a.action,n!==null){var k={payload:w,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){k.listeners.push(Y)}};ie.T!==null?u(!0):k.isTransition=!1,d(k),u=a.pending,u===null?(k.next=a.pending=k,Td(a,k)):(k.next=u.next,a.pending=u.next=k)}}function Td(n,a){var u=a.action,d=a.payload,w=n.state;if(a.isTransition){var k=ie.T,Y={};ie.T=Y;try{var ge=u(w,d),Re=ie.S;Re!==null&&Re(Y,ge),of(n,a,ge)}catch(He){el(n,a,He)}finally{k!==null&&Y.types!==null&&(k.types=Y.types),ie.T=k}}else try{k=u(w,d),of(n,a,k)}catch(He){el(n,a,He)}}function of(n,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Rd(n,a,d)},function(d){return el(n,a,d)}):Rd(n,a,u)}function Rd(n,a,u){a.status="fulfilled",a.value=u,zc(a),n.state=u,a=n.pending,a!==null&&(u=a.next,u===a?n.pending=null:(u=u.next,a.next=u,Td(n,u)))}function el(n,a,u){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,zc(a),a=a.next;while(a!==d)}n.action=null}function zc(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Pu(n,a){return a}function ms(n,a){if(pr){var u=sn.formState;if(u!==null){e:{var d=Dt;if(pr){if(nn){t:{for(var w=nn,k=vn;w.nodeType!==8;){if(!k){w=null;break t}if(w=gs(w.nextSibling),w===null){w=null;break t}}k=w.data,w=k==="F!"||k==="F"?w:null}if(w){nn=gs(w.nextSibling),d=w.data==="F!";break e}}go(d)}d=!1}d&&(a=u[0])}}return u=ri(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:a},u.queue=d,u=xb.bind(null,Dt,d),d.dispatch=u,d=Ao(!1),k=Z0.bind(null,Dt,!1,d.queue),d=ri(),w={state:a,dispatch:null,action:n,pending:null},d.queue=w,u=Nd.bind(null,Dt,w,k,u),w.dispatch=u,d.memoizedState=n,[a,u,!1]}function $s(n){var a=wn();return Gs(a,Bt,n)}function Gs(n,a,u){if(a=Fl(n,a,Pu)[0],n=Uc(ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=So(a)}catch(Y){throw Y===Oe?Se:Y}else d=a;a=wn();var w=a.queue,k=w.dispatch;return u!==a.memoizedState&&(Dt.flags|=2048,tl(9,{destroy:void 0},qc.bind(null,w,u),null)),[d,k,n]}function qc(n,a){n.action=a}function Hc(n){var a=wn(),u=Bt;if(u!==null)return Gs(a,u,n);wn(),a=a.memoizedState,u=wn();var d=u.queue.dispatch;return u.memoizedState=n,[a,d,!1]}function tl(n,a,u,d){return n={tag:n,create:u,deps:d,inst:a,next:null},a=Dt.updateQueue,a===null&&(a=ju(),Dt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=n.next=n:(d=u.next,u.next=n,n.next=d,a.lastEffect=n),n}function Cd(){return wn().memoizedState}function zl(n,a,u,d){var w=ri();Dt.flags|=n,w.memoizedState=tl(1|a,{destroy:void 0},u,d===void 0?null:d)}function ql(n,a,u,d){var w=wn();d=d===void 0?null:d;var k=w.memoizedState.inst;Bt!==null&&d!==null&&Qh(d,Bt.memoizedState.deps)?w.memoizedState=tl(a,k,u,d):(Dt.flags|=n,w.memoizedState=tl(1|a,k,u,d))}function lb(n,a){zl(8390656,8,n,a)}function V0(n,a){ql(2048,8,n,a)}function J6(n){Dt.flags|=4;var a=Dt.updateQueue;if(a===null)a=ju(),Dt.updateQueue=a,a.events=[n];else{var u=a.events;u===null?a.events=[n]:u.push(n)}}function ub(n){var a=wn().memoizedState;return J6({ref:a,nextImpl:n}),function(){if((Ur&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function cb(n,a){return ql(4,2,n,a)}function hb(n,a){return ql(4,4,n,a)}function fb(n,a){if(typeof a=="function"){n=n();var u=a(n);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function db(n,a,u){u=u!=null?u.concat([n]):null,ql(4,4,fb.bind(null,a,n),u)}function K0(){}function pb(n,a){var u=wn();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&Qh(a,d[1])?d[0]:(u.memoizedState=[n,a],n)}function mb(n,a){var u=wn();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&Qh(a,d[1]))return d[0];if(d=n(),Ui){lt(!0);try{n()}finally{lt(!1)}}return u.memoizedState=[d,a],d}function Y0(n,a,u){return u===void 0||(bn&1073741824)!==0&&(vr&261930)===0?n.memoizedState=a:(n.memoizedState=u,n=gw(),Dt.lanes|=n,Gl|=n,u)}function gb(n,a,u,d){return di(u,a)?u:lr.current!==null?(n=Y0(n,u,d),di(n,a)||(ni=!0),n):(bn&42)===0||(bn&1073741824)!==0&&(vr&261930)===0?(ni=!0,n.memoizedState=u):(n=gw(),Dt.lanes|=n,Gl|=n,a)}function yb(n,a,u,d,w){var k=Z.p;Z.p=k!==0&&8>k?k:8;var Y=ie.T,ge={};ie.T=ge,Z0(n,!1,a,u);try{var Re=w(),He=ie.S;if(He!==null&&He(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Xe=he(Re,d);lf(n,a,Xe,$a(n))}else lf(n,a,d,$a(n))}catch(tt){lf(n,a,{then:function(){},status:"rejected",reason:tt},$a())}finally{Z.p=k,Y!==null&&ge.types!==null&&(Y.types=ge.types),ie.T=Y}}function Z6(){}function X0(n,a,u,d){if(n.tag!==5)throw Error(i(476));var w=vb(n).queue;yb(n,w,a,pe,u===null?Z6:function(){return bb(n),u(d)})}function vb(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:pe},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:u},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function bb(n){var a=vb(n);a.next===null&&(a=n.alternate.memoizedState),lf(n,a.next.queue,{},$a())}function J0(){return yi(Ef)}function wb(){return wn().memoizedState}function _b(){return wn().memoizedState}function Q6(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var u=$a();n=zt(u);var d=nr(a,n,u);d!==null&&(Ra(d,a,u),Br(d,a,u)),a={cache:Ul()},n.payload=a;return}a=a.return}}function eA(n,a,u){var d=$a();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(n)?Sb(a,u):(u=Ac(n,a,u,d),u!==null&&(Ra(u,n,d),Ab(u,a,d)))}function xb(n,a,u){var d=$a();lf(n,a,u,d)}function lf(n,a,u,d){var w={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Od(n))Sb(a,w);else{var k=n.alternate;if(n.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var Y=a.lastRenderedState,ge=k(Y,u);if(w.hasEagerState=!0,w.eagerState=ge,di(ge,Y))return ku(n,a,w,0),sn===null&&Eu(),!1}catch{}if(u=Ac(n,a,w,d),u!==null)return Ra(u,n,d),Ab(u,a,d),!0}return!1}function Z0(n,a,u,d){if(d={lane:2,revertLane:Cm(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Od(n)){if(a)throw Error(i(479))}else a=Ac(n,u,d,2),a!==null&&Ra(a,n,2)}function Od(n){var a=n.alternate;return n===Dt||a!==null&&a===Dt}function Sb(n,a){Aa=Ki=!0;var u=n.pending;u===null?a.next=a:(a.next=u.next,u.next=a),n.pending=a}function Ab(n,a,u){if((u&4194048)!==0){var d=a.lanes;d&=n.pendingLanes,u|=d,a.lanes=u,Oi(n,u)}}var uf={readContext:yi,use:Ml,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr};uf.useEffectEvent=Jr;var Eb={readContext:yi,use:Ml,useCallback:function(n,a){return ri().memoizedState=[n,a===void 0?null:a],n},useContext:yi,useEffect:lb,useImperativeHandle:function(n,a,u){u=u!=null?u.concat([n]):null,zl(4194308,4,fb.bind(null,a,n),u)},useLayoutEffect:function(n,a){return zl(4194308,4,n,a)},useInsertionEffect:function(n,a){zl(4,2,n,a)},useMemo:function(n,a){var u=ri();a=a===void 0?null:a;var d=n();if(Ui){lt(!0);try{n()}finally{lt(!1)}}return u.memoizedState=[d,a],d},useReducer:function(n,a,u){var d=ri();if(u!==void 0){var w=u(a);if(Ui){lt(!0);try{u(a)}finally{lt(!1)}}}else w=a;return d.memoizedState=d.baseState=w,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:w},d.queue=n,n=n.dispatch=eA.bind(null,Dt,n),[d.memoizedState,n]},useRef:function(n){var a=ri();return n={current:n},a.memoizedState=n},useState:function(n){n=Ao(n);var a=n.queue,u=xb.bind(null,Dt,a);return a.dispatch=u,[n.memoizedState,u]},useDebugValue:K0,useDeferredValue:function(n,a){var u=ri();return Y0(u,n,a)},useTransition:function(){var n=Ao(!1);return n=yb.bind(null,Dt,n.queue,!0,!1),ri().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,u){var d=Dt,w=ri();if(pr){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),sn===null)throw Error(i(349));(vr&127)!==0||Hs(d,a,u)}w.memoizedState=u;var k={value:u,getSnapshot:a};return w.queue=k,lb(af.bind(null,d,k,n),[n]),d.flags|=2048,tl(9,{destroy:void 0},nf.bind(null,d,k,u,a),null),u},useId:function(){var n=ri(),a=sn.identifierPrefix;if(pr){var u=xa,d=_a;u=(d&~(1<<32-_t(d)-1)).toString(32)+u,a="_"+a+"R_"+u,u=Bn++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=Dc++,a="_"+a+"r_"+u.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:J0,useFormState:ms,useActionState:ms,useOptimistic:function(n){var a=ri();a.memoizedState=a.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Z0.bind(null,Dt,!0,u),u.dispatch=a,[n,a]},useMemoCache:Qo,useCacheRefresh:function(){return ri().memoizedState=Q6.bind(null,Dt)},useEffectEvent:function(n){var a=ri(),u={impl:n};return a.memoizedState=u,function(){if((Ur&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},Q0={readContext:yi,use:Ml,useCallback:pb,useContext:yi,useEffect:V0,useImperativeHandle:db,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:mb,useReducer:Uc,useRef:Cd,useState:function(){return Uc(ps)},useDebugValue:K0,useDeferredValue:function(n,a){var u=wn();return gb(u,Bt.memoizedState,n,a)},useTransition:function(){var n=Uc(ps)[0],a=wn().memoizedState;return[typeof n=="boolean"?n:So(n),a]},useSyncExternalStore:Fc,useId:wb,useHostTransitionStatus:J0,useFormState:$s,useActionState:$s,useOptimistic:function(n,a){var u=wn();return kd(u,Bt,n,a)},useMemoCache:Qo,useCacheRefresh:_b};Q0.useEffectEvent=ub;var kb={readContext:yi,use:Ml,useCallback:pb,useContext:yi,useEffect:V0,useImperativeHandle:db,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:mb,useReducer:Mc,useRef:Cd,useState:function(){return Mc(ps)},useDebugValue:K0,useDeferredValue:function(n,a){var u=wn();return Bt===null?Y0(u,n,a):gb(u,Bt.memoizedState,n,a)},useTransition:function(){var n=Mc(ps)[0],a=wn().memoizedState;return[typeof n=="boolean"?n:So(n),a]},useSyncExternalStore:Fc,useId:wb,useHostTransitionStatus:J0,useFormState:Hc,useActionState:Hc,useOptimistic:function(n,a){var u=wn();return Bt!==null?kd(u,Bt,n,a):(u.baseState=n,[n,u.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:_b};kb.useEffectEvent=ub;function em(n,a,u,d){a=n.memoizedState,u=u(d,a),u=u==null?a:y({},a,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var tm={enqueueSetState:function(n,a,u){n=n._reactInternals;var d=$a(),w=zt(d);w.payload=a,u!=null&&(w.callback=u),a=nr(n,w,d),a!==null&&(Ra(a,n,d),Br(a,n,d))},enqueueReplaceState:function(n,a,u){n=n._reactInternals;var d=$a(),w=zt(d);w.tag=1,w.payload=a,u!=null&&(w.callback=u),a=nr(n,w,d),a!==null&&(Ra(a,n,d),Br(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var u=$a(),d=zt(u);d.tag=2,a!=null&&(d.callback=a),a=nr(n,d,u),a!==null&&(Ra(a,n,u),Br(a,n,u))}};function Nb(n,a,u,d,w,k,Y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,k,Y):a.prototype&&a.prototype.isPureReactComponent?!Bs(u,d)||!Bs(w,k):!0}function Tb(n,a,u,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==n&&tm.enqueueReplaceState(a,a.state,null)}function Du(n,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(n=n.defaultProps){u===a&&(u=y({},u));for(var w in n)u[w]===void 0&&(u[w]=n[w])}return u}function Rb(n){Au(n)}function Cb(n){console.error(n)}function Ob(n){Au(n)}function Ld(n,a){try{var u=n.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Lb(n,a,u){try{var d=n.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function rm(n,a,u){return u=zt(u),u.tag=3,u.payload={element:null},u.callback=function(){Ld(n,a)},u}function jb(n){return n=zt(n),n.tag=3,n}function Pb(n,a,u,d){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var k=d.value;n.payload=function(){return w(k)},n.callback=function(){Lb(a,u,d)}}var Y=u.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(n.callback=function(){Lb(a,u,d),typeof w!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var ge=d.stack;this.componentDidCatch(d.value,{componentStack:ge!==null?ge:""})})}function tA(n,a,u,d,w){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&bo(a,u,w,!0),u=dn.current,u!==null){switch(u.tag){case 31:case 13:return Er===null?$d():u.alternate===null&&In===0&&(In=3),u.flags&=-257,u.flags|=65536,u.lanes=w,d===Pe?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),Nm(n,d,w)),!1;case 22:return u.flags|=65536,d===Pe?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),Nm(n,d,w)),!1}throw Error(i(435,u.tag))}return Nm(n,d,w),$d(),!1}if(pr)return a=dn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=w,d!==za&&(n=Error(i(422),{cause:d}),Bl(va(n,u)))):(d!==za&&(a=Error(i(423),{cause:d}),Bl(va(a,u))),n=n.current.alternate,n.flags|=65536,w&=-w,n.lanes|=w,d=va(d,u),w=rm(n.stateNode,d,w),Gn(n,w),In!==4&&(In=2)),!1;var k=Error(i(520),{cause:d});if(k=va(k,u),yf===null?yf=[k]:yf.push(k),In!==4&&(In=2),a===null)return!0;d=va(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,n=w&-w,u.lanes|=n,n=rm(u.stateNode,d,n),Gn(u,n),!1;case 1:if(a=u.type,k=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Wl===null||!Wl.has(k))))return u.flags|=65536,w&=-w,u.lanes|=w,w=jb(w),Pb(w,n,u,d),Gn(u,w),!1}u=u.return}while(u!==null);return!1}var nm=Error(i(461)),ni=!1;function Mi(n,a,u,d){a.child=n===null?Qt(a,null,u,d):an(a,n.child,u,d)}function Db(n,a,u,d,w){u=u.render;var k=a.ref;if("ref"in d){var Y={};for(var ge in d)ge!=="ref"&&(Y[ge]=d[ge])}else Y=d;return wo(a),d=ef(n,a,u,Y,k,w),ge=tf(),n!==null&&!ni?(rf(n,a,w),rl(n,a,w)):(pr&&ge&&Xh(a),a.flags|=1,Mi(n,a,d,w),a.child)}function Bb(n,a,u,d,w){if(n===null){var k=u.type;return typeof k=="function"&&!kc(k)&&k.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=k,Ib(n,a,k,d,w)):(n=jl(u.type,null,d,a,a.mode,w),n.ref=a.ref,n.return=a,a.child=n)}if(k=n.child,!hm(n,w)){var Y=k.memoizedProps;if(u=u.compare,u=u!==null?u:Bs,u(Y,d)&&n.ref===a.ref)return rl(n,a,w)}return a.flags|=1,n=ya(k,d),n.ref=a.ref,n.return=a,a.child=n}function Ib(n,a,u,d,w){if(n!==null){var k=n.memoizedProps;if(Bs(k,d)&&n.ref===a.ref)if(ni=!1,a.pendingProps=d=k,hm(n,w))(n.flags&131072)!==0&&(ni=!0);else return a.lanes=n.lanes,rl(n,a,w)}return im(n,a,u,d,w)}function Ub(n,a,u,d){var w=d.children,k=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(k=k!==null?k.baseLanes|u:u,n!==null){for(d=a.child=n.child,w=0;d!==null;)w=w|d.lanes|d.childLanes,d=d.sibling;d=w&~k}else d=0,a.child=null;return Mb(n,a,k,u,d)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&_e(a,k!==null?k.cachePool:null),k!==null?fn(a,k):Rr(),Pn(a);else return d=a.lanes=536870912,Mb(n,a,k!==null?k.baseLanes|u:u,u,d)}else k!==null?(_e(a,k.cachePool),fn(a,k),Dn(),a.memoizedState=null):(n!==null&&_e(a,null),Rr(),Dn());return Mi(n,a,w,u),a.child}function cf(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Mb(n,a,u,d,w){var k=be();return k=k===null?null:{parent:kn._currentValue,pool:k},a.memoizedState={baseLanes:u,cachePool:k},n!==null&&_e(a,null),Rr(),Pn(a),n!==null&&bo(n,a,d,!0),a.childLanes=w,null}function jd(n,a){return a=Dd({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Fb(n,a,u){return an(a,n.child,null,u),n=jd(a,a.pendingProps),n.flags|=2,zr(a),a.memoizedState=null,n}function rA(n,a,u){var d=a.pendingProps,w=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(pr){if(d.mode==="hidden")return n=jd(a,d),a.lanes=536870912,cf(null,n);if(Ir(a),(n=nn)?(n=Zw(n,vn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mo!==null?{id:_a,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},u=Nc(n),u.return=a,a.child=u,mi=a,nn=null)):n=null,n===null)throw go(a);return a.lanes=536870912,null}return jd(a,d)}var k=n.memoizedState;if(k!==null){var Y=k.dehydrated;if(Ir(a),w)if(a.flags&256)a.flags&=-257,a=Fb(n,a,u);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(i(558));else if(ni||bo(n,a,u,!1),w=(u&n.childLanes)!==0,ni||w){if(d=sn,d!==null&&(Y=Li(d,u),Y!==0&&Y!==k.retryLane))throw k.retryLane=Y,Fs(n,Y),Ra(d,n,Y),nm;$d(),a=Fb(n,a,u)}else n=k.treeContext,nn=gs(Y.nextSibling),mi=a,pr=!0,Ii=null,vn=!1,n!==null&&Sd(a,n),a=jd(a,d),a.flags|=4096;return a}return n=ya(n.child,{mode:d.mode,children:d.children}),n.ref=a.ref,a.child=n,n.return=a,n}function Pd(n,a){var u=a.ref;if(u===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(n===null||n.ref!==u)&&(a.flags|=4194816)}}function im(n,a,u,d,w){return wo(a),u=ef(n,a,u,d,void 0,w),d=tf(),n!==null&&!ni?(rf(n,a,w),rl(n,a,w)):(pr&&d&&Xh(a),a.flags|=1,Mi(n,a,u,w),a.child)}function zb(n,a,u,d,w,k){return wo(a),a.updateQueue=null,u=qs(a,d,u,w),Bc(n),d=tf(),n!==null&&!ni?(rf(n,a,k),rl(n,a,k)):(pr&&d&&Xh(a),a.flags|=1,Mi(n,a,u,k),a.child)}function qb(n,a,u,d,w){if(wo(a),a.stateNode===null){var k=pi,Y=u.contextType;typeof Y=="object"&&Y!==null&&(k=yi(Y)),k=new u(d,k),a.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=tm,a.stateNode=k,k._reactInternals=a,k=a.stateNode,k.props=d,k.state=a.memoizedState,k.refs={},ft(a),Y=u.contextType,k.context=typeof Y=="object"&&Y!==null?yi(Y):pi,k.state=a.memoizedState,Y=u.getDerivedStateFromProps,typeof Y=="function"&&(em(a,u,Y,d),k.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(Y=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),Y!==k.state&&tm.enqueueReplaceState(k,k.state,null),Ln(a,d,k,w),Xr(),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){k=a.stateNode;var ge=a.memoizedProps,Re=Du(u,ge);k.props=Re;var He=k.context,Xe=u.contextType;Y=pi,typeof Xe=="object"&&Xe!==null&&(Y=yi(Xe));var tt=u.getDerivedStateFromProps;Xe=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ge=a.pendingProps!==ge,Xe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ge||He!==Y)&&Tb(a,k,d,Y),vt=!1;var Ge=a.memoizedState;k.state=Ge,Ln(a,d,k,w),Xr(),He=a.memoizedState,ge||Ge!==He||vt?(typeof tt=="function"&&(em(a,u,tt,d),He=a.memoizedState),(Re=vt||Nb(a,u,Re,d,Ge,He,Y))?(Xe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=He),k.props=d,k.state=He,k.context=Y,d=Re):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{k=a.stateNode,hn(n,a),Y=a.memoizedProps,Xe=Du(u,Y),k.props=Xe,tt=a.pendingProps,Ge=k.context,He=u.contextType,Re=pi,typeof He=="object"&&He!==null&&(Re=yi(He)),ge=u.getDerivedStateFromProps,(He=typeof ge=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y!==tt||Ge!==Re)&&Tb(a,k,d,Re),vt=!1,Ge=a.memoizedState,k.state=Ge,Ln(a,d,k,w),Xr();var We=a.memoizedState;Y!==tt||Ge!==We||vt||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof ge=="function"&&(em(a,u,ge,d),We=a.memoizedState),(Xe=vt||Nb(a,u,Xe,d,Ge,We,Re)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(He||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(d,We,Re),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(d,We,Re)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||Y===n.memoizedProps&&Ge===n.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===n.memoizedProps&&Ge===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=We),k.props=d,k.state=We,k.context=Re,d=Xe):(typeof k.componentDidUpdate!="function"||Y===n.memoizedProps&&Ge===n.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===n.memoizedProps&&Ge===n.memoizedState||(a.flags|=1024),d=!1)}return k=d,Pd(n,a),d=(a.flags&128)!==0,k||d?(k=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:k.render(),a.flags|=1,n!==null&&d?(a.child=an(a,n.child,null,w),a.child=an(a,null,u,w)):Mi(n,a,u,w),a.memoizedState=k.state,n=a.child):n=rl(n,a,w),n}function Hb(n,a,u,d){return Jo(),a.flags|=256,Mi(n,a,u,d),a.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(n){return{baseLanes:n,cachePool:Ae()}}function om(n,a,u){return n=n!==null?n.childLanes&~u:0,a&&(n|=Ha),n}function $b(n,a,u){var d=a.pendingProps,w=!1,k=(a.flags&128)!==0,Y;if((Y=k)||(Y=n!==null&&n.memoizedState===null?!1:(xr.current&2)!==0),Y&&(w=!0,a.flags&=-129),Y=(a.flags&32)!==0,a.flags&=-33,n===null){if(pr){if(w?Nn(a):Dn(),(n=nn)?(n=Zw(n,vn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:mo!==null?{id:_a,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},u=Nc(n),u.return=a,a.child=u,mi=a,nn=null)):n=null,n===null)throw go(a);return Hm(n)?a.lanes=32:a.lanes=536870912,null}var ge=d.children;return d=d.fallback,w?(Dn(),w=a.mode,ge=Dd({mode:"hidden",children:ge},w),d=po(d,w,u,null),ge.return=a,d.return=a,ge.sibling=d,a.child=ge,d=a.child,d.memoizedState=sm(u),d.childLanes=om(n,Y,u),a.memoizedState=am,cf(null,d)):(Nn(a),lm(a,ge))}var Re=n.memoizedState;if(Re!==null&&(ge=Re.dehydrated,ge!==null)){if(k)a.flags&256?(Nn(a),a.flags&=-257,a=um(n,a,u)):a.memoizedState!==null?(Dn(),a.child=n.child,a.flags|=128,a=null):(Dn(),ge=d.fallback,w=a.mode,d=Dd({mode:"visible",children:d.children},w),ge=po(ge,w,u,null),ge.flags|=2,d.return=a,ge.return=a,d.sibling=ge,a.child=d,an(a,n.child,null,u),d=a.child,d.memoizedState=sm(u),d.childLanes=om(n,Y,u),a.memoizedState=am,a=cf(null,d));else if(Nn(a),Hm(ge)){if(Y=ge.nextSibling&&ge.nextSibling.dataset,Y)var He=Y.dgst;Y=He,d=Error(i(419)),d.stack="",d.digest=Y,Bl({value:d,source:null,stack:null}),a=um(n,a,u)}else if(ni||bo(n,a,u,!1),Y=(u&n.childLanes)!==0,ni||Y){if(Y=sn,Y!==null&&(d=Li(Y,u),d!==0&&d!==Re.retryLane))throw Re.retryLane=d,Fs(n,d),Ra(Y,n,d),nm;qm(ge)||$d(),a=um(n,a,u)}else qm(ge)?(a.flags|=192,a.child=n.child,a=null):(n=Re.treeContext,nn=gs(ge.nextSibling),mi=a,pr=!0,Ii=null,vn=!1,n!==null&&Sd(a,n),a=lm(a,d.children),a.flags|=4096);return a}return w?(Dn(),ge=d.fallback,w=a.mode,Re=n.child,He=Re.sibling,d=ya(Re,{mode:"hidden",children:d.children}),d.subtreeFlags=Re.subtreeFlags&65011712,He!==null?ge=ya(He,ge):(ge=po(ge,w,u,null),ge.flags|=2),ge.return=a,d.return=a,d.sibling=ge,a.child=d,cf(null,d),d=a.child,ge=n.child.memoizedState,ge===null?ge=sm(u):(w=ge.cachePool,w!==null?(Re=kn._currentValue,w=w.parent!==Re?{parent:Re,pool:Re}:w):w=Ae(),ge={baseLanes:ge.baseLanes|u,cachePool:w}),d.memoizedState=ge,d.childLanes=om(n,Y,u),a.memoizedState=am,cf(n.child,d)):(Nn(a),u=n.child,n=u.sibling,u=ya(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,n!==null&&(Y=a.deletions,Y===null?(a.deletions=[n],a.flags|=16):Y.push(n)),a.child=u,a.memoizedState=null,u)}function lm(n,a){return a=Dd({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Dd(n,a){return n=Si(22,n,null,a),n.lanes=0,n}function um(n,a,u){return an(a,n.child,null,u),n=lm(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Gb(n,a,u){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),Il(n.return,a,u)}function cm(n,a,u,d,w,k){var Y=n.memoizedState;Y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:w,treeForkCount:k}:(Y.isBackwards=a,Y.rendering=null,Y.renderingStartTime=0,Y.last=d,Y.tail=u,Y.tailMode=w,Y.treeForkCount=k)}function Wb(n,a,u){var d=a.pendingProps,w=d.revealOrder,k=d.tail;d=d.children;var Y=xr.current,ge=(Y&2)!==0;if(ge?(Y=Y&1|2,a.flags|=128):Y&=1,G(xr,Y),Mi(n,a,d,u),d=pr?Cu:0,!ge&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gb(n,u,a);else if(n.tag===19)Gb(n,u,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(w){case"forwards":for(u=a.child,w=null;u!==null;)n=u.alternate,n!==null&&Ei(n)===null&&(w=u),u=u.sibling;u=w,u===null?(w=a.child,a.child=null):(w=u.sibling,u.sibling=null),cm(a,!1,w,u,k,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,w=a.child,a.child=null;w!==null;){if(n=w.alternate,n!==null&&Ei(n)===null){a.child=w;break}n=w.sibling,w.sibling=u,u=w,w=n}cm(a,!0,u,null,k,d);break;case"together":cm(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function rl(n,a,u){if(n!==null&&(a.dependencies=n.dependencies),Gl|=a.lanes,(u&a.childLanes)===0)if(n!==null){if(bo(n,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,u=ya(n,n.pendingProps),a.child=u,u.return=a;n.sibling!==null;)n=n.sibling,u=u.sibling=ya(n,n.pendingProps),u.return=a;u.sibling=null}return a.child}function hm(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function nA(n,a,u){switch(a.tag){case 3:U(a,a.stateNode.containerInfo),vo(a,kn,n.memoizedState.cache),Jo();break;case 27:case 5:oe(a);break;case 4:U(a,a.stateNode.containerInfo);break;case 10:vo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Ir(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Nn(a),a.flags|=128,null):(u&a.child.childLanes)!==0?$b(n,a,u):(Nn(a),n=rl(n,a,u),n!==null?n.sibling:null);Nn(a);break;case 19:var w=(n.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(bo(n,a,u,!1),d=(u&a.childLanes)!==0),w){if(d)return Wb(n,a,u);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),G(xr,xr.current),d)break;return null;case 22:return a.lanes=0,Ub(n,a,u,a.pendingProps);case 24:vo(a,kn,n.memoizedState.cache)}return rl(n,a,u)}function Vb(n,a,u){if(n!==null)if(n.memoizedProps!==a.pendingProps)ni=!0;else{if(!hm(n,u)&&(a.flags&128)===0)return ni=!1,nA(n,a,u);ni=(n.flags&131072)!==0}else ni=!1,pr&&(a.flags&1048576)!==0&&xd(a,Cu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(n=Ue(a.elementType),a.type=n,typeof n=="function")kc(n)?(d=Du(n,d),a.tag=1,a=qb(null,a,n,d,u)):(a.tag=0,a=im(null,a,n,d,u));else{if(n!=null){var w=n.$$typeof;if(w===S){a.tag=11,a=Db(null,a,n,d,u);break e}else if(w===$){a.tag=14,a=Bb(null,a,n,d,u);break e}}throw a=L(n)||n,Error(i(306,a,""))}}return a;case 0:return im(n,a,a.type,a.pendingProps,u);case 1:return d=a.type,w=Du(d,a.pendingProps),qb(n,a,d,w,u);case 3:e:{if(U(a,a.stateNode.containerInfo),n===null)throw Error(i(387));d=a.pendingProps;var k=a.memoizedState;w=k.element,hn(n,a),Ln(a,d,null,u);var Y=a.memoizedState;if(d=Y.cache,vo(a,kn,d),d!==k.cache&&Zo(a,[kn],u,!0),Xr(),d=Y.element,k.isDehydrated)if(k={element:d,isDehydrated:!1,cache:Y.cache},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){a=Hb(n,a,d,u);break e}else if(d!==w){w=va(Error(i(424)),a),Bl(w),a=Hb(n,a,d,u);break e}else for(n=a.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,nn=gs(n.firstChild),mi=a,pr=!0,Ii=null,vn=!0,u=Qt(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Jo(),d===w){a=rl(n,a,u);break e}Mi(n,a,d,u)}a=a.child}return a;case 26:return Pd(n,a),n===null?(u=i2(a.type,null,a.pendingProps,null))?a.memoizedState=u:pr||(u=a.type,n=a.pendingProps,d=Jd(ae.current).createElement(u),d[jr]=a,d[rn]=n,Fi(d,u,n),un(d),a.stateNode=d):a.memoizedState=i2(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return oe(a),n===null&&pr&&(d=a.stateNode=t2(a.type,a.pendingProps,ae.current),mi=a,vn=!0,w=nn,Xl(a.type)?($m=w,nn=gs(d.firstChild)):nn=w),Mi(n,a,a.pendingProps.children,u),Pd(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&pr&&((w=d=nn)&&(d=jA(d,a.type,a.pendingProps,vn),d!==null?(a.stateNode=d,mi=a,nn=gs(d.firstChild),vn=!1,w=!0):w=!1),w||go(a)),oe(a),w=a.type,k=a.pendingProps,Y=n!==null?n.memoizedProps:null,d=k.children,Mm(w,k)?d=null:Y!==null&&Mm(w,Y)&&(a.flags|=32),a.memoizedState!==null&&(w=ef(n,a,W0,null,null,u),Ef._currentValue=w),Pd(n,a),Mi(n,a,d,u),a.child;case 6:return n===null&&pr&&((n=u=nn)&&(u=PA(u,a.pendingProps,vn),u!==null?(a.stateNode=u,mi=a,nn=null,n=!0):n=!1),n||go(a)),null;case 13:return $b(n,a,u);case 4:return U(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=an(a,null,d,u):Mi(n,a,d,u),a.child;case 11:return Db(n,a,a.type,a.pendingProps,u);case 7:return Mi(n,a,a.pendingProps,u),a.child;case 8:return Mi(n,a,a.pendingProps.children,u),a.child;case 12:return Mi(n,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,vo(a,a.type,d.value),Mi(n,a,d.children,u),a.child;case 9:return w=a.type._context,d=a.pendingProps.children,wo(a),w=yi(w),d=d(w),a.flags|=1,Mi(n,a,d,u),a.child;case 14:return Bb(n,a,a.type,a.pendingProps,u);case 15:return Ib(n,a,a.type,a.pendingProps,u);case 19:return Wb(n,a,u);case 31:return rA(n,a,u);case 22:return Ub(n,a,u,a.pendingProps);case 24:return wo(a),d=yi(kn),n===null?(w=be(),w===null&&(w=sn,k=Ul(),w.pooledCache=k,k.refCount++,k!==null&&(w.pooledCacheLanes|=u),w=k),a.memoizedState={parent:d,cache:w},ft(a),vo(a,kn,w)):((n.lanes&u)!==0&&(hn(n,a),Ln(a,null,null,u),Xr()),w=n.memoizedState,k=a.memoizedState,w.parent!==d?(w={parent:d,cache:d},a.memoizedState=w,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=w),vo(a,kn,d)):(d=k.cache,vo(a,kn,d),d!==w.cache&&Zo(a,[kn],u,!0))),Mi(n,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function nl(n){n.flags|=4}function fm(n,a,u,d,w){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(w&335544128)===w)if(n.stateNode.complete)n.flags|=8192;else if(ww())n.flags|=8192;else throw Ve=Pe,Fe}else n.flags&=-16777217}function Kb(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!u2(a))if(ww())n.flags|=8192;else throw Ve=Pe,Fe}function Bd(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?ea():536870912,n.lanes|=a,Vc|=a)}function hf(n,a){if(!pr)switch(n.tailMode){case"hidden":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function pn(n){var a=n.alternate!==null&&n.alternate.child===n.child,u=0,d=0;if(a)for(var w=n.child;w!==null;)u|=w.lanes|w.childLanes,d|=w.subtreeFlags&65011712,d|=w.flags&65011712,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)u|=w.lanes|w.childLanes,d|=w.subtreeFlags,d|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=d,n.childLanes=u,a}function iA(n,a,u){var d=a.pendingProps;switch(Cc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(a),null;case 1:return pn(a),null;case 3:return u=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Sa(kn),ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(gi(a)?nl(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zh())),pn(a),null;case 26:var w=a.type,k=a.memoizedState;return n===null?(nl(a),k!==null?(pn(a),Kb(a,k)):(pn(a),fm(a,w,null,d,u))):k?k!==n.memoizedState?(nl(a),pn(a),Kb(a,k)):(pn(a),a.flags&=-16777217):(n=n.memoizedProps,n!==d&&nl(a),pn(a),fm(a,w,n,d,u)),null;case 27:if(Q(a),u=ae.current,w=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&nl(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return pn(a),null}n=X.current,gi(a)?Jh(a):(n=t2(w,d,u),a.stateNode=n,nl(a))}return pn(a),null;case 5:if(Q(a),w=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&nl(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return pn(a),null}if(k=X.current,gi(a))Jh(a);else{var Y=Jd(ae.current);switch(k){case 1:k=Y.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":k=Y.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":k=Y.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":k=Y.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof d.is=="string"?Y.createElement("select",{is:d.is}):Y.createElement("select"),d.multiple?k.multiple=!0:d.size&&(k.size=d.size);break;default:k=typeof d.is=="string"?Y.createElement(w,{is:d.is}):Y.createElement(w)}}k[jr]=a,k[rn]=d;e:for(Y=a.child;Y!==null;){if(Y.tag===5||Y.tag===6)k.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===a)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===a)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}a.stateNode=k;e:switch(Fi(k,w,d),w){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&nl(a)}}return pn(a),fm(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,u),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==d&&nl(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(n=ae.current,gi(a)){if(n=a.stateNode,u=a.memoizedProps,d=null,w=mi,w!==null)switch(w.tag){case 27:case 5:d=w.memoizedProps}n[jr]=a,n=!!(n.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||$w(n.nodeValue,u)),n||go(a,!0)}else n=Jd(n).createTextNode(d),n[jr]=a,a.stateNode=n}return pn(a),null;case 31:if(u=a.memoizedState,n===null||n.memoizedState!==null){if(d=gi(a),u!==null){if(n===null){if(!d)throw Error(i(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[jr]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pn(a),n=!1}else u=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=u),n=!0;if(!n)return a.flags&256?(zr(a),a):(zr(a),null);if((a.flags&128)!==0)throw Error(i(558))}return pn(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(w=gi(a),d!==null&&d.dehydrated!==null){if(n===null){if(!w)throw Error(i(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[jr]=a}else Jo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pn(a),w=!1}else w=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=w),w=!0;if(!w)return a.flags&256?(zr(a),a):(zr(a),null)}return zr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=d!==null,n=n!==null&&n.memoizedState!==null,u&&(d=a.child,w=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(w=d.alternate.memoizedState.cachePool.pool),k=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(k=d.memoizedState.cachePool.pool),k!==w&&(d.flags|=2048)),u!==n&&u&&(a.child.flags|=8192),Bd(a,a.updateQueue),pn(a),null);case 4:return ne(),n===null&&Pm(a.stateNode.containerInfo),pn(a),null;case 10:return Sa(a.type),pn(a),null;case 19:if(R(xr),d=a.memoizedState,d===null)return pn(a),null;if(w=(a.flags&128)!==0,k=d.rendering,k===null)if(w)hf(d,!1);else{if(In!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(k=Ei(n),k!==null){for(a.flags|=128,hf(d,!1),n=k.updateQueue,a.updateQueue=n,Bd(a,n),a.subtreeFlags=0,n=u,u=a.child;u!==null;)Tu(u,n),u=u.sibling;return G(xr,xr.current&1|2),pr&&ca(a,d.treeForkCount),a.child}n=n.sibling}d.tail!==null&&qe()>zd&&(a.flags|=128,w=!0,hf(d,!1),a.lanes=4194304)}else{if(!w)if(n=Ei(k),n!==null){if(a.flags|=128,w=!0,n=n.updateQueue,a.updateQueue=n,Bd(a,n),hf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!k.alternate&&!pr)return pn(a),null}else 2*qe()-d.renderingStartTime>zd&&u!==536870912&&(a.flags|=128,w=!0,hf(d,!1),a.lanes=4194304);d.isBackwards?(k.sibling=a.child,a.child=k):(n=d.last,n!==null?n.sibling=k:a.child=k,d.last=k)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=qe(),n.sibling=null,u=xr.current,G(xr,w?u&1|2:u&1),pr&&ca(a,d.treeForkCount),n):(pn(a),null);case 22:case 23:return zr(a),Wn(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(pn(a),a.subtreeFlags&6&&(a.flags|=8192)):pn(a),u=a.updateQueue,u!==null&&Bd(a,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),n!==null&&R(me),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Sa(kn),pn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function aA(n,a){switch(Cc(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Sa(kn),ne(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Q(a),null;case 31:if(a.memoizedState!==null){if(zr(a),a.alternate===null)throw Error(i(340));Jo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(zr(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Jo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return R(xr),null;case 4:return ne(),null;case 10:return Sa(a.type),null;case 22:case 23:return zr(a),Wn(),n!==null&&R(me),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Sa(kn),null;case 25:return null;default:return null}}function Yb(n,a){switch(Cc(a),a.tag){case 3:Sa(kn),ne();break;case 26:case 27:case 5:Q(a);break;case 4:ne();break;case 31:a.memoizedState!==null&&zr(a);break;case 13:zr(a);break;case 19:R(xr);break;case 10:Sa(a.type);break;case 22:case 23:zr(a),Wn(),n!==null&&R(me);break;case 24:Sa(kn)}}function ff(n,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var w=d.next;u=w;do{if((u.tag&n)===n){d=void 0;var k=u.create,Y=u.inst;d=k(),Y.destroy=d}u=u.next}while(u!==w)}}catch(ge){Hr(a,a.return,ge)}}function Hl(n,a,u){try{var d=a.updateQueue,w=d!==null?d.lastEffect:null;if(w!==null){var k=w.next;d=k;do{if((d.tag&n)===n){var Y=d.inst,ge=Y.destroy;if(ge!==void 0){Y.destroy=void 0,w=a;var Re=u,He=ge;try{He()}catch(Xe){Hr(w,Re,Xe)}}}d=d.next}while(d!==k)}}catch(Xe){Hr(a,a.return,Xe)}}function Xb(n){var a=n.updateQueue;if(a!==null){var u=n.stateNode;try{jn(a,u)}catch(d){Hr(n,n.return,d)}}}function Jb(n,a,u){u.props=Du(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(d){Hr(n,a,d)}}function df(n,a){try{var u=n.ref;if(u!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof u=="function"?n.refCleanup=u(d):u.current=d}}catch(w){Hr(n,a,w)}}function Eo(n,a){var u=n.ref,d=n.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(w){Hr(n,a,w)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){Hr(n,a,w)}else u.current=null}function Zb(n){var a=n.type,u=n.memoizedProps,d=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(w){Hr(n,n.return,w)}}function dm(n,a,u){try{var d=n.stateNode;NA(d,n.type,u,a),d[rn]=a}catch(w){Hr(n,n.return,w)}}function Qb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xl(n.type)||n.tag===4}function pm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mm(n,a,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(n,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(n),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Da));else if(d!==4&&(d===27&&Xl(n.type)&&(u=n.stateNode,a=null),n=n.child,n!==null))for(mm(n,a,u),n=n.sibling;n!==null;)mm(n,a,u),n=n.sibling}function Id(n,a,u){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?u.insertBefore(n,a):u.appendChild(n);else if(d!==4&&(d===27&&Xl(n.type)&&(u=n.stateNode),n=n.child,n!==null))for(Id(n,a,u),n=n.sibling;n!==null;)Id(n,a,u),n=n.sibling}function ew(n){var a=n.stateNode,u=n.memoizedProps;try{for(var d=n.type,w=a.attributes;w.length;)a.removeAttributeNode(w[0]);Fi(a,d,u),a[jr]=n,a[rn]=u}catch(k){Hr(n,n.return,k)}}var il=!1,ii=!1,gm=!1,tw=typeof WeakSet=="function"?WeakSet:Set,ki=null;function sA(n,a){if(n=n.containerInfo,Im=ip,n=Us(n),hs(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var w=d.anchorOffset,k=d.focusNode;d=d.focusOffset;try{u.nodeType,k.nodeType}catch{u=null;break e}var Y=0,ge=-1,Re=-1,He=0,Xe=0,tt=n,Ge=null;t:for(;;){for(var We;tt!==u||w!==0&&tt.nodeType!==3||(ge=Y+w),tt!==k||d!==0&&tt.nodeType!==3||(Re=Y+d),tt.nodeType===3&&(Y+=tt.nodeValue.length),(We=tt.firstChild)!==null;)Ge=tt,tt=We;for(;;){if(tt===n)break t;if(Ge===u&&++He===w&&(ge=Y),Ge===k&&++Xe===d&&(Re=Y),(We=tt.nextSibling)!==null)break;tt=Ge,Ge=tt.parentNode}tt=We}u=ge===-1||Re===-1?null:{start:ge,end:Re}}else u=null}u=u||{start:0,end:0}}else u=null;for(Um={focusedElem:n,selectionRange:u},ip=!1,ki=a;ki!==null;)if(a=ki,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ki=n;else for(;ki!==null;){switch(a=ki,k=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(u=0;u<n.length;u++)w=n[u],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&k!==null){n=void 0,u=a,w=k.memoizedProps,k=k.memoizedState,d=u.stateNode;try{var At=Du(u.type,w);n=d.getSnapshotBeforeUpdate(At,k),d.__reactInternalSnapshotBeforeUpdate=n}catch(qt){Hr(u,u.return,qt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,u=n.nodeType,u===9)zm(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,ki=n;break}ki=a.return}}function rw(n,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:sl(n,u),d&4&&ff(5,u);break;case 1:if(sl(n,u),d&4)if(n=u.stateNode,a===null)try{n.componentDidMount()}catch(Y){Hr(u,u.return,Y)}else{var w=Du(u.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(w,a,n.__reactInternalSnapshotBeforeUpdate)}catch(Y){Hr(u,u.return,Y)}}d&64&&Xb(u),d&512&&df(u,u.return);break;case 3:if(sl(n,u),d&64&&(n=u.updateQueue,n!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{jn(n,a)}catch(Y){Hr(u,u.return,Y)}}break;case 27:a===null&&d&4&&ew(u);case 26:case 5:sl(n,u),a===null&&d&4&&Zb(u),d&512&&df(u,u.return);break;case 12:sl(n,u);break;case 31:sl(n,u),d&4&&aw(n,u);break;case 13:sl(n,u),d&4&&sw(n,u),d&64&&(n=u.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(u=mA.bind(null,u),DA(n,u))));break;case 22:if(d=u.memoizedState!==null||il,!d){a=a!==null&&a.memoizedState!==null||ii,w=il;var k=ii;il=d,(ii=a)&&!k?ol(n,u,(u.subtreeFlags&8772)!==0):sl(n,u),il=w,ii=k}break;case 30:break;default:sl(n,u)}}function nw(n){var a=n.alternate;a!==null&&(n.alternate=null,nw(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&es(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _n=null,Ea=!1;function al(n,a,u){for(u=u.child;u!==null;)iw(n,a,u),u=u.sibling}function iw(n,a,u){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(bt,u)}catch{}switch(u.tag){case 26:ii||Eo(u,a),al(n,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ii||Eo(u,a);var d=_n,w=Ea;Xl(u.type)&&(_n=u.stateNode,Ea=!1),al(n,a,u),xf(u.stateNode),_n=d,Ea=w;break;case 5:ii||Eo(u,a);case 6:if(d=_n,w=Ea,_n=null,al(n,a,u),_n=d,Ea=w,_n!==null)if(Ea)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(k){Hr(u,a,k)}else try{_n.removeChild(u.stateNode)}catch(k){Hr(u,a,k)}break;case 18:_n!==null&&(Ea?(n=_n,Xw(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,u.stateNode),th(n)):Xw(_n,u.stateNode));break;case 4:d=_n,w=Ea,_n=u.stateNode.containerInfo,Ea=!0,al(n,a,u),_n=d,Ea=w;break;case 0:case 11:case 14:case 15:Hl(2,u,a),ii||Hl(4,u,a),al(n,a,u);break;case 1:ii||(Eo(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&Jb(u,a,d)),al(n,a,u);break;case 21:al(n,a,u);break;case 22:ii=(d=ii)||u.memoizedState!==null,al(n,a,u),ii=d;break;default:al(n,a,u)}}function aw(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{th(n)}catch(u){Hr(a,a.return,u)}}}function sw(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{th(n)}catch(u){Hr(a,a.return,u)}}function oA(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new tw),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new tw),a;default:throw Error(i(435,n.tag))}}function Ud(n,a){var u=oA(n);a.forEach(function(d){if(!u.has(d)){u.add(d);var w=gA.bind(null,n,d);d.then(w,w)}})}function ka(n,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var w=u[d],k=n,Y=a,ge=Y;e:for(;ge!==null;){switch(ge.tag){case 27:if(Xl(ge.type)){_n=ge.stateNode,Ea=!1;break e}break;case 5:_n=ge.stateNode,Ea=!1;break e;case 3:case 4:_n=ge.stateNode.containerInfo,Ea=!0;break e}ge=ge.return}if(_n===null)throw Error(i(160));iw(k,Y,w),_n=null,Ea=!1,k=w.alternate,k!==null&&(k.return=null),w.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ow(a,n),a=a.sibling}var Ws=null;function ow(n,a){var u=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ka(a,n),Na(n),d&4&&(Hl(3,n,n.return),ff(3,n),Hl(5,n,n.return));break;case 1:ka(a,n),Na(n),d&512&&(ii||u===null||Eo(u,u.return)),d&64&&il&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var w=Ws;if(ka(a,n),Na(n),d&512&&(ii||u===null||Eo(u,u.return)),d&4){var k=u!==null?u.memoizedState:null;if(d=n.memoizedState,u===null)if(d===null)if(n.stateNode===null){e:{d=n.type,u=n.memoizedProps,w=w.ownerDocument||w;t:switch(d){case"title":k=w.getElementsByTagName("title")[0],(!k||k[ra]||k[jr]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=w.createElement(d),w.head.insertBefore(k,w.querySelector("head > title"))),Fi(k,d,u),k[jr]=n,un(k),d=k;break e;case"link":var Y=o2("link","href",w).get(d+(u.href||""));if(Y){for(var ge=0;ge<Y.length;ge++)if(k=Y[ge],k.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&k.getAttribute("rel")===(u.rel==null?null:u.rel)&&k.getAttribute("title")===(u.title==null?null:u.title)&&k.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){Y.splice(ge,1);break t}}k=w.createElement(d),Fi(k,d,u),w.head.appendChild(k);break;case"meta":if(Y=o2("meta","content",w).get(d+(u.content||""))){for(ge=0;ge<Y.length;ge++)if(k=Y[ge],k.getAttribute("content")===(u.content==null?null:""+u.content)&&k.getAttribute("name")===(u.name==null?null:u.name)&&k.getAttribute("property")===(u.property==null?null:u.property)&&k.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&k.getAttribute("charset")===(u.charSet==null?null:u.charSet)){Y.splice(ge,1);break t}}k=w.createElement(d),Fi(k,d,u),w.head.appendChild(k);break;default:throw Error(i(468,d))}k[jr]=n,un(k),d=k}n.stateNode=d}else l2(w,n.type,n.stateNode);else n.stateNode=s2(w,d,n.memoizedProps);else k!==d?(k===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):k.count--,d===null?l2(w,n.type,n.stateNode):s2(w,d,n.memoizedProps)):d===null&&n.stateNode!==null&&dm(n,n.memoizedProps,u.memoizedProps)}break;case 27:ka(a,n),Na(n),d&512&&(ii||u===null||Eo(u,u.return)),u!==null&&d&4&&dm(n,n.memoizedProps,u.memoizedProps);break;case 5:if(ka(a,n),Na(n),d&512&&(ii||u===null||Eo(u,u.return)),n.flags&32){w=n.stateNode;try{Pa(w,"")}catch(At){Hr(n,n.return,At)}}d&4&&n.stateNode!=null&&(w=n.memoizedProps,dm(n,w,u!==null?u.memoizedProps:w)),d&1024&&(gm=!0);break;case 6:if(ka(a,n),Na(n),d&4){if(n.stateNode===null)throw Error(i(162));d=n.memoizedProps,u=n.stateNode;try{u.nodeValue=d}catch(At){Hr(n,n.return,At)}}break;case 3:if(ep=null,w=Ws,Ws=Zd(a.containerInfo),ka(a,n),Ws=w,Na(n),d&4&&u!==null&&u.memoizedState.isDehydrated)try{th(a.containerInfo)}catch(At){Hr(n,n.return,At)}gm&&(gm=!1,lw(n));break;case 4:d=Ws,Ws=Zd(n.stateNode.containerInfo),ka(a,n),Na(n),Ws=d;break;case 12:ka(a,n),Na(n);break;case 31:ka(a,n),Na(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ud(n,d)));break;case 13:ka(a,n),Na(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Fd=qe()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ud(n,d)));break;case 22:w=n.memoizedState!==null;var Re=u!==null&&u.memoizedState!==null,He=il,Xe=ii;if(il=He||w,ii=Xe||Re,ka(a,n),ii=Xe,il=He,Na(n),d&8192)e:for(a=n.stateNode,a._visibility=w?a._visibility&-2:a._visibility|1,w&&(u===null||Re||il||ii||Bu(n)),u=null,a=n;;){if(a.tag===5||a.tag===26){if(u===null){Re=u=a;try{if(k=Re.stateNode,w)Y=k.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{ge=Re.stateNode;var tt=Re.memoizedProps.style,Ge=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ge.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(At){Hr(Re,Re.return,At)}}}else if(a.tag===6){if(u===null){Re=a;try{Re.stateNode.nodeValue=w?"":Re.memoizedProps}catch(At){Hr(Re,Re.return,At)}}}else if(a.tag===18){if(u===null){Re=a;try{var We=Re.stateNode;w?Jw(We,!0):Jw(Re.stateNode,!1)}catch(At){Hr(Re,Re.return,At)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=n.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Ud(n,u))));break;case 19:ka(a,n),Na(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Ud(n,d)));break;case 30:break;case 21:break;default:ka(a,n),Na(n)}}function Na(n){var a=n.flags;if(a&2){try{for(var u,d=n.return;d!==null;){if(Qb(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var w=u.stateNode,k=pm(n);Id(n,k,w);break;case 5:var Y=u.stateNode;u.flags&32&&(Pa(Y,""),u.flags&=-33);var ge=pm(n);Id(n,ge,Y);break;case 3:case 4:var Re=u.stateNode.containerInfo,He=pm(n);mm(n,He,Re);break;default:throw Error(i(161))}}catch(Xe){Hr(n,n.return,Xe)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function lw(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;lw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function sl(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rw(n,a.alternate,a),a=a.sibling}function Bu(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Hl(4,a,a.return),Bu(a);break;case 1:Eo(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&Jb(a,a.return,u),Bu(a);break;case 27:xf(a.stateNode);case 26:case 5:Eo(a,a.return),Bu(a);break;case 22:a.memoizedState===null&&Bu(a);break;case 30:Bu(a);break;default:Bu(a)}n=n.sibling}}function ol(n,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,w=n,k=a,Y=k.flags;switch(k.tag){case 0:case 11:case 15:ol(w,k,u),ff(4,k);break;case 1:if(ol(w,k,u),d=k,w=d.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(He){Hr(d,d.return,He)}if(d=k,w=d.updateQueue,w!==null){var ge=d.stateNode;try{var Re=w.shared.hiddenCallbacks;if(Re!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Re.length;w++)Ai(Re[w],ge)}catch(He){Hr(d,d.return,He)}}u&&Y&64&&Xb(k),df(k,k.return);break;case 27:ew(k);case 26:case 5:ol(w,k,u),u&&d===null&&Y&4&&Zb(k),df(k,k.return);break;case 12:ol(w,k,u);break;case 31:ol(w,k,u),u&&Y&4&&aw(w,k);break;case 13:ol(w,k,u),u&&Y&4&&sw(w,k);break;case 22:k.memoizedState===null&&ol(w,k,u),df(k,k.return);break;case 30:break;default:ol(w,k,u)}a=a.sibling}}function ym(n,a){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&Ou(u))}function vm(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ou(n))}function Vs(n,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)uw(n,a,u,d),a=a.sibling}function uw(n,a,u,d){var w=a.flags;switch(a.tag){case 0:case 11:case 15:Vs(n,a,u,d),w&2048&&ff(9,a);break;case 1:Vs(n,a,u,d);break;case 3:Vs(n,a,u,d),w&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ou(n)));break;case 12:if(w&2048){Vs(n,a,u,d),n=a.stateNode;try{var k=a.memoizedProps,Y=k.id,ge=k.onPostCommit;typeof ge=="function"&&ge(Y,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Re){Hr(a,a.return,Re)}}else Vs(n,a,u,d);break;case 31:Vs(n,a,u,d);break;case 13:Vs(n,a,u,d);break;case 23:break;case 22:k=a.stateNode,Y=a.alternate,a.memoizedState!==null?k._visibility&2?Vs(n,a,u,d):pf(n,a):k._visibility&2?Vs(n,a,u,d):(k._visibility|=2,$c(n,a,u,d,(a.subtreeFlags&10256)!==0||!1)),w&2048&&ym(Y,a);break;case 24:Vs(n,a,u,d),w&2048&&vm(a.alternate,a);break;default:Vs(n,a,u,d)}}function $c(n,a,u,d,w){for(w=w&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var k=n,Y=a,ge=u,Re=d,He=Y.flags;switch(Y.tag){case 0:case 11:case 15:$c(k,Y,ge,Re,w),ff(8,Y);break;case 23:break;case 22:var Xe=Y.stateNode;Y.memoizedState!==null?Xe._visibility&2?$c(k,Y,ge,Re,w):pf(k,Y):(Xe._visibility|=2,$c(k,Y,ge,Re,w)),w&&He&2048&&ym(Y.alternate,Y);break;case 24:$c(k,Y,ge,Re,w),w&&He&2048&&vm(Y.alternate,Y);break;default:$c(k,Y,ge,Re,w)}a=a.sibling}}function pf(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=n,d=a,w=d.flags;switch(d.tag){case 22:pf(u,d),w&2048&&ym(d.alternate,d);break;case 24:pf(u,d),w&2048&&vm(d.alternate,d);break;default:pf(u,d)}a=a.sibling}}var mf=8192;function Gc(n,a,u){if(n.subtreeFlags&mf)for(n=n.child;n!==null;)cw(n,a,u),n=n.sibling}function cw(n,a,u){switch(n.tag){case 26:Gc(n,a,u),n.flags&mf&&n.memoizedState!==null&&VA(u,Ws,n.memoizedState,n.memoizedProps);break;case 5:Gc(n,a,u);break;case 3:case 4:var d=Ws;Ws=Zd(n.stateNode.containerInfo),Gc(n,a,u),Ws=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=mf,mf=16777216,Gc(n,a,u),mf=d):Gc(n,a,u));break;default:Gc(n,a,u)}}function hw(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function gf(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ki=d,dw(d,n)}hw(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fw(n),n=n.sibling}function fw(n){switch(n.tag){case 0:case 11:case 15:gf(n),n.flags&2048&&Hl(9,n,n.return);break;case 3:gf(n);break;case 12:gf(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Md(n)):gf(n);break;default:gf(n)}}function Md(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];ki=d,dw(d,n)}hw(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Hl(8,a,a.return),Md(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Md(a));break;default:Md(a)}n=n.sibling}}function dw(n,a){for(;ki!==null;){var u=ki;switch(u.tag){case 0:case 11:case 15:Hl(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ou(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,ki=d;else e:for(u=n;ki!==null;){d=ki;var w=d.sibling,k=d.return;if(nw(d),d===u){ki=null;break e}if(w!==null){w.return=k,ki=w;break e}ki=k}}}var lA={getCacheForType:function(n){var a=yi(kn),u=a.data.get(n);return u===void 0&&(u=n(),a.data.set(n,u)),u},cacheSignal:function(){return yi(kn).controller.signal}},uA=typeof WeakMap=="function"?WeakMap:Map,Ur=0,sn=null,mr=null,vr=0,qr=0,qa=null,$l=!1,Wc=!1,bm=!1,ll=0,In=0,Gl=0,Iu=0,wm=0,Ha=0,Vc=0,yf=null,Ta=null,_m=!1,Fd=0,pw=0,zd=1/0,qd=null,Wl=null,bi=0,Vl=null,Kc=null,ul=0,xm=0,Sm=null,mw=null,vf=0,Am=null;function $a(){return(Ur&2)!==0&&vr!==0?vr&-vr:ie.T!==null?Cm():Rn()}function gw(){if(Ha===0)if((vr&536870912)===0||pr){var n=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Ha=n}else Ha=536870912;return n=dn.current,n!==null&&(n.flags|=32),Ha}function Ra(n,a,u){(n===sn&&(qr===2||qr===9)||n.cancelPendingCommit!==null)&&(Yc(n,0),Kl(n,vr,Ha,!1)),Tt(n,u),((Ur&2)===0||n!==sn)&&(n===sn&&((Ur&2)===0&&(Iu|=u),In===4&&Kl(n,vr,Ha,!1)),ko(n))}function yw(n,a,u){if((Ur&6)!==0)throw Error(i(327));var d=!u&&(a&127)===0&&(a&n.expiredLanes)===0||qn(n,a),w=d?fA(n,a):km(n,a,!0),k=d;do{if(w===0){Wc&&!d&&Kl(n,a,0,!1);break}else{if(u=n.current.alternate,k&&!cA(u)){w=km(n,a,!1),k=!1;continue}if(w===2){if(k=a,n.errorRecoveryDisabledLanes&k)var Y=0;else Y=n.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){a=Y;e:{var ge=n;w=yf;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(Yc(ge,Y).flags|=256),Y=km(ge,Y,!1),Y!==2){if(bm&&!Re){ge.errorRecoveryDisabledLanes|=k,Iu|=k,w=4;break e}k=Ta,Ta=w,k!==null&&(Ta===null?Ta=k:Ta.push.apply(Ta,k))}w=Y}if(k=!1,w!==2)continue}}if(w===1){Yc(n,0),Kl(n,a,0,!0);break}e:{switch(d=n,k=w,k){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Kl(d,a,Ha,!$l);break e;case 2:Ta=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(w=Fd+300-qe(),10<w)){if(Kl(d,a,Ha,!$l),Xt(d,0,!0)!==0)break e;ul=a,d.timeoutHandle=Kw(vw.bind(null,d,u,Ta,qd,_m,a,Ha,Iu,Vc,$l,k,"Throttled",-0,0),w);break e}vw(d,u,Ta,qd,_m,a,Ha,Iu,Vc,$l,k,null,-0,0)}}break}while(!0);ko(n)}function vw(n,a,u,d,w,k,Y,ge,Re,He,Xe,tt,Ge,We){if(n.timeoutHandle=-1,tt=a.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},cw(a,k,tt);var At=(k&62914560)===k?Fd-qe():(k&4194048)===k?pw-qe():0;if(At=KA(tt,At),At!==null){ul=k,n.cancelPendingCommit=At(kw.bind(null,n,a,k,u,d,w,Y,ge,Re,Xe,tt,null,Ge,We)),Kl(n,k,Y,!He);return}}kw(n,a,k,u,d,w,Y,ge,Re)}function cA(n){for(var a=n;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var w=u[d],k=w.getSnapshot;w=w.value;try{if(!di(k(),w))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Kl(n,a,u,d){a&=~wm,a&=~Iu,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var w=a;0<w;){var k=31-_t(w),Y=1<<k;d[k]=-1,w&=~Y}u!==0&&ui(n,u,a)}function Hd(){return(Ur&6)===0?(bf(0),!1):!0}function Em(){if(mr!==null){if(qr===0)var n=mr.return;else n=mr,ds=yo=null,Ic(n),nt=null,kt=0,n=mr;for(;n!==null;)Yb(n.alternate,n),n=n.return;mr=null}}function Yc(n,a){var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,CA(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),ul=0,Em(),sn=n,mr=u=ya(n.current,null),vr=a,qr=0,qa=null,$l=!1,Wc=qn(n,a),bm=!1,Vc=Ha=wm=Iu=Gl=In=0,Ta=yf=null,_m=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var w=31-_t(d),k=1<<w;a|=n[w],d&=~k}return ll=a,Eu(),u}function bw(n,a){Dt=null,ie.H=uf,a===Oe||a===Se?(a=Qe(),qr=3):a===Fe?(a=Qe(),qr=4):qr=a===nm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qa=a,mr===null&&(In=1,Ld(n,va(a,n.current)))}function ww(){var n=dn.current;return n===null?!0:(vr&4194048)===vr?Er===null:(vr&62914560)===vr||(vr&536870912)!==0?n===Er:!1}function _w(){var n=ie.H;return ie.H=uf,n===null?uf:n}function xw(){var n=ie.A;return ie.A=lA,n}function $d(){In=4,$l||(vr&4194048)!==vr&&dn.current!==null||(Wc=!0),(Gl&134217727)===0&&(Iu&134217727)===0||sn===null||Kl(sn,vr,Ha,!1)}function km(n,a,u){var d=Ur;Ur|=2;var w=_w(),k=xw();(sn!==n||vr!==a)&&(qd=null,Yc(n,a)),a=!1;var Y=In;e:do try{if(qr!==0&&mr!==null){var ge=mr,Re=qa;switch(qr){case 8:Em(),Y=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(a=!0);var He=qr;if(qr=0,qa=null,Xc(n,ge,Re,He),u&&Wc){Y=0;break e}break;default:He=qr,qr=0,qa=null,Xc(n,ge,Re,He)}}hA(),Y=In;break}catch(Xe){bw(n,Xe)}while(!0);return a&&n.shellSuspendCounter++,ds=yo=null,Ur=d,ie.H=w,ie.A=k,mr===null&&(sn=null,vr=0,Eu()),Y}function hA(){for(;mr!==null;)Sw(mr)}function fA(n,a){var u=Ur;Ur|=2;var d=_w(),w=xw();sn!==n||vr!==a?(qd=null,zd=qe()+500,Yc(n,a)):Wc=qn(n,a);e:do try{if(qr!==0&&mr!==null){a=mr;var k=qa;t:switch(qr){case 1:qr=0,qa=null,Xc(n,a,k,1);break;case 2:case 9:if(Ie(k)){qr=0,qa=null,Aw(a);break}a=function(){qr!==2&&qr!==9||sn!==n||(qr=7),ko(n)},k.then(a,a);break e;case 3:qr=7;break e;case 4:qr=5;break e;case 7:Ie(k)?(qr=0,qa=null,Aw(a)):(qr=0,qa=null,Xc(n,a,k,7));break;case 5:var Y=null;switch(mr.tag){case 26:Y=mr.memoizedState;case 5:case 27:var ge=mr;if(Y?u2(Y):ge.stateNode.complete){qr=0,qa=null;var Re=ge.sibling;if(Re!==null)mr=Re;else{var He=ge.return;He!==null?(mr=He,Gd(He)):mr=null}break t}}qr=0,qa=null,Xc(n,a,k,5);break;case 6:qr=0,qa=null,Xc(n,a,k,6);break;case 8:Em(),In=6;break e;default:throw Error(i(462))}}dA();break}catch(Xe){bw(n,Xe)}while(!0);return ds=yo=null,ie.H=d,ie.A=w,Ur=u,mr!==null?0:(sn=null,vr=0,Eu(),In)}function dA(){for(;mr!==null&&!we();)Sw(mr)}function Sw(n){var a=Vb(n.alternate,n,ll);n.memoizedProps=n.pendingProps,a===null?Gd(n):mr=a}function Aw(n){var a=n,u=a.alternate;switch(a.tag){case 15:case 0:a=zb(u,a,a.pendingProps,a.type,void 0,vr);break;case 11:a=zb(u,a,a.pendingProps,a.type.render,a.ref,vr);break;case 5:Ic(a);default:Yb(u,a),a=mr=Tu(a,ll),a=Vb(u,a,ll)}n.memoizedProps=n.pendingProps,a===null?Gd(n):mr=a}function Xc(n,a,u,d){ds=yo=null,Ic(a),nt=null,kt=0;var w=a.return;try{if(tA(n,w,a,u,vr)){In=1,Ld(n,va(u,n.current)),mr=null;return}}catch(k){if(w!==null)throw mr=w,k;In=1,Ld(n,va(u,n.current)),mr=null;return}a.flags&32768?(pr||d===1?n=!0:Wc||(vr&536870912)!==0?n=!1:($l=n=!0,(d===2||d===9||d===3||d===6)&&(d=dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ew(a,n)):Gd(a)}function Gd(n){var a=n;do{if((a.flags&32768)!==0){Ew(a,$l);return}n=a.return;var u=iA(a.alternate,a,ll);if(u!==null){mr=u;return}if(a=a.sibling,a!==null){mr=a;return}mr=a=n}while(a!==null);In===0&&(In=5)}function Ew(n,a){do{var u=aA(n.alternate,n);if(u!==null){u.flags&=32767,mr=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(n=n.sibling,n!==null)){mr=n;return}mr=n=u}while(n!==null);In=6,mr=null}function kw(n,a,u,d,w,k,Y,ge,Re){n.cancelPendingCommit=null;do Wd();while(bi!==0);if((Ur&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(k=a.lanes|a.childLanes,k|=Sc,Ci(n,u,k,Y,ge,Re),n===sn&&(mr=sn=null,vr=0),Kc=a,Vl=n,ul=u,xm=k,Sm=w,mw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yA(ht,function(){return Ow(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=ie.T,ie.T=null,w=Z.p,Z.p=2,Y=Ur,Ur|=4;try{sA(n,a,u)}finally{Ur=Y,Z.p=w,ie.T=d}}bi=1,Nw(),Tw(),Rw()}}function Nw(){if(bi===1){bi=0;var n=Vl,a=Kc,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var d=Z.p;Z.p=2;var w=Ur;Ur|=4;try{ow(a,n);var k=Um,Y=Us(n.containerInfo),ge=k.focusedElem,Re=k.selectionRange;if(Y!==ge&&ge&&ge.ownerDocument&&Is(ge.ownerDocument.documentElement,ge)){if(Re!==null&&hs(ge)){var He=Re.start,Xe=Re.end;if(Xe===void 0&&(Xe=He),"selectionStart"in ge)ge.selectionStart=He,ge.selectionEnd=Math.min(Xe,ge.value.length);else{var tt=ge.ownerDocument||document,Ge=tt&&tt.defaultView||window;if(Ge.getSelection){var We=Ge.getSelection(),At=ge.textContent.length,qt=Math.min(Re.start,At),Qr=Re.end===void 0?qt:Math.min(Re.end,At);!We.extend&&qt>Qr&&(Y=Qr,Qr=qt,qt=Y);var Be=Ll(ge,qt),Le=Ll(ge,Qr);if(Be&&Le&&(We.rangeCount!==1||We.anchorNode!==Be.node||We.anchorOffset!==Be.offset||We.focusNode!==Le.node||We.focusOffset!==Le.offset)){var ze=tt.createRange();ze.setStart(Be.node,Be.offset),We.removeAllRanges(),qt>Qr?(We.addRange(ze),We.extend(Le.node,Le.offset)):(ze.setEnd(Le.node,Le.offset),We.addRange(ze))}}}}for(tt=[],We=ge;We=We.parentNode;)We.nodeType===1&&tt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<tt.length;ge++){var et=tt[ge];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ip=!!Im,Um=Im=null}finally{Ur=w,Z.p=d,ie.T=u}}n.current=a,bi=2}}function Tw(){if(bi===2){bi=0;var n=Vl,a=Kc,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var d=Z.p;Z.p=2;var w=Ur;Ur|=4;try{rw(n,a.alternate,a)}finally{Ur=w,Z.p=d,ie.T=u}}bi=3}}function Rw(){if(bi===4||bi===3){bi=0,je();var n=Vl,a=Kc,u=ul,d=mw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bi=5:(bi=0,Kc=Vl=null,Cw(n,n.pendingLanes));var w=n.pendingLanes;if(w===0&&(Wl=null),yn(u),a=a.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(bt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=ie.T,w=Z.p,Z.p=2,ie.T=null;try{for(var k=n.onRecoverableError,Y=0;Y<d.length;Y++){var ge=d[Y];k(ge.value,{componentStack:ge.stack})}}finally{ie.T=a,Z.p=w}}(ul&3)!==0&&Wd(),ko(n),w=n.pendingLanes,(u&261930)!==0&&(w&42)!==0?n===Am?vf++:(vf=0,Am=n):vf=0,bf(0)}}function Cw(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ou(a)))}function Wd(){return Nw(),Tw(),Rw(),Ow()}function Ow(){if(bi!==5)return!1;var n=Vl,a=xm;xm=0;var u=yn(ul),d=ie.T,w=Z.p;try{Z.p=32>u?32:u,ie.T=null,u=Sm,Sm=null;var k=Vl,Y=ul;if(bi=0,Kc=Vl=null,ul=0,(Ur&6)!==0)throw Error(i(331));var ge=Ur;if(Ur|=4,fw(k.current),uw(k,k.current,Y,u),Ur=ge,bf(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(bt,k)}catch{}return!0}finally{Z.p=w,ie.T=d,Cw(n,a)}}function Lw(n,a,u){a=va(u,a),a=rm(n.stateNode,a,2),n=nr(n,a,2),n!==null&&(Tt(n,2),ko(n))}function Hr(n,a,u){if(n.tag===3)Lw(n,n,u);else for(;a!==null;){if(a.tag===3){Lw(a,n,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Wl===null||!Wl.has(d))){n=va(u,n),u=jb(2),d=nr(a,u,2),d!==null&&(Pb(u,d,a,n),Tt(d,2),ko(d));break}}a=a.return}}function Nm(n,a,u){var d=n.pingCache;if(d===null){d=n.pingCache=new uA;var w=new Set;d.set(a,w)}else w=d.get(a),w===void 0&&(w=new Set,d.set(a,w));w.has(u)||(bm=!0,w.add(u),n=pA.bind(null,n,a,u),a.then(n,n))}function pA(n,a,u){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,sn===n&&(vr&u)===u&&(In===4||In===3&&(vr&62914560)===vr&&300>qe()-Fd?(Ur&2)===0&&Yc(n,0):wm|=u,Vc===vr&&(Vc=0)),ko(n)}function jw(n,a){a===0&&(a=ea()),n=Fs(n,a),n!==null&&(Tt(n,a),ko(n))}function mA(n){var a=n.memoizedState,u=0;a!==null&&(u=a.retryLane),jw(n,u)}function gA(n,a){var u=0;switch(n.tag){case 31:case 13:var d=n.stateNode,w=n.memoizedState;w!==null&&(u=w.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),jw(n,u)}function yA(n,a){return ve(n,a)}var Vd=null,Jc=null,Tm=!1,Kd=!1,Rm=!1,Yl=0;function ko(n){n!==Jc&&n.next===null&&(Jc===null?Vd=Jc=n:Jc=Jc.next=n),Kd=!0,Tm||(Tm=!0,bA())}function bf(n,a){if(!Rm&&Kd){Rm=!0;do for(var u=!1,d=Vd;d!==null;){if(n!==0){var w=d.pendingLanes;if(w===0)var k=0;else{var Y=d.suspendedLanes,ge=d.pingedLanes;k=(1<<31-_t(42|n)+1)-1,k&=w&~(Y&~ge),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(u=!0,Iw(d,k))}else k=vr,k=Xt(d,d===sn?k:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(k&3)===0||qn(d,k)||(u=!0,Iw(d,k));d=d.next}while(u);Rm=!1}}function vA(){Pw()}function Pw(){Kd=Tm=!1;var n=0;Yl!==0&&RA()&&(n=Yl);for(var a=qe(),u=null,d=Vd;d!==null;){var w=d.next,k=Dw(d,a);k===0?(d.next=null,u===null?Vd=w:u.next=w,w===null&&(Jc=u)):(u=d,(n!==0||(k&3)!==0)&&(Kd=!0)),d=w}bi!==0&&bi!==5||bf(n),Yl!==0&&(Yl=0)}function Dw(n,a){for(var u=n.suspendedLanes,d=n.pingedLanes,w=n.expirationTimes,k=n.pendingLanes&-62914561;0<k;){var Y=31-_t(k),ge=1<<Y,Re=w[Y];Re===-1?((ge&u)===0||(ge&d)!==0)&&(w[Y]=li(ge,a)):Re<=a&&(n.expiredLanes|=ge),k&=~ge}if(a=sn,u=vr,u=Xt(n,n===a?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,u===0||n===a&&(qr===2||qr===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&xe(d),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||qn(n,u)){if(a=u&-u,a===n.callbackPriority)return a;switch(d!==null&&xe(d),yn(u)){case 2:case 8:u=at;break;case 32:u=ht;break;case 268435456:u=Rt;break;default:u=ht}return d=Bw.bind(null,n),u=ve(u,d),n.callbackPriority=a,n.callbackNode=u,a}return d!==null&&d!==null&&xe(d),n.callbackPriority=2,n.callbackNode=null,2}function Bw(n,a){if(bi!==0&&bi!==5)return n.callbackNode=null,n.callbackPriority=0,null;var u=n.callbackNode;if(Wd()&&n.callbackNode!==u)return null;var d=vr;return d=Xt(n,n===sn?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(yw(n,d,a),Dw(n,qe()),n.callbackNode!=null&&n.callbackNode===u?Bw.bind(null,n):null)}function Iw(n,a){if(Wd())return null;yw(n,a,!0)}function bA(){OA(function(){(Ur&6)!==0?ve(Ke,vA):Pw()})}function Cm(){if(Yl===0){var n=g;n===0&&(n=Ut,Ut<<=1,(Ut&261888)===0&&(Ut=256)),Yl=n}return Yl}function Uw(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wi(""+n)}function Mw(n,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,n.id&&u.setAttribute("form",n.id),a.parentNode.insertBefore(u,a),n=new FormData(n),u.parentNode.removeChild(u),n}function wA(n,a,u,d,w){if(a==="submit"&&u&&u.stateNode===w){var k=Uw((w[rn]||null).action),Y=d.submitter;Y&&(a=(a=Y[rn]||null)?Uw(a.formAction):Y.getAttribute("formAction"),a!==null&&(k=a,Y=null));var ge=new pa("action","action",null,d,w);n.push({event:ge,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Yl!==0){var Re=Y?Mw(w,Y):new FormData(w);X0(u,{pending:!0,data:Re,method:w.method,action:k},null,Re)}}else typeof k=="function"&&(ge.preventDefault(),Re=Y?Mw(w,Y):new FormData(w),X0(u,{pending:!0,data:Re,method:w.method,action:k},k,Re))},currentTarget:w}]})}}for(var Om=0;Om<Ko.length;Om++){var Lm=Ko[Om],_A=Lm.toLowerCase(),xA=Lm[0].toUpperCase()+Lm.slice(1);ga(_A,"on"+xA)}ga(Vo,"onAnimationEnd"),ga(Su,"onAnimationIteration"),ga(Vh,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(bd,"onTransitionRun"),ga(wd,"onTransitionStart"),ga(_d,"onTransitionCancel"),ga(Kh,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function Fw(n,a){a=(a&4)!==0;for(var u=0;u<n.length;u++){var d=n[u],w=d.event;d=d.listeners;e:{var k=void 0;if(a)for(var Y=d.length-1;0<=Y;Y--){var ge=d[Y],Re=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Re!==k&&w.isPropagationStopped())break e;k=ge,w.currentTarget=He;try{k(w)}catch(Xe){Au(Xe)}w.currentTarget=null,k=Re}else for(Y=0;Y<d.length;Y++){if(ge=d[Y],Re=ge.instance,He=ge.currentTarget,ge=ge.listener,Re!==k&&w.isPropagationStopped())break e;k=ge,w.currentTarget=He;try{k(w)}catch(Xe){Au(Xe)}w.currentTarget=null,k=Re}}}}function gr(n,a){var u=a[ji];u===void 0&&(u=a[ji]=new Set);var d=n+"__bubble";u.has(d)||(zw(a,n,2,!1),u.add(d))}function jm(n,a,u){var d=0;a&&(d|=4),zw(u,n,d,a)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Pm(n){if(!n[Yd]){n[Yd]=!0,_s.forEach(function(u){u!=="selectionchange"&&(SA.has(u)||jm(u,!1,n),jm(u,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Yd]||(a[Yd]=!0,jm("selectionchange",!1,a))}}function zw(n,a,u,d){switch(g2(a)){case 2:var w=JA;break;case 8:w=ZA;break;default:w=Ym}u=w.bind(null,a,u,n),w=void 0,!vu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),d?w!==void 0?n.addEventListener(a,u,{capture:!0,passive:w}):n.addEventListener(a,u,!0):w!==void 0?n.addEventListener(a,u,{passive:w}):n.addEventListener(a,u,!1)}function Dm(n,a,u,d,w){var k=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var Y=d.tag;if(Y===3||Y===4){var ge=d.stateNode.containerInfo;if(ge===w)break;if(Y===4)for(Y=d.return;Y!==null;){var Re=Y.tag;if((Re===3||Re===4)&&Y.stateNode.containerInfo===w)return;Y=Y.return}for(;ge!==null;){if(Y=na(ge),Y===null)return;if(Re=Y.tag,Re===5||Re===6||Re===26||Re===27){d=k=Y;continue e}ge=ge.parentNode}}d=d.return}vc(function(){var He=k,Xe=Fo(u),tt=[];e:{var Ge=Yh.get(n);if(Ge!==void 0){var We=pa,At=n;switch(n){case"keypress":if(da(u)===0)break e;case"keydown":case"keyup":We=wr;break;case"focusin":At="focus",We=Rs;break;case"focusout":At="blur",We=Rs;break;case"beforeblur":case"afterblur":We=Rs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Ts;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=$n;break;case Vo:case Su:case Vh:We=j;break;case Kh:We=fi;break;case"scroll":case"scrollend":We=El;break;case"wheel":We=Ba;break;case"copy":case"cut":case"paste":We=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Sn;break;case"toggle":case"beforetoggle":We=wu}var qt=(a&4)!==0,Qr=!qt&&(n==="scroll"||n==="scrollend"),Be=qt?Ge!==null?Ge+"Capture":null:Ge;qt=[];for(var Le=He,ze;Le!==null;){var et=Le;if(ze=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||ze===null||Be===null||(et=aa(Le,Be),et!=null&&qt.push(_f(Le,et,ze))),Qr)break;Le=Le.return}0<qt.length&&(Ge=new We(Ge,At,null,u,Xe),tt.push({event:Ge,listeners:qt}))}}if((a&7)===0){e:{if(Ge=n==="mouseover"||n==="pointerover",We=n==="mouseout"||n==="pointerout",Ge&&u!==Ss&&(At=u.relatedTarget||u.fromElement)&&(na(At)||At[Zn]))break e;if((We||Ge)&&(Ge=Xe.window===Xe?Xe:(Ge=Xe.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,We?(At=u.relatedTarget||u.toElement,We=He,At=At?na(At):null,At!==null&&(Qr=o(At),qt=At.tag,At!==Qr||qt!==5&&qt!==27&&qt!==6)&&(At=null)):(We=null,At=He),We!==At)){if(qt=bu,et="onMouseLeave",Be="onMouseEnter",Le="mouse",(n==="pointerout"||n==="pointerover")&&(qt=Sn,et="onPointerLeave",Be="onPointerEnter",Le="pointer"),Qr=We==null?Ge:ts(We),ze=At==null?Ge:ts(At),Ge=new qt(et,Le+"leave",We,u,Xe),Ge.target=Qr,Ge.relatedTarget=ze,et=null,na(Xe)===He&&(qt=new qt(Be,Le+"enter",At,u,Xe),qt.target=ze,qt.relatedTarget=Qr,et=qt),Qr=et,We&&At)t:{for(qt=AA,Be=We,Le=At,ze=0,et=Be;et;et=qt(et))ze++;et=0;for(var It=Le;It;It=qt(It))et++;for(;0<ze-et;)Be=qt(Be),ze--;for(;0<et-ze;)Le=qt(Le),et--;for(;ze--;){if(Be===Le||Le!==null&&Be===Le.alternate){qt=Be;break t}Be=qt(Be),Le=qt(Le)}qt=null}else qt=null;We!==null&&qw(tt,Ge,We,qt,!1),At!==null&&Qr!==null&&qw(tt,Qr,At,qt,!0)}}e:{if(Ge=He?ts(He):window,We=Ge.nodeName&&Ge.nodeName.toLowerCase(),We==="select"||We==="input"&&Ge.type==="file")var Cr=fo;else if(_u(Ge))if(Vi)Cr=us;else{Cr=An;var Ot=Cl}else We=Ge.nodeName,!We||We.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?He&&mu(He.elementType)&&(Cr=fo):Cr=xc;if(Cr&&(Cr=Cr(n,He))){oa(tt,Cr,u,Xe);break e}Ot&&Ot(n,Ge,He),n==="focusout"&&He&&Ge.type==="number"&&He.memoizedProps.value!=null&&oo(Ge,"number",Ge.value)}switch(Ot=He?ts(He):window,n){case"focusin":(_u(Ot)||Ot.contentEditable==="true")&&(la=Ot,Ms=He,_i=null);break;case"focusout":_i=Ms=la=null;break;case"mousedown":ma=!0;break;case"contextmenu":case"mouseup":case"dragend":ma=!1,Tr(tt,u,Xe);break;case"selectionchange":if(Wo)break;case"keydown":case"keyup":Tr(tt,u,Xe)}var sr;if(as)e:{switch(n){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else ss?ho(n,u)&&(br="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(br="onCompositionStart");br&&(Ls&&u.locale!=="ko"&&(ss||br!=="onCompositionStart"?br==="onCompositionEnd"&&ss&&(sr=bc()):(sa=Xe,qo="value"in sa?sa.value:sa.textContent,ss=!0)),Ot=Xd(He,br),0<Ot.length&&(br=new De(br,n,null,u,Xe),tt.push({event:br,listeners:Ot}),sr?br.data=sr:(sr=Nl(u),sr!==null&&(br.data=sr)))),(sr=Go?Di(n,u):js(n,u))&&(br=Xd(He,"onBeforeInput"),0<br.length&&(Ot=new De("onBeforeInput","beforeinput",null,u,Xe),tt.push({event:Ot,listeners:br}),Ot.data=sr)),wA(tt,n,He,u,Xe)}Fw(tt,a)})}function _f(n,a,u){return{instance:n,listener:a,currentTarget:u}}function Xd(n,a){for(var u=a+"Capture",d=[];n!==null;){var w=n,k=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||k===null||(w=aa(n,u),w!=null&&d.unshift(_f(n,w,k)),w=aa(n,a),w!=null&&d.push(_f(n,w,k))),n.tag===3)return d;n=n.return}return[]}function AA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qw(n,a,u,d,w){for(var k=a._reactName,Y=[];u!==null&&u!==d;){var ge=u,Re=ge.alternate,He=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===d)break;ge!==5&&ge!==26&&ge!==27||He===null||(Re=He,w?(He=aa(u,k),He!=null&&Y.unshift(_f(u,He,Re))):w||(He=aa(u,k),He!=null&&Y.push(_f(u,He,Re)))),u=u.return}Y.length!==0&&n.push({event:a,listeners:Y})}var EA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function Hw(n){return(typeof n=="string"?n:""+n).replace(EA,`
`).replace(kA,"")}function $w(n,a){return a=Hw(a),Hw(n)===a}function Zr(n,a,u,d,w,k){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Pa(n,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Pa(n,""+d);break;case"className":Pr(n,"class",d);break;case"tabIndex":Pr(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(n,u,d);break;case"style":mc(n,d,k);break;case"data":if(a!=="object"){Pr(n,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){n.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(u);break}d=Wi(""+d),n.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(u==="formAction"?(a!=="input"&&Zr(n,a,"name",w.name,w,null),Zr(n,a,"formEncType",w.formEncType,w,null),Zr(n,a,"formMethod",w.formMethod,w,null),Zr(n,a,"formTarget",w.formTarget,w,null)):(Zr(n,a,"encType",w.encType,w,null),Zr(n,a,"method",w.method,w,null),Zr(n,a,"target",w.target,w,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(u);break}d=Wi(""+d),n.setAttribute(u,d);break;case"onClick":d!=null&&(n.onclick=Da);break;case"onScroll":d!=null&&gr("scroll",n);break;case"onScrollEnd":d!=null&&gr("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(w.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}u=Wi(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,""+d):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":d===!0?n.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(u,d):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(u,d):n.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(u):n.setAttribute(u,d);break;case"popover":gr("beforetoggle",n),gr("toggle",n),ar(n,"popover",d);break;case"xlinkActuate":dr(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":dr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":dr(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":dr(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":dr(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":dr(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":dr(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":dr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":dr(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ar(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=gu.get(u)||u,ar(n,u,d))}}function Bm(n,a,u,d,w,k){switch(u){case"style":mc(n,d,k);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(w.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"children":typeof d=="string"?Pa(n,d):(typeof d=="number"||typeof d=="bigint")&&Pa(n,""+d);break;case"onScroll":d!=null&&gr("scroll",n);break;case"onScrollEnd":d!=null&&gr("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$e.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),a=u.slice(2,w?u.length-7:void 0),k=n[rn]||null,k=k!=null?k[u]:null,typeof k=="function"&&n.removeEventListener(a,k,w),typeof d=="function")){typeof k!="function"&&k!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(a,d,w);break e}u in n?n[u]=d:d===!0?n.setAttribute(u,""):ar(n,u,d)}}}function Fi(n,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gr("error",n),gr("load",n);var d=!1,w=!1,k;for(k in u)if(u.hasOwnProperty(k)){var Y=u[k];if(Y!=null)switch(k){case"src":d=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Zr(n,a,k,Y,u,null)}}w&&Zr(n,a,"srcSet",u.srcSet,u,null),d&&Zr(n,a,"src",u.src,u,null);return;case"input":gr("invalid",n);var ge=k=Y=w=null,Re=null,He=null;for(d in u)if(u.hasOwnProperty(d)){var Xe=u[d];if(Xe!=null)switch(d){case"name":w=Xe;break;case"type":Y=Xe;break;case"checked":Re=Xe;break;case"defaultChecked":He=Xe;break;case"value":k=Xe;break;case"defaultValue":ge=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(i(137,a));break;default:Zr(n,a,d,Xe,u,null)}}xs(n,k,ge,Re,He,Y,w,!1);return;case"select":gr("invalid",n),d=Y=k=null;for(w in u)if(u.hasOwnProperty(w)&&(ge=u[w],ge!=null))switch(w){case"value":k=ge;break;case"defaultValue":Y=ge;break;case"multiple":d=ge;default:Zr(n,a,w,ge,u,null)}a=k,u=Y,n.multiple=!!d,a!=null?Qn(n,!!d,a,!1):u!=null&&Qn(n,!!d,u,!0);return;case"textarea":gr("invalid",n),k=w=d=null;for(Y in u)if(u.hasOwnProperty(Y)&&(ge=u[Y],ge!=null))switch(Y){case"value":d=ge;break;case"defaultValue":w=ge;break;case"children":k=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(91));break;default:Zr(n,a,Y,ge,u,null)}pu(n,d,w,k);return;case"option":for(Re in u)u.hasOwnProperty(Re)&&(d=u[Re],d!=null)&&(Re==="selected"?n.selected=d&&typeof d!="function"&&typeof d!="symbol":Zr(n,a,Re,d,u,null));return;case"dialog":gr("beforetoggle",n),gr("toggle",n),gr("cancel",n),gr("close",n);break;case"iframe":case"object":gr("load",n);break;case"video":case"audio":for(d=0;d<wf.length;d++)gr(wf[d],n);break;case"image":gr("error",n),gr("load",n);break;case"details":gr("toggle",n);break;case"embed":case"source":case"link":gr("error",n),gr("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in u)if(u.hasOwnProperty(He)&&(d=u[He],d!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Zr(n,a,He,d,u,null)}return;default:if(mu(a)){for(Xe in u)u.hasOwnProperty(Xe)&&(d=u[Xe],d!==void 0&&Bm(n,a,Xe,d,u,void 0));return}}for(ge in u)u.hasOwnProperty(ge)&&(d=u[ge],d!=null&&Zr(n,a,ge,d,u,null))}function NA(n,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,k=null,Y=null,ge=null,Re=null,He=null,Xe=null;for(We in u){var tt=u[We];if(u.hasOwnProperty(We)&&tt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Re=tt;default:d.hasOwnProperty(We)||Zr(n,a,We,null,d,tt)}}for(var Ge in d){var We=d[Ge];if(tt=u[Ge],d.hasOwnProperty(Ge)&&(We!=null||tt!=null))switch(Ge){case"type":k=We;break;case"name":w=We;break;case"checked":He=We;break;case"defaultChecked":Xe=We;break;case"value":Y=We;break;case"defaultValue":ge=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,a));break;default:We!==tt&&Zr(n,a,Ge,We,d,tt)}}Pi(n,Y,ge,Re,He,Xe,k,w);return;case"select":We=Y=ge=Ge=null;for(k in u)if(Re=u[k],u.hasOwnProperty(k)&&Re!=null)switch(k){case"value":break;case"multiple":We=Re;default:d.hasOwnProperty(k)||Zr(n,a,k,null,d,Re)}for(w in d)if(k=d[w],Re=u[w],d.hasOwnProperty(w)&&(k!=null||Re!=null))switch(w){case"value":Ge=k;break;case"defaultValue":ge=k;break;case"multiple":Y=k;default:k!==Re&&Zr(n,a,w,k,d,Re)}a=ge,u=Y,d=We,Ge!=null?Qn(n,!!u,Ge,!1):!!d!=!!u&&(a!=null?Qn(n,!!u,a,!0):Qn(n,!!u,u?[]:"",!1));return;case"textarea":We=Ge=null;for(ge in u)if(w=u[ge],u.hasOwnProperty(ge)&&w!=null&&!d.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:Zr(n,a,ge,null,d,w)}for(Y in d)if(w=d[Y],k=u[Y],d.hasOwnProperty(Y)&&(w!=null||k!=null))switch(Y){case"value":Ge=w;break;case"defaultValue":We=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==k&&Zr(n,a,Y,w,d,k)}lo(n,Ge,We);return;case"option":for(var At in u)Ge=u[At],u.hasOwnProperty(At)&&Ge!=null&&!d.hasOwnProperty(At)&&(At==="selected"?n.selected=!1:Zr(n,a,At,null,d,Ge));for(Re in d)Ge=d[Re],We=u[Re],d.hasOwnProperty(Re)&&Ge!==We&&(Ge!=null||We!=null)&&(Re==="selected"?n.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol":Zr(n,a,Re,Ge,d,We));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in u)Ge=u[qt],u.hasOwnProperty(qt)&&Ge!=null&&!d.hasOwnProperty(qt)&&Zr(n,a,qt,null,d,Ge);for(He in d)if(Ge=d[He],We=u[He],d.hasOwnProperty(He)&&Ge!==We&&(Ge!=null||We!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(i(137,a));break;default:Zr(n,a,He,Ge,d,We)}return;default:if(mu(a)){for(var Qr in u)Ge=u[Qr],u.hasOwnProperty(Qr)&&Ge!==void 0&&!d.hasOwnProperty(Qr)&&Bm(n,a,Qr,void 0,d,Ge);for(Xe in d)Ge=d[Xe],We=u[Xe],!d.hasOwnProperty(Xe)||Ge===We||Ge===void 0&&We===void 0||Bm(n,a,Xe,Ge,d,We);return}}for(var Be in u)Ge=u[Be],u.hasOwnProperty(Be)&&Ge!=null&&!d.hasOwnProperty(Be)&&Zr(n,a,Be,null,d,Ge);for(tt in d)Ge=d[tt],We=u[tt],!d.hasOwnProperty(tt)||Ge===We||Ge==null&&We==null||Zr(n,a,tt,Ge,d,We)}function Gw(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var w=u[d],k=w.transferSize,Y=w.initiatorType,ge=w.duration;if(k&&ge&&Gw(Y)){for(Y=0,ge=w.responseEnd,d+=1;d<u.length;d++){var Re=u[d],He=Re.startTime;if(He>ge)break;var Xe=Re.transferSize,tt=Re.initiatorType;Xe&&Gw(tt)&&(Re=Re.responseEnd,Y+=Xe*(Re<ge?1:(ge-He)/(Re-He)))}if(--d,a+=8*(k+Y)/(w.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Im=null,Um=null;function Jd(n){return n.nodeType===9?n:n.ownerDocument}function Ww(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vw(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Mm(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Fm=null;function RA(){var n=window.event;return n&&n.type==="popstate"?n===Fm?!1:(Fm=n,!0):(Fm=null,!1)}var Kw=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(n){return Yw.resolve(null).then(n).catch(LA)}:Kw;function LA(n){setTimeout(function(){throw n})}function Xl(n){return n==="head"}function Xw(n,a){var u=a,d=0;do{var w=u.nextSibling;if(n.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"||u==="/&"){if(d===0){n.removeChild(w),th(a);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")xf(n.ownerDocument.documentElement);else if(u==="head"){u=n.ownerDocument.head,xf(u);for(var k=u.firstChild;k;){var Y=k.nextSibling,ge=k.nodeName;k[ra]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&k.rel.toLowerCase()==="stylesheet"||u.removeChild(k),k=Y}}else u==="body"&&xf(n.ownerDocument.body);u=w}while(u);th(a)}function Jw(n,a){var u=n;n=0;do{var d=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(n===0)break;n--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||n++;u=d}while(u)}function zm(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":zm(u),es(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function jA(n,a,u,d){for(;n.nodeType===1;){var w=u;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[ra])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(k=n.getAttribute("rel"),k==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(k!==w.rel||n.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||n.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||n.getAttribute("title")!==(w.title==null?null:w.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(k=n.getAttribute("src"),(k!==(w.src==null?null:w.src)||n.getAttribute("type")!==(w.type==null?null:w.type)||n.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&k&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var k=w.name==null?null:""+w.name;if(w.type==="hidden"&&n.getAttribute("name")===k)return n}else return n;if(n=gs(n.nextSibling),n===null)break}return null}function PA(n,a,u){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=gs(n.nextSibling),n===null))return null;return n}function Zw(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=gs(n.nextSibling),n===null))return null;return n}function qm(n){return n.data==="$?"||n.data==="$~"}function Hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function DA(n,a){var u=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||u.readyState!=="loading")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function gs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var $m=null;function Qw(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"||u==="/&"){if(a===0)return gs(n.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}n=n.nextSibling}return null}function e2(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return n;a--}else u!=="/$"&&u!=="/&"||a++}n=n.previousSibling}return null}function t2(n,a,u){switch(a=Jd(u),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function xf(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);es(n)}var ys=new Map,r2=new Set;function Zd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cl=Z.d;Z.d={f:BA,r:IA,D:UA,C:MA,L:FA,m:zA,X:HA,S:qA,M:$A};function BA(){var n=cl.f(),a=Hd();return n||a}function IA(n){var a=ia(n);a!==null&&a.tag===5&&a.type==="form"?bb(a):cl.r(n)}var Zc=typeof document>"u"?null:document;function n2(n,a,u){var d=Zc;if(d&&typeof a=="string"&&a){var w=Mr(a);w='link[rel="'+n+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),r2.has(w)||(r2.add(w),n={rel:n,crossOrigin:u,href:a},d.querySelector(w)===null&&(a=d.createElement("link"),Fi(a,"link",n),un(a),d.head.appendChild(a)))}}function UA(n){cl.D(n),n2("dns-prefetch",n,null)}function MA(n,a){cl.C(n,a),n2("preconnect",n,a)}function FA(n,a,u){cl.L(n,a,u);var d=Zc;if(d&&n&&a){var w='link[rel="preload"][as="'+Mr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+Mr(u.imageSizes)+'"]')):w+='[href="'+Mr(n)+'"]';var k=w;switch(a){case"style":k=Qc(n);break;case"script":k=eh(n)}ys.has(k)||(n=y({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:n,as:a},u),ys.set(k,n),d.querySelector(w)!==null||a==="style"&&d.querySelector(Sf(k))||a==="script"&&d.querySelector(Af(k))||(a=d.createElement("link"),Fi(a,"link",n),un(a),d.head.appendChild(a)))}}function zA(n,a){cl.m(n,a);var u=Zc;if(u&&n){var d=a&&typeof a.as=="string"?a.as:"script",w='link[rel="modulepreload"][as="'+Mr(d)+'"][href="'+Mr(n)+'"]',k=w;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=eh(n)}if(!ys.has(k)&&(n=y({rel:"modulepreload",href:n},a),ys.set(k,n),u.querySelector(w)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Af(k)))return}d=u.createElement("link"),Fi(d,"link",n),un(d),u.head.appendChild(d)}}}function qA(n,a,u){cl.S(n,a,u);var d=Zc;if(d&&n){var w=fa(d).hoistableStyles,k=Qc(n);a=a||"default";var Y=w.get(k);if(!Y){var ge={loading:0,preload:null};if(Y=d.querySelector(Sf(k)))ge.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},u),(u=ys.get(k))&&Gm(n,u);var Re=Y=d.createElement("link");un(Re),Fi(Re,"link",n),Re._p=new Promise(function(He,Xe){Re.onload=He,Re.onerror=Xe}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Qd(Y,a,d)}Y={type:"stylesheet",instance:Y,count:1,state:ge},w.set(k,Y)}}}function HA(n,a){cl.X(n,a);var u=Zc;if(u&&n){var d=fa(u).hoistableScripts,w=eh(n),k=d.get(w);k||(k=u.querySelector(Af(w)),k||(n=y({src:n,async:!0},a),(a=ys.get(w))&&Wm(n,a),k=u.createElement("script"),un(k),Fi(k,"link",n),u.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},d.set(w,k))}}function $A(n,a){cl.M(n,a);var u=Zc;if(u&&n){var d=fa(u).hoistableScripts,w=eh(n),k=d.get(w);k||(k=u.querySelector(Af(w)),k||(n=y({src:n,async:!0,type:"module"},a),(a=ys.get(w))&&Wm(n,a),k=u.createElement("script"),un(k),Fi(k,"link",n),u.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},d.set(w,k))}}function i2(n,a,u,d){var w=(w=ae.current)?Zd(w):null;if(!w)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Qc(u.href),u=fa(w).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=Qc(u.href);var k=fa(w).hoistableStyles,Y=k.get(n);if(Y||(w=w.ownerDocument||w,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(n,Y),(k=w.querySelector(Sf(n)))&&!k._p&&(Y.instance=k,Y.state.loading=5),ys.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ys.set(n,u),k||GA(w,n,u,Y.state))),a&&d===null)throw Error(i(528,""));return Y}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=eh(u),u=fa(w).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Qc(n){return'href="'+Mr(n)+'"'}function Sf(n){return'link[rel="stylesheet"]['+n+"]"}function a2(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function GA(n,a,u,d){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=n.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Fi(a,"link",u),un(a),n.head.appendChild(a))}function eh(n){return'[src="'+Mr(n)+'"]'}function Af(n){return"script[async]"+n}function s2(n,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=n.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(d)return a.instance=d,un(d),d;var w=y({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),un(d),Fi(d,"style",w),Qd(d,u.precedence,n),a.instance=d;case"stylesheet":w=Qc(u.href);var k=n.querySelector(Sf(w));if(k)return a.state.loading|=4,a.instance=k,un(k),k;d=a2(u),(w=ys.get(w))&&Gm(d,w),k=(n.ownerDocument||n).createElement("link"),un(k);var Y=k;return Y._p=new Promise(function(ge,Re){Y.onload=ge,Y.onerror=Re}),Fi(k,"link",d),a.state.loading|=4,Qd(k,u.precedence,n),a.instance=k;case"script":return k=eh(u.src),(w=n.querySelector(Af(k)))?(a.instance=w,un(w),w):(d=u,(w=ys.get(k))&&(d=y({},u),Wm(d,w)),n=n.ownerDocument||n,w=n.createElement("script"),un(w),Fi(w,"link",d),n.head.appendChild(w),a.instance=w);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Qd(d,u.precedence,n));return a.instance}function Qd(n,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=d.length?d[d.length-1]:null,k=w,Y=0;Y<d.length;Y++){var ge=d[Y];if(ge.dataset.precedence===a)k=ge;else if(k!==w)break}k?k.parentNode.insertBefore(n,k.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(n,a.firstChild))}function Gm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Wm(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var ep=null;function o2(n,a,u){if(ep===null){var d=new Map,w=ep=new Map;w.set(u,d)}else w=ep,d=w.get(u),d||(d=new Map,w.set(u,d));if(d.has(n))return d;for(d.set(n,null),u=u.getElementsByTagName(n),w=0;w<u.length;w++){var k=u[w];if(!(k[ra]||k[jr]||n==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=k.getAttribute(a)||"";Y=n+Y;var ge=d.get(Y);ge?ge.push(k):d.set(Y,[k])}}return d}function l2(n,a,u){n=n.ownerDocument||n,n.head.insertBefore(u,a==="title"?n.querySelector("head > title"):null)}function WA(n,a,u){if(u===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(n=a.disabled,typeof a.precedence=="string"&&n==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function u2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function VA(n,a,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=Qc(d.href),k=a.querySelector(Sf(w));if(k){a=k._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=tp.bind(n),a.then(n,n)),u.state.loading|=4,u.instance=k,un(k);return}k=a.ownerDocument||a,d=a2(d),(w=ys.get(w))&&Gm(d,w),k=k.createElement("link"),un(k);var Y=k;Y._p=new Promise(function(ge,Re){Y.onload=ge,Y.onerror=Re}),Fi(k,"link",d),u.instance=k}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(n.count++,u=tp.bind(n),a.addEventListener("load",u),a.addEventListener("error",u))}}var Vm=0;function KA(n,a){return n.stylesheets&&n.count===0&&np(n,n.stylesheets),0<n.count||0<n.imgCount?function(u){var d=setTimeout(function(){if(n.stylesheets&&np(n,n.stylesheets),n.unsuspend){var k=n.unsuspend;n.unsuspend=null,k()}},6e4+a);0<n.imgBytes&&Vm===0&&(Vm=62500*TA());var w=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&np(n,n.stylesheets),n.unsuspend)){var k=n.unsuspend;n.unsuspend=null,k()}},(n.imgBytes>Vm?50:800)+a);return n.unsuspend=u,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(w)}}:null}function tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rp=null;function np(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rp=new Map,a.forEach(YA,n),rp=null,tp.call(n))}function YA(n,a){if(!(a.state.loading&4)){var u=rp.get(n);if(u)var d=u.get(null);else{u=new Map,rp.set(n,u);for(var w=n.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<w.length;k++){var Y=w[k];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(u.set(Y.dataset.precedence,Y),d=Y)}d&&u.set(null,d)}w=a.instance,Y=w.getAttribute("data-precedence"),k=u.get(Y)||d,k===d&&u.set(null,w),u.set(Y,w),this.count++,d=tp.bind(this),w.addEventListener("load",d),w.addEventListener("error",d),k?k.parentNode.insertBefore(w,k.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(w,n.firstChild)),a.state.loading|=4}}var Ef={$$typeof:N,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function XA(n,a,u,d,w,k,Y,ge,Re){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=d,this.onUncaughtError=w,this.onCaughtError=k,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function c2(n,a,u,d,w,k,Y,ge,Re,He,Xe,tt){return n=new XA(n,a,u,Y,Re,He,Xe,tt,ge),a=1,k===!0&&(a|=24),k=Si(3,null,null,a),n.current=k,k.stateNode=n,a=Ul(),a.refCount++,n.pooledCache=a,a.refCount++,k.memoizedState={element:d,isDehydrated:u,cache:a},ft(k),n}function h2(n){return n?(n=pi,n):pi}function f2(n,a,u,d,w,k){w=h2(w),d.context===null?d.context=w:d.pendingContext=w,d=zt(a),d.payload={element:u},k=k===void 0?null:k,k!==null&&(d.callback=k),u=nr(n,d,a),u!==null&&(Ra(u,n,a),Br(u,n,a))}function d2(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<a?u:a}}function Km(n,a){d2(n,a),(n=n.alternate)&&d2(n,a)}function p2(n){if(n.tag===13||n.tag===31){var a=Fs(n,67108864);a!==null&&Ra(a,n,67108864),Km(n,67108864)}}function m2(n){if(n.tag===13||n.tag===31){var a=$a();a=Wr(a);var u=Fs(n,a);u!==null&&Ra(u,n,a),Km(n,a)}}var ip=!0;function JA(n,a,u,d){var w=ie.T;ie.T=null;var k=Z.p;try{Z.p=2,Ym(n,a,u,d)}finally{Z.p=k,ie.T=w}}function ZA(n,a,u,d){var w=ie.T;ie.T=null;var k=Z.p;try{Z.p=8,Ym(n,a,u,d)}finally{Z.p=k,ie.T=w}}function Ym(n,a,u,d){if(ip){var w=Xm(d);if(w===null)Dm(n,a,d,ap,u),y2(n,d);else if(eE(w,n,a,u,d))d.stopPropagation();else if(y2(n,d),a&4&&-1<QA.indexOf(n)){for(;w!==null;){var k=ia(w);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var Y=gt(k.pendingLanes);if(Y!==0){var ge=k;for(ge.pendingLanes|=2,ge.entangledLanes|=2;Y;){var Re=1<<31-_t(Y);ge.entanglements[1]|=Re,Y&=~Re}ko(k),(Ur&6)===0&&(zd=qe()+500,bf(0))}}break;case 31:case 13:ge=Fs(k,2),ge!==null&&Ra(ge,k,2),Hd(),Km(k,2)}if(k=Xm(d),k===null&&Dm(n,a,d,ap,u),k===w)break;w=k}w!==null&&d.stopPropagation()}else Dm(n,a,d,null,u)}}function Xm(n){return n=Fo(n),Jm(n)}var ap=null;function Jm(n){if(ap=null,n=na(n),n!==null){var a=o(n);if(a===null)n=null;else{var u=a.tag;if(u===13){if(n=c(a),n!==null)return n;n=null}else if(u===31){if(n=l(a),n!==null)return n;n=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return ap=n,null}function g2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case Ke:return 2;case at:return 8;case ht:case dt:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Zm=!1,Jl=null,Zl=null,Ql=null,kf=new Map,Nf=new Map,eu=[],QA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y2(n,a){switch(n){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":kf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(a.pointerId)}}function Tf(n,a,u,d,w,k){return n===null||n.nativeEvent!==k?(n={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:k,targetContainers:[w]},a!==null&&(a=ia(a),a!==null&&p2(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),n)}function eE(n,a,u,d,w){switch(a){case"focusin":return Jl=Tf(Jl,n,a,u,d,w),!0;case"dragenter":return Zl=Tf(Zl,n,a,u,d,w),!0;case"mouseover":return Ql=Tf(Ql,n,a,u,d,w),!0;case"pointerover":var k=w.pointerId;return kf.set(k,Tf(kf.get(k)||null,n,a,u,d,w)),!0;case"gotpointercapture":return k=w.pointerId,Nf.set(k,Tf(Nf.get(k)||null,n,a,u,d,w)),!0}return!1}function v2(n){var a=na(n.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){n.blockedOn=a,Za(n.priority,function(){m2(u)});return}}else if(a===31){if(a=l(u),a!==null){n.blockedOn=a,Za(n.priority,function(){m2(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sp(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var u=Xm(n.nativeEvent);if(u===null){u=n.nativeEvent;var d=new u.constructor(u.type,u);Ss=d,u.target.dispatchEvent(d),Ss=null}else return a=ia(u),a!==null&&p2(a),n.blockedOn=u,!1;a.shift()}return!0}function b2(n,a,u){sp(n)&&u.delete(a)}function tE(){Zm=!1,Jl!==null&&sp(Jl)&&(Jl=null),Zl!==null&&sp(Zl)&&(Zl=null),Ql!==null&&sp(Ql)&&(Ql=null),kf.forEach(b2),Nf.forEach(b2)}function op(n,a){n.blockedOn===a&&(n.blockedOn=null,Zm||(Zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tE)))}var lp=null;function w2(n){lp!==n&&(lp=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lp===n&&(lp=null);for(var a=0;a<n.length;a+=3){var u=n[a],d=n[a+1],w=n[a+2];if(typeof d!="function"){if(Jm(d||u)===null)continue;break}var k=ia(u);k!==null&&(n.splice(a,3),a-=3,X0(k,{pending:!0,data:w,method:u.method,action:d},d,w))}}))}function th(n){function a(Re){return op(Re,n)}Jl!==null&&op(Jl,n),Zl!==null&&op(Zl,n),Ql!==null&&op(Ql,n),kf.forEach(a),Nf.forEach(a);for(var u=0;u<eu.length;u++){var d=eu[u];d.blockedOn===n&&(d.blockedOn=null)}for(;0<eu.length&&(u=eu[0],u.blockedOn===null);)v2(u),u.blockedOn===null&&eu.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var w=u[d],k=u[d+1],Y=w[rn]||null;if(typeof k=="function")Y||w2(u);else if(Y){var ge=null;if(k&&k.hasAttribute("formAction")){if(w=k,Y=k[rn]||null)ge=Y.formAction;else if(Jm(w)!==null)continue}else ge=Y.action;typeof ge=="function"?u[d+1]=ge:(u.splice(d,3),d-=3),w2(u)}}}function _2(){function n(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(Y){return w=Y})},focusReset:"manual",scroll:"manual"})}function a(){w!==null&&(w(),w=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,w=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),w!==null&&(w(),w=null)}}}function Qm(n){this._internalRoot=n}up.prototype.render=Qm.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=$a();f2(u,d,n,a,null,null)},up.prototype.unmount=Qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;f2(n.current,2,null,n,null,null),Hd(),a[Zn]=null}};function up(n){this._internalRoot=n}up.prototype.unstable_scheduleHydration=function(n){if(n){var a=Rn();n={blockedOn:null,target:n,priority:a};for(var u=0;u<eu.length&&a!==0&&a<eu[u].priority;u++);eu.splice(u,0,n),u===0&&v2(n)}};var x2=e.version;if(x2!=="19.2.3")throw Error(i(527,x2,"19.2.3"));Z.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var rE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{bt=cp.inject(rE),Je=cp}catch{}}return Cf.createRoot=function(n,a){if(!s(n))throw Error(i(299));var u=!1,d="",w=Rb,k=Cb,Y=Ob;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(w=a.onUncaughtError),a.onCaughtError!==void 0&&(k=a.onCaughtError),a.onRecoverableError!==void 0&&(Y=a.onRecoverableError)),a=c2(n,1,!1,null,null,u,d,null,w,k,Y,_2),n[Zn]=a.current,Pm(n),new Qm(a)},Cf.hydrateRoot=function(n,a,u){if(!s(n))throw Error(i(299));var d=!1,w="",k=Rb,Y=Cb,ge=Ob,Re=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(k=u.onUncaughtError),u.onCaughtError!==void 0&&(Y=u.onCaughtError),u.onRecoverableError!==void 0&&(ge=u.onRecoverableError),u.formState!==void 0&&(Re=u.formState)),a=c2(n,1,!0,a,u??null,d,w,Re,k,Y,ge,_2),a.context=h2(null),u=a.current,d=$a(),d=Wr(d),w=zt(d),w.callback=null,nr(u,w,d),u=d,a.current.lanes=u,Tt(a,u),ko(a),n[Zn]=a.current,Pm(n),new up(a)},Cf.version="19.2.3",Cf}var L2;function dE(){if(L2)return rg.exports;L2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rg.exports=fE(),rg.exports}var pE=dE();const mE=r3(pE);n3();function Xf(){return Xf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Xf.apply(this,arguments)}var uu;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(uu||(uu={}));const j2="popstate";function gE(r){r===void 0&&(r={});function e(i,s){let{pathname:o,search:c,hash:l}=i.location;return Oy("",{pathname:o,search:c,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:i3(s)}return vE(e,t,null,r)}function oi(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _v(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yE(){return Math.random().toString(36).substr(2,8)}function P2(r,e){return{usr:r.state,key:r.key,idx:e}}function Oy(r,e,t,i){return t===void 0&&(t=null),Xf({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Hh(e):e,{state:t,key:e&&e.key||i||yE()})}function i3(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Hh(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function vE(r,e,t,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,l=uu.Pop,h=null,f=p();f==null&&(f=0,c.replaceState(Xf({},c.state,{idx:f}),""));function p(){return(c.state||{idx:null}).idx}function y(){l=uu.Pop;let E=p(),v=E==null?null:E-f;f=E,h&&h({action:l,location:_.location,delta:v})}function b(E,v){l=uu.Push;let C=Oy(_.location,E,v);f=p()+1;let N=P2(C,f),S=_.createHref(C);try{c.pushState(N,"",S)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(S)}o&&h&&h({action:l,location:_.location,delta:1})}function m(E,v){l=uu.Replace;let C=Oy(_.location,E,v);f=p();let N=P2(C,f),S=_.createHref(C);c.replaceState(N,"",S),o&&h&&h({action:l,location:_.location,delta:0})}function A(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof E=="string"?E:i3(E);return C=C.replace(/ $/,"%20"),oi(v,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,v)}let _={get action(){return l},get location(){return r(s,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(j2,y),h=E,()=>{s.removeEventListener(j2,y),h=null}},createHref(E){return e(s,E)},createURL:A,encodeLocation(E){let v=A(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:b,replace:m,go(E){return c.go(E)}};return _}var D2;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(D2||(D2={}));function bE(r,e,t){return t===void 0&&(t="/"),wE(r,e,t)}function wE(r,e,t,i){let s=typeof e=="string"?Hh(e):e,o=o3(s.pathname||"/",t);if(o==null)return null;let c=a3(r);_E(c);let l=null;for(let h=0;l==null&&h<c.length;++h){let f=jE(o);l=CE(c[h],f)}return l}function a3(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let s=(o,c,l)=>{let h={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(oi(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=Zu([i,h.relativePath]),p=t.concat(h);o.children&&o.children.length>0&&(oi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),a3(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:TE(f,o.index),routesMeta:p})};return r.forEach((o,c)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,c);else for(let h of s3(o.path))s(o,c,h)}),e}function s3(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=s3(i.join("/")),l=[];return l.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&l.push(...c),l.map(h=>r.startsWith("/")&&h===""?"/":h)}function _E(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:RE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const xE=/^:[\w-]+$/,SE=3,AE=2,EE=1,kE=10,NE=-2,B2=r=>r==="*";function TE(r,e){let t=r.split("/"),i=t.length;return t.some(B2)&&(i+=NE),e&&(i+=AE),t.filter(s=>!B2(s)).reduce((s,o)=>s+(xE.test(o)?SE:o===""?EE:kE),i)}function RE(r,e){return r.length===e.length&&r.slice(0,-1).every((i,s)=>i===e[s])?r[r.length-1]-e[e.length-1]:0}function CE(r,e,t){let{routesMeta:i}=r,s={},o="/",c=[];for(let l=0;l<i.length;++l){let h=i[l],f=l===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=OE({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:Zu([o,y.pathname]),pathnameBase:UE(Zu([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=Zu([o,y.pathnameBase]))}return c}function OE(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=LE(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((f,p,y)=>{let{paramName:b,isOptional:m}=p;if(b==="*"){let _=l[y]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const A=l[y];return m&&!A?f[b]=void 0:f[b]=(A||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:r}}function LE(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_v(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,h)=>(i.push({paramName:l,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function jE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _v(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function o3(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}const PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DE=r=>PE.test(r);function BE(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:s=""}=typeof r=="string"?Hh(r):r,o;if(t)if(DE(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),_v(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?o=I2(t.substring(1),"/"):o=I2(t,e)}else o=e;return{pathname:o,search:ME(i),hash:FE(s)}}function I2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sg(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function l3(r,e){let t=IE(r);return e?t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function u3(r,e,t,i){i===void 0&&(i=!1);let s;typeof r=="string"?s=Hh(r):(s=Xf({},r),oi(!s.pathname||!s.pathname.includes("?"),sg("?","pathname","search",s)),oi(!s.pathname||!s.pathname.includes("#"),sg("#","pathname","hash",s)),oi(!s.search||!s.search.includes("#"),sg("#","search","hash",s)));let o=r===""||s.pathname==="",c=o?"/":s.pathname,l;if(c==null)l=t;else{let y=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}l=y>=0?e[y]:"/"}let h=BE(s,l),f=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const Zu=r=>r.join("/").replace(/\/\/+/g,"/"),UE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ME=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const c3=["post","put","patch","delete"];new Set(c3);const qE=["get",...c3];new Set(qE);function Jf(){return Jf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Jf.apply(this,arguments)}const xv=Ne.createContext(null),HE=Ne.createContext(null),od=Ne.createContext(null),v0=Ne.createContext(null),oc=Ne.createContext({outlet:null,matches:[],isDataRoute:!1}),h3=Ne.createContext(null);function ld(){return Ne.useContext(v0)!=null}function ud(){return ld()||oi(!1),Ne.useContext(v0).location}function f3(r){Ne.useContext(od).static||Ne.useLayoutEffect(r)}function Ja(){let{isDataRoute:r}=Ne.useContext(oc);return r?r8():$E()}function $E(){ld()||oi(!1);let r=Ne.useContext(xv),{basename:e,future:t,navigator:i}=Ne.useContext(od),{matches:s}=Ne.useContext(oc),{pathname:o}=ud(),c=JSON.stringify(l3(s,t.v7_relativeSplatPath)),l=Ne.useRef(!1);return f3(()=>{l.current=!0}),Ne.useCallback(function(f,p){if(p===void 0&&(p={}),!l.current)return;if(typeof f=="number"){i.go(f);return}let y=u3(f,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Zu([e,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[e,i,c,o,r])}function GE(r,e){return WE(r,e)}function WE(r,e,t,i){ld()||oi(!1);let{navigator:s}=Ne.useContext(od),{matches:o}=Ne.useContext(oc),c=o[o.length-1],l=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let f=ud(),p;if(e){var y;let E=typeof e=="string"?Hh(e):e;h==="/"||(y=E.pathname)!=null&&y.startsWith(h)||oi(!1),p=E}else p=f;let b=p.pathname||"/",m=b;if(h!=="/"){let E=h.replace(/^\//,"").split("/");m="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=bE(r,{pathname:m}),_=JE(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Zu([h,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Zu([h,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,t,i);return e&&_?Ne.createElement(v0.Provider,{value:{location:Jf({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:uu.Pop}},_):_}function VE(){let r=t8(),e=zE(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ne.createElement(Ne.Fragment,null,Ne.createElement("h2",null,"Unexpected Application Error!"),Ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ne.createElement("pre",{style:s},t):null,null)}const KE=Ne.createElement(VE,null);class YE extends Ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?Ne.createElement(oc.Provider,{value:this.props.routeContext},Ne.createElement(h3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XE(r){let{routeContext:e,match:t,children:i}=r,s=Ne.useContext(xv);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Ne.createElement(oc.Provider,{value:e},i)}function JE(r,e,t,i){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,l=(s=t)==null?void 0:s.errors;if(l!=null){let p=c.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);p>=0||oi(!1),c=c.slice(0,Math.min(c.length,p+1))}let h=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:b,errors:m}=t,A=y.route.loader&&b[y.route.id]===void 0&&(!m||m[y.route.id]===void 0);if(y.route.lazy||A){h=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((p,y,b)=>{let m,A=!1,_=null,E=null;t&&(m=l&&y.route.id?l[y.route.id]:void 0,_=y.route.errorElement||KE,h&&(f<0&&b===0?(n8("route-fallback"),A=!0,E=null):f===b&&(A=!0,E=y.route.hydrateFallbackElement||null)));let v=e.concat(c.slice(0,b+1)),C=()=>{let N;return m?N=_:A?N=E:y.route.Component?N=Ne.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=p,Ne.createElement(XE,{match:y,routeContext:{outlet:p,matches:v,isDataRoute:t!=null},children:N})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?Ne.createElement(YE,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):C()},null)}var d3=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(d3||{}),p3=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(p3||{});function ZE(r){let e=Ne.useContext(xv);return e||oi(!1),e}function QE(r){let e=Ne.useContext(HE);return e||oi(!1),e}function e8(r){let e=Ne.useContext(oc);return e||oi(!1),e}function m3(r){let e=e8(),t=e.matches[e.matches.length-1];return t.route.id||oi(!1),t.route.id}function t8(){var r;let e=Ne.useContext(h3),t=QE(),i=m3();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function r8(){let{router:r}=ZE(d3.UseNavigateStable),e=m3(p3.UseNavigateStable),t=Ne.useRef(!1);return f3(()=>{t.current=!0}),Ne.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?r.navigate(s):r.navigate(s,Jf({fromRouteId:e},o)))},[r,e])}const U2={};function n8(r,e,t){U2[r]||(U2[r]=!0)}function i8(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function a8(r){let{to:e,replace:t,state:i,relative:s}=r;ld()||oi(!1);let{future:o,static:c}=Ne.useContext(od),{matches:l}=Ne.useContext(oc),{pathname:h}=ud(),f=Ja(),p=u3(e,l3(l,o.v7_relativeSplatPath),h,s==="path"),y=JSON.stringify(p);return Ne.useEffect(()=>f(JSON.parse(y),{replace:t,state:i,relative:s}),[f,y,s,t,i]),null}function Xs(r){oi(!1)}function s8(r){let{basename:e="/",children:t=null,location:i,navigationType:s=uu.Pop,navigator:o,static:c=!1,future:l}=r;ld()&&oi(!1);let h=e.replace(/^\/*/,"/"),f=Ne.useMemo(()=>({basename:h,navigator:o,static:c,future:Jf({v7_relativeSplatPath:!1},l)}),[h,l,o,c]);typeof i=="string"&&(i=Hh(i));let{pathname:p="/",search:y="",hash:b="",state:m=null,key:A="default"}=i,_=Ne.useMemo(()=>{let E=o3(p,h);return E==null?null:{location:{pathname:E,search:y,hash:b,state:m,key:A},navigationType:s}},[h,p,y,b,m,A,s]);return _==null?null:Ne.createElement(od.Provider,{value:f},Ne.createElement(v0.Provider,{children:t,value:_}))}function o8(r){let{children:e,location:t}=r;return GE(Ly(e),t)}new Promise(()=>{});function Ly(r,e){e===void 0&&(e=[]);let t=[];return Ne.Children.forEach(r,(i,s)=>{if(!Ne.isValidElement(i))return;let o=[...e,s];if(i.type===Ne.Fragment){t.push.apply(t,Ly(i.props.children,o));return}i.type!==Xs&&oi(!1),!i.props.index||!i.props.children||oi(!1);let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ly(i.props.children,o)),t.push(c)}),t}function jy(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let i=r[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function l8(r,e){let t=jy(r);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}const u8="6";try{window.__reactRouterVersion=u8}catch{}const c8="startTransition",M2=lE[c8];function h8(r){let{basename:e,children:t,future:i,window:s}=r,o=Ne.useRef();o.current==null&&(o.current=gE({window:s,v5Compat:!0}));let c=o.current,[l,h]=Ne.useState({action:c.action,location:c.location}),{v7_startTransition:f}=i||{},p=Ne.useCallback(y=>{f&&M2?M2(()=>h(y)):h(y)},[h,f]);return Ne.useLayoutEffect(()=>c.listen(p),[c,p]),Ne.useEffect(()=>i8(i),[i]),Ne.createElement(s8,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:c,future:i})}var F2;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(F2||(F2={}));var z2;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(z2||(z2={}));function Sv(r){let e=Ne.useRef(jy(r)),t=Ne.useRef(!1),i=ud(),s=Ne.useMemo(()=>l8(i.search,t.current?null:e.current),[i.search]),o=Ja(),c=Ne.useCallback((l,h)=>{const f=jy(typeof l=="function"?l(s):l);t.current=!0,o("?"+f,h)},[o,s]);return[s,c]}var Ca=function(){return Ca=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ca.apply(this,arguments)};function e0(r,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return r.concat(o||Array.prototype.slice.call(e))}var mn="-ms-",Hf="-moz-",Fr="-webkit-",g3="comm",b0="rule",Av="decl",f8="@import",y3="@keyframes",d8="@layer",v3=Math.abs,Ev=String.fromCharCode,Py=Object.assign;function p8(r,e){return Ni(r,0)^45?(((e<<2^Ni(r,0))<<2^Ni(r,1))<<2^Ni(r,2))<<2^Ni(r,3):0}function b3(r){return r.trim()}function gl(r,e){return(r=e.exec(r))?r[0]:r}function ur(r,e,t){return r.replace(e,t)}function Fp(r,e,t){return r.indexOf(e,t)}function Ni(r,e){return r.charCodeAt(e)|0}function Lh(r,e,t){return r.slice(e,t)}function jo(r){return r.length}function w3(r){return r.length}function Ff(r,e){return e.push(r),r}function m8(r,e){return r.map(e).join("")}function q2(r,e){return r.filter(function(t){return!gl(t,e)})}var w0=1,jh=1,_3=0,bs=0,si=0,$h="";function _0(r,e,t,i,s,o,c,l){return{value:r,root:e,parent:t,type:i,props:s,children:o,line:w0,column:jh,length:c,return:"",siblings:l}}function au(r,e){return Py(_0("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function rh(r){for(;r.root;)r=au(r.root,{children:[r]});Ff(r,r.siblings)}function g8(){return si}function y8(){return si=bs>0?Ni($h,--bs):0,jh--,si===10&&(jh=1,w0--),si}function no(){return si=bs<_3?Ni($h,bs++):0,jh++,si===10&&(jh=1,w0++),si}function Qu(){return Ni($h,bs)}function zp(){return bs}function x0(r,e){return Lh($h,r,e)}function Dy(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v8(r){return w0=jh=1,_3=jo($h=r),bs=0,[]}function b8(r){return $h="",r}function og(r){return b3(x0(bs-1,By(r===91?r+2:r===40?r+1:r)))}function w8(r){for(;(si=Qu())&&si<33;)no();return Dy(r)>2||Dy(si)>3?"":" "}function _8(r,e){for(;--e&&no()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return x0(r,zp()+(e<6&&Qu()==32&&no()==32))}function By(r){for(;no();)switch(si){case r:return bs;case 34:case 39:r!==34&&r!==39&&By(si);break;case 40:r===41&&By(r);break;case 92:no();break}return bs}function x8(r,e){for(;no()&&r+si!==57;)if(r+si===84&&Qu()===47)break;return"/*"+x0(e,bs-1)+"*"+Ev(r===47?r:no())}function S8(r){for(;!Dy(Qu());)no();return x0(r,bs)}function A8(r){return b8(qp("",null,null,null,[""],r=v8(r),0,[0],r))}function qp(r,e,t,i,s,o,c,l,h){for(var f=0,p=0,y=c,b=0,m=0,A=0,_=1,E=1,v=1,C=0,N="",S=s,D=o,K=i,$=N;E;)switch(A=C,C=no()){case 40:if(A!=108&&Ni($,y-1)==58){Fp($+=ur(og(C),"&","&\f"),"&\f",v3(f?l[f-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:$+=og(C);break;case 9:case 10:case 13:case 32:$+=w8(A);break;case 92:$+=_8(zp()-1,7);continue;case 47:switch(Qu()){case 42:case 47:Ff(E8(x8(no(),zp()),e,t,h),h);break;default:$+="/"}break;case 123*_:l[f++]=jo($)*v;case 125*_:case 59:case 0:switch(C){case 0:case 125:E=0;case 59+p:v==-1&&($=ur($,/\f/g,"")),m>0&&jo($)-y&&Ff(m>32?$2($+";",i,t,y-1,h):$2(ur($," ","")+";",i,t,y-2,h),h);break;case 59:$+=";";default:if(Ff(K=H2($,e,t,f,p,s,l,N,S=[],D=[],y,o),o),C===123)if(p===0)qp($,e,K,K,S,o,y,l,D);else switch(b===99&&Ni($,3)===110?100:b){case 100:case 108:case 109:case 115:qp(r,K,K,i&&Ff(H2(r,K,K,0,0,s,l,N,s,S=[],y,D),D),s,D,y,l,i?S:D);break;default:qp($,K,K,K,[""],D,0,l,D)}}f=p=m=0,_=v=1,N=$="",y=c;break;case 58:y=1+jo($),m=A;default:if(_<1){if(C==123)--_;else if(C==125&&_++==0&&y8()==125)continue}switch($+=Ev(C),C*_){case 38:v=p>0?1:($+="\f",-1);break;case 44:l[f++]=(jo($)-1)*v,v=1;break;case 64:Qu()===45&&($+=og(no())),b=Qu(),p=y=jo(N=$+=S8(zp())),C++;break;case 45:A===45&&jo($)==2&&(_=0)}}return o}function H2(r,e,t,i,s,o,c,l,h,f,p,y){for(var b=s-1,m=s===0?o:[""],A=w3(m),_=0,E=0,v=0;_<i;++_)for(var C=0,N=Lh(r,b+1,b=v3(E=c[_])),S=r;C<A;++C)(S=b3(E>0?m[C]+" "+N:ur(N,/&\f/g,m[C])))&&(h[v++]=S);return _0(r,e,t,s===0?b0:l,h,f,p,y)}function E8(r,e,t,i){return _0(r,e,t,g3,Ev(g8()),Lh(r,2,-2),0,i)}function $2(r,e,t,i,s){return _0(r,e,t,Av,Lh(r,0,i),Lh(r,i+1,-1),i,s)}function x3(r,e,t){switch(p8(r,e)){case 5103:return Fr+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fr+r+r;case 4789:return Hf+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Fr+r+Hf+r+mn+r+r;case 5936:switch(Ni(r,e+11)){case 114:return Fr+r+mn+ur(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Fr+r+mn+ur(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Fr+r+mn+ur(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return Fr+r+mn+r+r;case 6165:return Fr+r+mn+"flex-"+r+r;case 5187:return Fr+r+ur(r,/(\w+).+(:[^]+)/,Fr+"box-$1$2"+mn+"flex-$1$2")+r;case 5443:return Fr+r+mn+"flex-item-"+ur(r,/flex-|-self/g,"")+(gl(r,/flex-|baseline/)?"":mn+"grid-row-"+ur(r,/flex-|-self/g,""))+r;case 4675:return Fr+r+mn+"flex-line-pack"+ur(r,/align-content|flex-|-self/g,"")+r;case 5548:return Fr+r+mn+ur(r,"shrink","negative")+r;case 5292:return Fr+r+mn+ur(r,"basis","preferred-size")+r;case 6060:return Fr+"box-"+ur(r,"-grow","")+Fr+r+mn+ur(r,"grow","positive")+r;case 4554:return Fr+ur(r,/([^-])(transform)/g,"$1"+Fr+"$2")+r;case 6187:return ur(ur(ur(r,/(zoom-|grab)/,Fr+"$1"),/(image-set)/,Fr+"$1"),r,"")+r;case 5495:case 3959:return ur(r,/(image-set\([^]*)/,Fr+"$1$`$1");case 4968:return ur(ur(r,/(.+:)(flex-)?(.*)/,Fr+"box-pack:$3"+mn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fr+r+r;case 4200:if(!gl(r,/flex-|baseline/))return mn+"grid-column-align"+Lh(r,e)+r;break;case 2592:case 3360:return mn+ur(r,"template-","")+r;case 4384:case 3616:return t&&t.some(function(i,s){return e=s,gl(i.props,/grid-\w+-end/)})?~Fp(r+(t=t[e].value),"span",0)?r:mn+ur(r,"-start","")+r+mn+"grid-row-span:"+(~Fp(t,"span",0)?gl(t,/\d+/):+gl(t,/\d+/)-+gl(r,/\d+/))+";":mn+ur(r,"-start","")+r;case 4896:case 4128:return t&&t.some(function(i){return gl(i.props,/grid-\w+-start/)})?r:mn+ur(ur(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return ur(r,/(.+)-inline(.+)/,Fr+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(jo(r)-1-e>6)switch(Ni(r,e+1)){case 109:if(Ni(r,e+4)!==45)break;case 102:return ur(r,/(.+:)(.+)-([^]+)/,"$1"+Fr+"$2-$3$1"+Hf+(Ni(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Fp(r,"stretch",0)?x3(ur(r,"stretch","fill-available"),e,t)+r:r}break;case 5152:case 5920:return ur(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,o,c,l,h,f){return mn+s+":"+o+f+(c?mn+s+"-span:"+(l?h:+h-+o)+f:"")+r});case 4949:if(Ni(r,e+6)===121)return ur(r,":",":"+Fr)+r;break;case 6444:switch(Ni(r,Ni(r,14)===45?18:11)){case 120:return ur(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Fr+(Ni(r,14)===45?"inline-":"")+"box$3$1"+Fr+"$2$3$1"+mn+"$2box$3")+r;case 100:return ur(r,":",":"+mn)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ur(r,"scroll-","scroll-snap-")+r}return r}function t0(r,e){for(var t="",i=0;i<r.length;i++)t+=e(r[i],i,r,e)||"";return t}function k8(r,e,t,i){switch(r.type){case d8:if(r.children.length)break;case f8:case Av:return r.return=r.return||r.value;case g3:return"";case y3:return r.return=r.value+"{"+t0(r.children,i)+"}";case b0:if(!jo(r.value=r.props.join(",")))return""}return jo(t=t0(r.children,i))?r.return=r.value+"{"+t+"}":""}function N8(r){var e=w3(r);return function(t,i,s,o){for(var c="",l=0;l<e;l++)c+=r[l](t,i,s,o)||"";return c}}function T8(r){return function(e){e.root||(e=e.return)&&r(e)}}function R8(r,e,t,i){if(r.length>-1&&!r.return)switch(r.type){case Av:r.return=x3(r.value,r.length,t);return;case y3:return t0([au(r,{value:ur(r.value,"@","@"+Fr)})],i);case b0:if(r.length)return m8(t=r.props,function(s){switch(gl(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":rh(au(r,{props:[ur(s,/:(read-\w+)/,":"+Hf+"$1")]})),rh(au(r,{props:[s]})),Py(r,{props:q2(t,i)});break;case"::placeholder":rh(au(r,{props:[ur(s,/:(plac\w+)/,":"+Fr+"input-$1")]})),rh(au(r,{props:[ur(s,/:(plac\w+)/,":"+Hf+"$1")]})),rh(au(r,{props:[ur(s,/:(plac\w+)/,mn+"input-$1")]})),rh(au(r,{props:[s]})),Py(r,{props:q2(t,i)});break}return""})}}var C8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Va={},Ph=typeof process<"u"&&Va!==void 0&&(Va.REACT_APP_SC_ATTR||Va.SC_ATTR)||"data-styled",S3="active",A3="data-styled-version",S0="6.1.19",kv=`/*!sc*/
`,r0=typeof window<"u"&&typeof document<"u",O8=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Va!==void 0&&Va.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Va.REACT_APP_SC_DISABLE_SPEEDY!==""?Va.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Va.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Va!==void 0&&Va.SC_DISABLE_SPEEDY!==void 0&&Va.SC_DISABLE_SPEEDY!==""&&Va.SC_DISABLE_SPEEDY!=="false"&&Va.SC_DISABLE_SPEEDY),A0=Object.freeze([]),Dh=Object.freeze({});function L8(r,e,t){return t===void 0&&(t=Dh),r.theme!==t.theme&&r.theme||e||t.theme}var E3=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),j8=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,P8=/(^-|-$)/g;function G2(r){return r.replace(j8,"-").replace(P8,"")}var D8=/(a)(d)/gi,fp=52,W2=function(r){return String.fromCharCode(r+(r>25?39:97))};function Iy(r){var e,t="";for(e=Math.abs(r);e>fp;e=e/fp|0)t=W2(e%fp)+t;return(W2(e%fp)+t).replace(D8,"$1-$2")}var lg,k3=5381,wh=function(r,e){for(var t=e.length;t;)r=33*r^e.charCodeAt(--t);return r},N3=function(r){return wh(k3,r)};function B8(r){return Iy(N3(r)>>>0)}function I8(r){return r.displayName||r.name||"Component"}function ug(r){return typeof r=="string"&&!0}var T3=typeof Symbol=="function"&&Symbol.for,R3=T3?Symbol.for("react.memo"):60115,U8=T3?Symbol.for("react.forward_ref"):60112,M8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},F8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},z8=((lg={})[U8]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lg[R3]=C3,lg);function V2(r){return("type"in(e=r)&&e.type.$$typeof)===R3?C3:"$$typeof"in r?z8[r.$$typeof]:M8;var e}var q8=Object.defineProperty,H8=Object.getOwnPropertyNames,K2=Object.getOwnPropertySymbols,$8=Object.getOwnPropertyDescriptor,G8=Object.getPrototypeOf,Y2=Object.prototype;function O3(r,e,t){if(typeof e!="string"){if(Y2){var i=G8(e);i&&i!==Y2&&O3(r,i,t)}var s=H8(e);K2&&(s=s.concat(K2(e)));for(var o=V2(r),c=V2(e),l=0;l<s.length;++l){var h=s[l];if(!(h in F8||t&&t[h]||c&&h in c||o&&h in o)){var f=$8(e,h);try{q8(r,h,f)}catch{}}}}return r}function Bh(r){return typeof r=="function"}function Nv(r){return typeof r=="object"&&"styledComponentId"in r}function Ku(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function X2(r,e){if(r.length===0)return"";for(var t=r[0],i=1;i<r.length;i++)t+=r[i];return t}function Zf(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Uy(r,e,t){if(t===void 0&&(t=!1),!t&&!Zf(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)r[i]=Uy(r[i],e[i]);else if(Zf(e))for(var i in e)r[i]=Uy(r[i],e[i]);return r}function Tv(r,e){Object.defineProperty(r,"toString",{value:e})}function cd(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var W8=(function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},r.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;e>=o;)if((o<<=1)<0)throw cd(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var c=s;c<o;c++)this.groupSizes[c]=0}for(var l=this.indexOfGroup(e+1),h=(c=0,t.length);c<h;c++)this.tag.insertRule(l,t[c])&&(this.groupSizes[e]++,l++)},r.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),s=i+t;this.groupSizes[e]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},r.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],s=this.indexOfGroup(e),o=s+i,c=s;c<o;c++)t+="".concat(this.tag.getRule(c)).concat(kv);return t},r})(),Hp=new Map,n0=new Map,$p=1,dp=function(r){if(Hp.has(r))return Hp.get(r);for(;n0.has($p);)$p++;var e=$p++;return Hp.set(r,e),n0.set(e,r),e},V8=function(r,e){$p=e+1,Hp.set(r,e),n0.set(e,r)},K8="style[".concat(Ph,"][").concat(A3,'="').concat(S0,'"]'),Y8=new RegExp("^".concat(Ph,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),X8=function(r,e,t){for(var i,s=t.split(","),o=0,c=s.length;o<c;o++)(i=s[o])&&r.registerName(e,i)},J8=function(r,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(kv),s=[],o=0,c=i.length;o<c;o++){var l=i[o].trim();if(l){var h=l.match(Y8);if(h){var f=0|parseInt(h[1],10),p=h[2];f!==0&&(V8(p,f),X8(r,p,h[3]),r.getTag().insertRules(f,s)),s.length=0}else s.push(l)}}},J2=function(r){for(var e=document.querySelectorAll(K8),t=0,i=e.length;t<i;t++){var s=e[t];s&&s.getAttribute(Ph)!==S3&&(J8(r,s),s.parentNode&&s.parentNode.removeChild(s))}};function Z8(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var L3=function(r){var e=document.head,t=r||e,i=document.createElement("style"),s=(function(l){var h=Array.from(l.querySelectorAll("style[".concat(Ph,"]")));return h[h.length-1]})(t),o=s!==void 0?s.nextSibling:null;i.setAttribute(Ph,S3),i.setAttribute(A3,S0);var c=Z8();return c&&i.setAttribute("nonce",c),t.insertBefore(i,o),i},Q8=(function(){function r(e){this.element=L3(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,s=0,o=i.length;s<o;s++){var c=i[s];if(c.ownerNode===t)return c}throw cd(17)})(this.element),this.length=0}return r.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},r})(),ek=(function(){function r(e){this.element=L3(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r})(),tk=(function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r})(),Z2=r0,rk={isServer:!r0,useCSSOMInjection:!O8},j3=(function(){function r(e,t,i){e===void 0&&(e=Dh),t===void 0&&(t={});var s=this;this.options=Ca(Ca({},rk),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&r0&&Z2&&(Z2=!1,J2(this)),Tv(this,function(){return(function(o){for(var c=o.getTag(),l=c.length,h="",f=function(y){var b=(function(v){return n0.get(v)})(y);if(b===void 0)return"continue";var m=o.names.get(b),A=c.getGroup(y);if(m===void 0||!m.size||A.length===0)return"continue";var _="".concat(Ph,".g").concat(y,'[id="').concat(b,'"]'),E="";m!==void 0&&m.forEach(function(v){v.length>0&&(E+="".concat(v,","))}),h+="".concat(A).concat(_,'{content:"').concat(E,'"}').concat(kv)},p=0;p<l;p++)f(p);return h})(s)})}return r.registerId=function(e){return dp(e)},r.prototype.rehydrate=function(){!this.server&&r0&&J2(this)},r.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new r(Ca(Ca({},this.options),e),this.gs,t&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(t){var i=t.useCSSOMInjection,s=t.target;return t.isServer?new tk(s):i?new Q8(s):new ek(s)})(this.options),new W8(e)));var e},r.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},r.prototype.registerName=function(e,t){if(dp(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},r.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(dp(e),i)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(dp(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r})(),nk=/&/g,ik=/^\s*\/\/.*$/gm;function P3(r,e){return r.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=P3(t.children,e)),t})}function ak(r){var e,t,i,s=Dh,o=s.options,c=o===void 0?Dh:o,l=s.plugins,h=l===void 0?A0:l,f=function(b,m,A){return A.startsWith(t)&&A.endsWith(t)&&A.replaceAll(t,"").length>0?".".concat(e):b},p=h.slice();p.push(function(b){b.type===b0&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(nk,t).replace(i,f))}),c.prefix&&p.push(R8),p.push(k8);var y=function(b,m,A,_){m===void 0&&(m=""),A===void 0&&(A=""),_===void 0&&(_="&"),e=_,t=m,i=new RegExp("\\".concat(t,"\\b"),"g");var E=b.replace(ik,""),v=A8(A||m?"".concat(A," ").concat(m," { ").concat(E," }"):E);c.namespace&&(v=P3(v,c.namespace));var C=[];return t0(v,N8(p.concat(T8(function(N){return C.push(N)})))),C};return y.hash=h.length?h.reduce(function(b,m){return m.name||cd(15),wh(b,m.name)},k3).toString():"",y}var sk=new j3,My=ak(),D3=rc.createContext({shouldForwardProp:void 0,styleSheet:sk,stylis:My});D3.Consumer;rc.createContext(void 0);function Q2(){return Ne.useContext(D3)}var ok=(function(){function r(e,t){var i=this;this.inject=function(s,o){o===void 0&&(o=My);var c=i.name+o.hash;s.hasNameForId(i.id,c)||s.insertRules(i.id,c,o(i.rules,c,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Tv(this,function(){throw cd(12,String(i.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=My),this.name+e.hash},r})(),lk=function(r){return r>="A"&&r<="Z"};function e5(r){for(var e="",t=0;t<r.length;t++){var i=r[t];if(t===1&&i==="-"&&r[0]==="-")return r;lk(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var B3=function(r){return r==null||r===!1||r===""},I3=function(r){var e,t,i=[];for(var s in r){var o=r[s];r.hasOwnProperty(s)&&!B3(o)&&(Array.isArray(o)&&o.isCss||Bh(o)?i.push("".concat(e5(s),":"),o,";"):Zf(o)?i.push.apply(i,e0(e0(["".concat(s," {")],I3(o),!1),["}"],!1)):i.push("".concat(e5(s),": ").concat((e=s,(t=o)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in C8||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function ec(r,e,t,i){if(B3(r))return[];if(Nv(r))return[".".concat(r.styledComponentId)];if(Bh(r)){if(!Bh(o=r)||o.prototype&&o.prototype.isReactComponent||!e)return[r];var s=r(e);return ec(s,e,t,i)}var o;return r instanceof ok?t?(r.inject(t,i),[r.getName(i)]):[r]:Zf(r)?I3(r):Array.isArray(r)?Array.prototype.concat.apply(A0,r.map(function(c){return ec(c,e,t,i)})):[r.toString()]}function uk(r){for(var e=0;e<r.length;e+=1){var t=r[e];if(Bh(t)&&!Nv(t))return!1}return!0}var ck=N3(S0),hk=(function(){function r(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&uk(e),this.componentId=t,this.baseHash=wh(ck,t),this.baseStyle=i,j3.registerId(t)}return r.prototype.generateAndInjectStyles=function(e,t,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))s=Ku(s,this.staticRulesId);else{var o=X2(ec(this.rules,e,t,i)),c=Iy(wh(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,c)){var l=i(o,".".concat(c),void 0,this.componentId);t.insertRules(this.componentId,c,l)}s=Ku(s,c),this.staticRulesId=c}else{for(var h=wh(this.baseHash,i.hash),f="",p=0;p<this.rules.length;p++){var y=this.rules[p];if(typeof y=="string")f+=y;else if(y){var b=X2(ec(y,e,t,i));h=wh(h,b+p),f+=b}}if(f){var m=Iy(h>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,i(f,".".concat(m),void 0,this.componentId)),s=Ku(s,m)}}return s},r})(),U3=rc.createContext(void 0);U3.Consumer;var cg={};function fk(r,e,t){var i=Nv(r),s=r,o=!ug(r),c=e.attrs,l=c===void 0?A0:c,h=e.componentId,f=h===void 0?(function(S,D){var K=typeof S!="string"?"sc":G2(S);cg[K]=(cg[K]||0)+1;var $="".concat(K,"-").concat(B8(S0+K+cg[K]));return D?"".concat(D,"-").concat($):$})(e.displayName,e.parentComponentId):h,p=e.displayName,y=p===void 0?(function(S){return ug(S)?"styled.".concat(S):"Styled(".concat(I8(S),")")})(r):p,b=e.displayName&&e.componentId?"".concat(G2(e.displayName),"-").concat(e.componentId):e.componentId||f,m=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,A=e.shouldForwardProp;if(i&&s.shouldForwardProp){var _=s.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;A=function(S,D){return _(S,D)&&E(S,D)}}else A=_}var v=new hk(t,b,i?s.componentStyle:void 0);function C(S,D){return(function(K,$,ee){var P=K.attrs,fe=K.componentStyle,re=K.defaultProps,B=K.foldedComponentIds,J=K.styledComponentId,L=K.target,se=rc.useContext(U3),ie=Q2(),Z=K.shouldForwardProp||ie.shouldForwardProp,pe=L8($,se,re)||Dh,ye=(function(ce,ae,I){for(var U,ne=Ca(Ca({},ae),{className:void 0,theme:I}),oe=0;oe<ce.length;oe+=1){var Q=Bh(U=ce[oe])?U(ne):U;for(var ue in Q)ne[ue]=ue==="className"?Ku(ne[ue],Q[ue]):ue==="style"?Ca(Ca({},ne[ue]),Q[ue]):Q[ue]}return ae.className&&(ne.className=Ku(ne.className,ae.className)),ne})(P,$,pe),Te=ye.as||L,W={};for(var R in ye)ye[R]===void 0||R[0]==="$"||R==="as"||R==="theme"&&ye.theme===pe||(R==="forwardedAs"?W.as=ye.forwardedAs:Z&&!Z(R,Te)||(W[R]=ye[R]));var G=(function(ce,ae){var I=Q2(),U=ce.generateAndInjectStyles(ae,I.styleSheet,I.stylis);return U})(fe,ye),X=Ku(B,J);return G&&(X+=" "+G),ye.className&&(X+=" "+ye.className),W[ug(Te)&&!E3.has(Te)?"class":"className"]=X,ee&&(W.ref=ee),Ne.createElement(Te,W)})(N,S,D)}C.displayName=y;var N=rc.forwardRef(C);return N.attrs=m,N.componentStyle=v,N.displayName=y,N.shouldForwardProp=A,N.foldedComponentIds=i?Ku(s.foldedComponentIds,s.styledComponentId):"",N.styledComponentId=b,N.target=i?s.target:r,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=i?(function(D){for(var K=[],$=1;$<arguments.length;$++)K[$-1]=arguments[$];for(var ee=0,P=K;ee<P.length;ee++)Uy(D,P[ee],!0);return D})({},s.defaultProps,S):S}}),Tv(N,function(){return".".concat(N.styledComponentId)}),o&&O3(N,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function t5(r,e){for(var t=[r[0]],i=0,s=e.length;i<s;i+=1)t.push(e[i],r[i+1]);return t}var r5=function(r){return Object.assign(r,{isCss:!0})};function dk(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Bh(r)||Zf(r))return r5(ec(t5(A0,e0([r],e,!0))));var i=r;return e.length===0&&i.length===1&&typeof i[0]=="string"?ec(i):r5(ec(t5(i,e)))}function Fy(r,e,t){if(t===void 0&&(t=Dh),!e)throw cd(1,e);var i=function(s){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return r(e,t,dk.apply(void 0,e0([s],o,!1)))};return i.attrs=function(s){return Fy(r,e,Ca(Ca({},t),{attrs:Array.prototype.concat(t.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return Fy(r,e,Ca(Ca({},t),s))},i}var M3=function(r){return Fy(fk,r)},La=M3;E3.forEach(function(r){La[r]=M3(r)});const $i="https://emscribe.vercel.app",Gr=()=>typeof window>"u"?null:localStorage.getItem("jwt"),F3=r=>{if(typeof window>"u")throw new Error("setJWT failed. Can only be called in the browser");localStorage.setItem("jwt",r)},Sh=()=>{if(typeof window>"u")throw new Error("deleteJWT failed. Can only be called in the browser");localStorage.removeItem("jwt")},pk=async(r,e)=>{try{const t=await fetch(`${$i}/api/auth`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"text/html"},body:JSON.stringify({action:"sign-in",email:r,password:e})});if(!t.ok){const o=await t.json().catch(()=>({}));throw new Error(o?.error||`Sign-in failed (${t.status})`)}const i=await t.json().catch(()=>({})),s=typeof i?.token=="string"?i.token:i?.access_token||i?.token?.access_token||i?.token?.accessToken||null;if(!s)throw new Error("No access token returned from server sign-in");return F3(s),localStorage.setItem("userEmail",r),window.postMessage({type:"EMSCRIBE_LOGIN",jwt:s,userEmail:r},"*"),{success:!0,jwt:s,email:r}}catch(t){return{success:!1,error:t.message}}},Gp=async({redirectTo:r}={})=>{if(typeof window>"u")throw new Error("handleSignOut must be called in the browser");const e=Gr(),t={"Content-Type":"application/json"};e&&(t.Authorization=`Bearer ${e}`);try{const i=await fetch(`${$i}/api/auth`,{method:"POST",credentials:"include",headers:t,body:JSON.stringify({action:"sign-out"})});try{Sh()}catch{}try{document.cookie="refresh_token=; Path=/; Max-Age=0; SameSite=Lax;"}catch{}if(r){try{window.location.assign(r)}catch{window.location.href=r}return{success:i.ok,status:i.status}}if(i.ok)return{success:!0};const s=await i.json().catch(()=>null);return{success:!1,status:i.status,error:s?.error||i.statusText}}catch(i){try{Sh()}catch{}try{document.cookie="refresh_token=; Path=/; Max-Age=0; SameSite=Lax;"}catch{}if(r){try{window.location.assign(r)}catch{window.location.href=r}return{success:!1,error:i?.message||String(i)}}return{success:!1,error:i?.message||String(i)}}},hg=async(r,e={})=>{const t=r.startsWith("/api")?`${$i}${r}`:r,i=async l=>{const h=new Headers(e.headers||{});l&&h.set("Authorization",`Bearer ${l}`),e.body&&!h.has("Content-Type")&&h.set("Content-Type","application/json");const f={...e,headers:h};return fetch(t,f)};let s=Gr(),o=await i(s);if(o.status!==401)return o;const c=await $3();if(!c.success)return o;try{return o=await i(c.token),o}catch{return o}},z3=async()=>{const r=Gr();try{const e=await fetch(`${$i}/api/soap-notes/batch`,{headers:{Authorization:`Bearer ${r}`}});return e.ok?await e.json():(console.error("Failed to fetch SOAP notes:",e.status,e.statusText),{})}catch(e){return console.error("Error fetching SOAP notes:",e),{}}},mk=async r=>{const e=Gr();if(!e)throw new Error("User not logged in");try{const t=await fetch(`${$i}/api/soap-notes?id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},cache:"no-store"});if(!t.ok){const i=await t.json().catch(()=>({}));throw new Error(i.message||`Failed to fetch SOAP note: ${t.statusText}`)}return await t.json()}catch(t){throw console.error("Error fetching SOAP note:",t),t}},q3=async()=>{const r=Gr();if(!r)throw new Error("User not logged in");try{const e=await fetch(`${$i}/api/patient-encounters/batch`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},cache:"no-store"});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP ${e.status}`)}return await e.json()}catch(e){throw console.error("Error fetching patient encounters:",e),e}},H3=async r=>{const e=Gr();if(!e)throw new Error("User not logged in");try{const t=await fetch(`${$i}/api/patient-encounters/complete?id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},cache:"no-store"});if(!t.ok){const i=await t.json().catch(()=>({}));throw new Error(i.message||`Failed to fetch patient encounter: ${t.statusText}`)}return await t.json()}catch(t){throw console.error("Error fetching complete patient encounter:",t),t}},gk=async(r,{name:e,transcript_text:t})=>{const i=Gr();if(!i)throw new Error("User not logged in");try{const s=await fetch(`${$i}/api/patient-encounters`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({id:r,name:e,transcript_text:t}),cache:"no-store"});if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.message||`Failed to save patient encounter: ${s.status} ${s.statusText}`)}return await s.json()}catch(s){throw console.error("Error updating patient encounter:",s),s}},yk=async()=>{try{const r=await fetch(`${$i}/api/auth/cookie-status`,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});return r.ok?!!(await r.json())?.cookiePresent:!1}catch(r){return console.warn("checkRefreshCookie failed:",r),!1}},$3=async()=>{try{const r=await fetch(`${$i}/api/auth/refresh`,{method:"POST",credentials:"include"});if(!r.ok)return{success:!1,error:`Refresh failed: ${r.status} ${r.statusText}`};const e=await r.json(),t=e?.accessToken||e?.token||null;return t?(F3(t),{success:!0,token:t}):{success:!1,error:"No token returned from refresh"}}catch(r){return{success:!1,error:r.message}}},vk=async()=>{const r=Gr();if(!r)return{valid:!1,error:"No JWT found"};const e=async t=>fetch(`${$i}/api/auth`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({action:"check-validity"})});try{let t=await e(r);if(t.status===401){console.log("JWT invalid, attempting refresh...");const s=await $3();return s.success?(console.log("Token refreshed successfully"),{valid:!0,refreshed:!0,data:{valid:!0,message:"Token refreshed successfully"}}):(console.warn("Token refresh failed:",s.error),{valid:!1,error:`Token invalid and refresh failed: ${s.error}`,refreshAttempted:!0})}if(!t.ok)return{valid:!1,error:`HTTP ${t.status}: ${t.statusText}`};const i=await t.json();return{valid:i.valid||!1,data:i}}catch(t){return{valid:!1,error:t.message}}},bk=async()=>{const r=Gr();if(!r)throw new Error("User not logged in");try{const e=await fetch(`${$i}/api/dotPhrases`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},cache:"no-store"});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP ${e.status}`)}return await e.json()}catch(e){throw console.error("Error fetching dot phrases:",e),e}},G3=async(r,{soapNote_text:e})=>{const t=Gr();if(!t)throw new Error("User not logged in");try{const i=await fetch(`${$i}/api/soap-notes`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({id:r,soapNote_text:e}),cache:"no-store"});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.message||`Failed to save SOAP note: ${i.status} ${i.statusText}`)}return await i.json()}catch(i){throw console.error("Error updating SOAP note:",i),i}},wk=async(r,e="POST")=>{const t=Gr();if(!t)throw new Error("User not logged in");try{const i=await fetch(`${$i}/api/dotPhrases`,{method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.message||`HTTP ${i.status}`)}return await i.json()}catch(i){throw console.error("Error saving dot phrase:",i),i}},_k=async r=>{const e=Gr();if(!e)throw new Error("User not logged in");try{const t=await fetch(`${$i}/api/dotPhrases?id=${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const i=await t.json().catch(()=>({}));throw new Error(i.message||`HTTP ${t.status}`)}return await t.json()}catch(t){throw console.error("Error deleting dot phrase:",t),t}},xk=async({attached:r,limit:e=100,offset:t=0,sortBy:i="name",order:s="asc"})=>{const o=Gr();if(!o)throw new Error("User not logged in");try{const c=new URLSearchParams({attached:r.toString(),limit:e.toString(),offset:t.toString(),sortBy:i,order:s}),l=await fetch(`${$i}/api/recordings/attachments?${c}`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},cache:"no-store"});if(!l.ok){const h=await l.json().catch(()=>({}));throw new Error(h.message||`HTTP ${l.status}`)}return await l.json()}catch(c){throw console.error("Error fetching recordings:",c),c}},Sk=async r=>{const e=Gr();if(!e)throw new Error("User not logged in");try{const t=await fetch(`${$i}/api/recordings?id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},cache:"no-store"});if(!t.ok){const i=await t.json().catch(()=>({}));throw new Error(i.message||`HTTP ${t.status}`)}return await t.json()}catch(t){throw console.error("Error fetching recording:",t),t}},Ak=La.header`
  background-color: #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  width: 100%;
  position: sticky;
  top: 0;
  z-index: 100;
  left: 0;
  right: 0;
`,Ek=La.div`
  margin: 10px 0px;
  padding: 0px 20px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,kk=La.h1`
  font-size: 1.5rem;
  font-weight: bold;
  color: #333333;
  margin-right: 2rem;
  flex-shrink: 0;
`,Nk=La.nav`
  display: flex;
  align-items: center;
  flex: 1;
  justify-content: flex-end;
  gap: 2rem;
`,W3=La.div`
  position: relative;
`,Tk=La.div`
  display: flex;
  align-items: center;
  gap: 2rem;

  @media (max-width: 767px) {
    display: none;
  }
`,V3=La.div`
  display: flex;
  align-items: center;
  justify-content: flex-end;
  flex-shrink: 0;
  margin-left: 2rem;
  position: relative;

  @media (max-width: 767px) {
    display: none;
  }
`,Rk=La.div`
  position: absolute;
  right: 0;
  top: 100%;
  width: 8rem;
  background: #fff;
  border-radius: 0.375rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
  z-index: 102;
  min-width: 8rem;
  padding-top: 8px;
  display: none;

  /* show when parent header user menu is hovered */
  ${V3}:hover & {
    display: block;
  }
`,Ck=La.div`
  position: absolute;
  left: 0;
  top: 100%;
  width: 12rem;
  background-color: #ffffff;
  border-radius: 0.375rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
  overflow: hidden;
  display: none;
  z-index: 101;
  padding-top: 8px;

  ${W3}:hover & {
    display: block;
  }
`;La.button`
  display: block;
  padding: 0.5rem;
  background: none;
  border: none;
  cursor: pointer;

  @media (min-width: 768px) {
    display: none;
  }
`;const n5=La.button`
  display: flex;
  align-items: center;
  font-weight: 600;
  color: #333333;
  padding: 0.75rem 1rem;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.125rem;
  letter-spacing: 0.01em;
  text-decoration: none;

  &:hover {
    color: #1976d2;
  }
`,Ok=La.button`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: #f5f5f5;
  border: 1px solid #e0e0e0;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.95rem;
  color: #333333;

  &:hover {
    background: #eeeeee;
  }
`,pp=La.button`
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  text-align: left;
  background: none;
  border: none;
  cursor: pointer;
  color: #333333;
  font-size: 0.875rem;

  &:hover {
    background-color: #f3f4f6;
  }

  &:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
  }

  &:last-child {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;
  }
`,Lk=()=>{const r=ud(),e=Ja(),i=["/login","/signup","/confirm-email"].some(c=>r.pathname.startsWith(c)),s=async()=>{try{await Gp()}catch(c){console.warn("signOut error",c)}finally{i||e("/login")}},o=[{category:"Dashboard",path:"/dashboard",items:[]},{category:"Patient Encounters",items:[{name:"New Patient Encounter",path:"/new-patient-encounter"},{name:"View Patient Encounters",path:"/view-patient-encounters"}]},{category:"Recordings",items:[{name:"View Recordings",path:"/view-recordings"}]},{category:"SOAP Notes",items:[{name:"View SOAP Notes",path:"/view-soap-notes"},{name:"Edit SOAP Note",path:"/edit-soap-note"}]},{category:"Dot Phrases",path:"/dot-phrases",items:[]}];return H.jsx(Ak,{children:H.jsxs(Ek,{children:[H.jsxs("div",{onClick:()=>e("/"),style:{display:"flex",alignItems:"center",cursor:"pointer",textDecoration:"none"},children:[H.jsx("img",{src:"/emscribe-icon128.png",alt:"EmScribe Logo",width:20,height:20,style:{marginRight:"0.75rem"}}),H.jsx(kk,{style:{margin:0,color:"#333333"},children:"EmScribe"})]}),H.jsxs(Nk,{children:[H.jsx(Tk,{children:o.map(c=>H.jsx(W3,{children:c.items.length===0?H.jsx(n5,{onClick:()=>e(c.path),children:c.category}):H.jsxs(H.Fragment,{children:[H.jsx(n5,{children:c.category}),H.jsx(Ck,{children:c.items.map(l=>H.jsx(pp,{onClick:()=>e(l.path),children:l.name},l.path))})]})},c.category))}),H.jsxs(V3,{children:[H.jsx(Ok,{children:"User Menu "}),H.jsxs(Rk,{children:[H.jsx(pp,{onClick:()=>e("/dashboard"),children:"Dashboard"}),H.jsx(pp,{onClick:()=>e("/privacy-policy"),children:"Privacy Policy"}),H.jsx(pp,{onClick:s,children:"Sign Out"})]})]})]})]})})};function jk(){const[r,e]=Ne.useState(""),[t,i]=Ne.useState(""),[s,o]=Ne.useState(""),[c,l]=Ne.useState(!1),h=Ja(),f=async p=>{if(p.preventDefault(),o(""),!r||!t){o("Please enter both email and password.");return}l(!0);const y=await pk(r,t);y.success?h("/dashboard"):o(y.error),l(!1)};return H.jsxs("main",{children:[H.jsx("style",{children:`
        body { font-family: Arial, sans-serif; background: #f7f7f7; }
        .login-container { max-width: 350px; margin: 80px auto; background: #fff; padding: 32px 24px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .login-container h2 { margin-bottom: 18px; }
        .login-container input { width: 100%; padding: 10px; margin: 8px 0 16px 0; border: 1px solid #ccc; border-radius: 4px; }
        .login-container button { width: 100%; padding: 10px; background: #1976d2; color: #fff; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; }
        .login-container button:disabled { background: #aaa; }
        .error { color: #d32f2f; margin-bottom: 10px; }
      `}),H.jsxs("div",{className:"login-container",children:[H.jsx("h2",{children:"EmScribe Login"}),H.jsx("div",{className:"error",children:s}),H.jsxs("form",{onSubmit:f,children:[H.jsx("input",{type:"email",placeholder:"Email",required:!0,value:r,onChange:p=>e(p.target.value),disabled:c}),H.jsx("input",{type:"password",placeholder:"Password",required:!0,value:t,onChange:p=>i(p.target.value),disabled:c}),H.jsx("button",{type:"button",onClick:()=>h("/signup"),style:{color:"#1976d2",fontSize:"14px",display:"inline-block",width:"auto",textAlign:"left",marginBottom:"16px",background:"none",border:"none",padding:0,cursor:"pointer"},children:"Create an account"}),H.jsx("button",{type:"submit",disabled:c,children:c?"Logging in...":"Login"})]})]})]})}function Rv(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var lc=Rv();function K3(r){lc=r}var $f={exec:()=>null};function Lr(r,e=""){let t=typeof r=="string"?r:r.source,i={replace:(s,o)=>{let c=typeof o=="string"?o:o.source;return c=c.replace(ha.caret,"$1"),t=t.replace(s,c),i},getRegex:()=>new RegExp(t,e)};return i}var Pk=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ha={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Dk=/^(?:[ \t]*(?:\n|$))+/,Bk=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Ik=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Uk=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Cv=/(?:[*+-]|\d{1,9}[.)])/,Y3=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,X3=Lr(Y3).replace(/bull/g,Cv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Mk=Lr(Y3).replace(/bull/g,Cv).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ov=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Fk=/^[^\n]+/,Lv=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,zk=Lr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Lv).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),qk=Lr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Cv).getRegex(),E0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",jv=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Hk=Lr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",jv).replace("tag",E0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),J3=Lr(Ov).replace("hr",hd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E0).getRegex(),$k=Lr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",J3).getRegex(),Pv={blockquote:$k,code:Bk,def:zk,fences:Ik,heading:Uk,hr:hd,html:Hk,lheading:X3,list:qk,newline:Dk,paragraph:J3,table:$f,text:Fk},i5=Lr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E0).getRegex(),Gk={...Pv,lheading:Mk,table:i5,paragraph:Lr(Ov).replace("hr",hd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",i5).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E0).getRegex()},Wk={...Pv,html:Lr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",jv).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$f,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Lr(Ov).replace("hr",hd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",X3).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Vk=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Kk=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Z3=/^( {2,}|\\)\n(?!\s*$)/,Yk=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,k0=/[\p{P}\p{S}]/u,Dv=/[\s\p{P}\p{S}]/u,Q3=/[^\s\p{P}\p{S}]/u,Xk=Lr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Dv).getRegex(),e4=/(?!~)[\p{P}\p{S}]/u,Jk=/(?!~)[\s\p{P}\p{S}]/u,Zk=/(?:[^\s\p{P}\p{S}]|~)/u,Qk=Lr(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Pk?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),t4=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,eN=Lr(t4,"u").replace(/punct/g,k0).getRegex(),tN=Lr(t4,"u").replace(/punct/g,e4).getRegex(),r4="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rN=Lr(r4,"gu").replace(/notPunctSpace/g,Q3).replace(/punctSpace/g,Dv).replace(/punct/g,k0).getRegex(),nN=Lr(r4,"gu").replace(/notPunctSpace/g,Zk).replace(/punctSpace/g,Jk).replace(/punct/g,e4).getRegex(),iN=Lr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Q3).replace(/punctSpace/g,Dv).replace(/punct/g,k0).getRegex(),aN=Lr(/\\(punct)/,"gu").replace(/punct/g,k0).getRegex(),sN=Lr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),oN=Lr(jv).replace("(?:-->|$)","-->").getRegex(),lN=Lr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",oN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),i0=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uN=Lr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",i0).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),n4=Lr(/^!?\[(label)\]\[(ref)\]/).replace("label",i0).replace("ref",Lv).getRegex(),i4=Lr(/^!?\[(ref)\](?:\[\])?/).replace("ref",Lv).getRegex(),cN=Lr("reflink|nolink(?!\\()","g").replace("reflink",n4).replace("nolink",i4).getRegex(),a5=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Bv={_backpedal:$f,anyPunctuation:aN,autolink:sN,blockSkip:Qk,br:Z3,code:Kk,del:$f,emStrongLDelim:eN,emStrongRDelimAst:rN,emStrongRDelimUnd:iN,escape:Vk,link:uN,nolink:i4,punctuation:Xk,reflink:n4,reflinkSearch:cN,tag:lN,text:Yk,url:$f},hN={...Bv,link:Lr(/^!?\[(label)\]\((.*?)\)/).replace("label",i0).getRegex(),reflink:Lr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i0).getRegex()},zy={...Bv,emStrongRDelimAst:nN,emStrongLDelim:tN,url:Lr(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",a5).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Lr(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",a5).getRegex()},fN={...zy,br:Lr(Z3).replace("{2,}","*").getRegex(),text:Lr(zy.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},mp={normal:Pv,gfm:Gk,pedantic:Wk},Of={normal:Bv,gfm:zy,breaks:fN,pedantic:hN},dN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s5=r=>dN[r];function ml(r,e){if(e){if(ha.escapeTest.test(r))return r.replace(ha.escapeReplace,s5)}else if(ha.escapeTestNoEncode.test(r))return r.replace(ha.escapeReplaceNoEncode,s5);return r}function o5(r){try{r=encodeURI(r).replace(ha.percentDecode,"%")}catch{return null}return r}function l5(r,e){let t=r.replace(ha.findPipe,(o,c,l)=>{let h=!1,f=c;for(;--f>=0&&l[f]==="\\";)h=!h;return h?"|":" |"}),i=t.split(ha.splitPipe),s=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(ha.slashPipe,"|");return i}function Lf(r,e,t){let i=r.length;if(i===0)return"";let s=0;for(;s<i&&r.charAt(i-s-1)===e;)s++;return r.slice(0,i-s)}function pN(r,e){if(r.indexOf(e[1])===-1)return-1;let t=0;for(let i=0;i<r.length;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])t++;else if(r[i]===e[1]&&(t--,t<0))return i;return t>0?-2:-1}function u5(r,e,t,i,s){let o=e.href,c=e.title||null,l=r[1].replace(s.other.outputLinkReplace,"$1");i.state.inLink=!0;let h={type:r[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:c,text:l,tokens:i.inlineTokens(l)};return i.state.inLink=!1,h}function mN(r,e,t){let i=r.match(t.other.indentCodeCompensation);if(i===null)return e;let s=i[1];return e.split(`
`).map(o=>{let c=o.match(t.other.beginningSpace);if(c===null)return o;let[l]=c;return l.length>=s.length?o.slice(s.length):o}).join(`
`)}var a0=class{options;rules;lexer;constructor(e){this.options=e||lc}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let i=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Lf(i,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let i=t[0],s=mN(i,t[3]||"",this.rules);return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(this.rules.other.endingHash.test(i)){let s=Lf(i,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(i=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Lf(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let i=Lf(t[0],`
`).split(`
`),s="",o="",c=[];for(;i.length>0;){let l=!1,h=[],f;for(f=0;f<i.length;f++)if(this.rules.other.blockquoteStart.test(i[f]))h.push(i[f]),l=!0;else if(!l)h.push(i[f]);else break;i=i.slice(f);let p=h.join(`
`),y=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${p}`:p,o=o?`${o}
${y}`:y;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(y,c,!0),this.lexer.state.top=b,i.length===0)break;let m=c.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){let A=m,_=A.raw+`
`+i.join(`
`),E=this.blockquote(_);c[c.length-1]=E,s=s.substring(0,s.length-A.raw.length)+E.raw,o=o.substring(0,o.length-A.text.length)+E.text;break}else if(m?.type==="list"){let A=m,_=A.raw+`
`+i.join(`
`),E=this.list(_);c[c.length-1]=E,s=s.substring(0,s.length-m.raw.length)+E.raw,o=o.substring(0,o.length-A.raw.length)+E.raw,i=_.substring(c.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:c,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim(),s=i.length>1,o={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");let c=this.rules.other.listItemRegex(i),l=!1;for(;e;){let f=!1,p="",y="";if(!(t=c.exec(e))||this.rules.block.hr.test(e))break;p=t[0],e=e.substring(p.length);let b=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),m=e.split(`
`,1)[0],A=!b.trim(),_=0;if(this.options.pedantic?(_=2,y=b.trimStart()):A?_=t[1].length+1:(_=t[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,y=b.slice(_),_+=t[1].length),A&&this.rules.other.blankLine.test(m)&&(p+=m+`
`,e=e.substring(m.length+1),f=!0),!f){let E=this.rules.other.nextBulletRegex(_),v=this.rules.other.hrRegex(_),C=this.rules.other.fencesBeginRegex(_),N=this.rules.other.headingBeginRegex(_),S=this.rules.other.htmlBeginRegex(_);for(;e;){let D=e.split(`
`,1)[0],K;if(m=D,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),K=m):K=m.replace(this.rules.other.tabCharGlobal,"    "),C.test(m)||N.test(m)||S.test(m)||E.test(m)||v.test(m))break;if(K.search(this.rules.other.nonSpaceChar)>=_||!m.trim())y+=`
`+K.slice(_);else{if(A||b.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||C.test(b)||N.test(b)||v.test(b))break;y+=`
`+m}!A&&!m.trim()&&(A=!0),p+=D+`
`,e=e.substring(D.length+1),b=K.slice(_)}}o.loose||(l?o.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(l=!0)),o.items.push({type:"list_item",raw:p,task:!!this.options.gfm&&this.rules.other.listIsTask.test(y),loose:!1,text:y,tokens:[]}),o.raw+=p}let h=o.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let f of o.items){if(this.lexer.state.top=!1,f.tokens=this.lexer.blockTokens(f.text,[]),f.task){if(f.text=f.text.replace(this.rules.other.listReplaceTask,""),f.tokens[0]?.type==="text"||f.tokens[0]?.type==="paragraph"){f.tokens[0].raw=f.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),f.tokens[0].text=f.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let y=this.lexer.inlineQueue.length-1;y>=0;y--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[y].src)){this.lexer.inlineQueue[y].src=this.lexer.inlineQueue[y].src.replace(this.rules.other.listReplaceTask,"");break}}let p=this.rules.other.listTaskCheckbox.exec(f.raw);if(p){let y={type:"checkbox",raw:p[0]+" ",checked:p[0]!=="[ ]"};f.checked=y.checked,o.loose?f.tokens[0]&&["paragraph","text"].includes(f.tokens[0].type)&&"tokens"in f.tokens[0]&&f.tokens[0].tokens?(f.tokens[0].raw=y.raw+f.tokens[0].raw,f.tokens[0].text=y.raw+f.tokens[0].text,f.tokens[0].tokens.unshift(y)):f.tokens.unshift({type:"paragraph",raw:y.raw,text:y.raw,tokens:[y]}):f.tokens.unshift(y)}}if(!o.loose){let p=f.tokens.filter(b=>b.type==="space"),y=p.length>0&&p.some(b=>this.rules.other.anyLine.test(b.raw));o.loose=y}}if(o.loose)for(let f of o.items){f.loose=!0;for(let p of f.tokens)p.type==="text"&&(p.type="paragraph")}return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let i=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:s,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let i=l5(t[1]),s=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],c={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===s.length){for(let l of s)this.rules.other.tableAlignRight.test(l)?c.align.push("right"):this.rules.other.tableAlignCenter.test(l)?c.align.push("center"):this.rules.other.tableAlignLeft.test(l)?c.align.push("left"):c.align.push(null);for(let l=0;l<i.length;l++)c.header.push({text:i[l],tokens:this.lexer.inline(i[l]),header:!0,align:c.align[l]});for(let l of o)c.rows.push(l5(l,c.header.length).map((h,f)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:c.align[f]})));return c}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let i=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let c=Lf(i.slice(0,-1),"\\");if((i.length-c.length)%2===0)return}else{let c=pN(t[2],"()");if(c===-2)return;if(c>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],o="";if(this.options.pedantic){let c=this.rules.other.pedanticHrefTitle.exec(s);c&&(s=c[1],o=c[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?s=s.slice(1):s=s.slice(1,-1)),u5(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let s=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[s.toLowerCase()];if(!o){let c=i[0].charAt(0);return{type:"text",raw:c,text:c}}return u5(i,o,i[0],this.lexer,this.rules)}}emStrong(e,t,i=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!(!s||s[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!i||this.rules.inline.punctuation.exec(i))){let o=[...s[0]].length-1,c,l,h=o,f=0,p=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+o);(s=p.exec(t))!=null;){if(c=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!c)continue;if(l=[...c].length,s[3]||s[4]){h+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){f+=l;continue}if(h-=l,h>0)continue;l=Math.min(l,l+h+f);let y=[...s[0]][0].length,b=e.slice(0,o+s.index+y+l);if(Math.min(o,l)%2){let A=b.slice(1,-1);return{type:"em",raw:b,text:A,tokens:this.lexer.inlineTokens(A)}}let m=b.slice(2,-2);return{type:"strong",raw:b,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(i),o=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return s&&o&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:t[0],text:i}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let i,s;return t[2]==="@"?(i=t[1],s="mailto:"+i):(i=t[1],s=i),{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,s;if(t[2]==="@")i=t[0],s="mailto:"+i;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(o!==t[0]);i=t[0],t[1]==="www."?s="http://"+t[0]:s=t[0]}return{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let i=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:i}}}},eo=class qy{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||lc,this.options.tokenizer=this.options.tokenizer||new a0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:ha,block:mp.normal,inline:Of.normal};this.options.pedantic?(t.block=mp.pedantic,t.inline=Of.pedantic):this.options.gfm&&(t.block=mp.gfm,this.options.breaks?t.inline=Of.breaks:t.inline=Of.gfm),this.tokenizer.rules=t}static get rules(){return{block:mp,inline:Of}}static lex(e,t){return new qy(t).lex(e)}static lexInline(e,t){return new qy(t).inlineTokens(e)}lex(e){e=e.replace(ha.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],i=!1){for(this.options.pedantic&&(e=e.replace(ha.tabCharGlobal,"    ").replace(ha.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(c=>(s=c.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let c=t.at(-1);s.raw.length===1&&c!==void 0?c.raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let c=t.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.at(-1).src=c.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let c=t.at(-1);c?.type==="paragraph"||c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},t.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}let o=e;if(this.options.extensions?.startBlock){let c=1/0,l=e.slice(1),h;this.options.extensions.startBlock.forEach(f=>{h=f.call({lexer:this},l),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(this.state.top&&(s=this.tokenizer.paragraph(o))){let c=t.at(-1);i&&c?.type==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(s),i=o.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let c=t.at(-1);c?.type==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+s.raw,c.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):t.push(s);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i=e,s=null;if(this.tokens.links){let h=Object.keys(this.tokens.links);if(h.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)h.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,s.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)o=s[2]?s[2].length:0,i=i.slice(0,s.index+o)+"["+"a".repeat(s[0].length-o-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let c=!1,l="";for(;e;){c||(l=""),c=!1;let h;if(this.options.extensions?.inline?.some(p=>(h=p.call({lexer:this},e,t))?(e=e.substring(h.raw.length),t.push(h),!0):!1))continue;if(h=this.tokenizer.escape(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.tag(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.link(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(h.raw.length);let p=t.at(-1);h.type==="text"&&p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):t.push(h);continue}if(h=this.tokenizer.emStrong(e,i,l)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.codespan(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.br(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.del(e)){e=e.substring(h.raw.length),t.push(h);continue}if(h=this.tokenizer.autolink(e)){e=e.substring(h.raw.length),t.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(e))){e=e.substring(h.raw.length),t.push(h);continue}let f=e;if(this.options.extensions?.startInline){let p=1/0,y=e.slice(1),b;this.options.extensions.startInline.forEach(m=>{b=m.call({lexer:this},y),typeof b=="number"&&b>=0&&(p=Math.min(p,b))}),p<1/0&&p>=0&&(f=e.substring(0,p+1))}if(h=this.tokenizer.inlineText(f)){e=e.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(l=h.raw.slice(-1)),c=!0;let p=t.at(-1);p?.type==="text"?(p.raw+=h.raw,p.text+=h.text):t.push(h);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return t}},s0=class{options;parser;constructor(e){this.options=e||lc}space(e){return""}code({text:e,lang:t,escaped:i}){let s=(t||"").match(ha.notSpaceStart)?.[0],o=e.replace(ha.endingNewline,"")+`
`;return s?'<pre><code class="language-'+ml(s)+'">'+(i?o:ml(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:ml(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,i=e.start,s="";for(let l=0;l<e.items.length;l++){let h=e.items[l];s+=this.listitem(h)}let o=t?"ol":"ul",c=t&&i!==1?' start="'+i+'"':"";return"<"+o+c+`>
`+s+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",i="";for(let o=0;o<e.header.length;o++)i+=this.tablecell(e.header[o]);t+=this.tablerow({text:i});let s="";for(let o=0;o<e.rows.length;o++){let c=e.rows[o];i="";for(let l=0;l<c.length;l++)i+=this.tablecell(c[l]);s+=this.tablerow({text:i})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ml(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:i}){let s=this.parser.parseInline(i),o=o5(e);if(o===null)return s;e=o;let c='<a href="'+e+'"';return t&&(c+=' title="'+ml(t)+'"'),c+=">"+s+"</a>",c}image({href:e,title:t,text:i,tokens:s}){s&&(i=this.parser.parseInline(s,this.parser.textRenderer));let o=o5(e);if(o===null)return ml(i);e=o;let c=`<img src="${e}" alt="${i}"`;return t&&(c+=` title="${ml(t)}"`),c+=">",c}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ml(e.text)}},Iv=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},to=class Hy{options;renderer;textRenderer;constructor(e){this.options=e||lc,this.options.renderer=this.options.renderer||new s0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Iv}static parse(e,t){return new Hy(t).parse(e)}static parseInline(e,t){return new Hy(t).parseInline(e)}parse(e){let t="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let c=s,l=this.options.extensions.renderers[c.type].call({parser:this},c);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){t+=l||"";continue}}let o=s;switch(o.type){case"space":{t+=this.renderer.space(o);break}case"hr":{t+=this.renderer.hr(o);break}case"heading":{t+=this.renderer.heading(o);break}case"code":{t+=this.renderer.code(o);break}case"table":{t+=this.renderer.table(o);break}case"blockquote":{t+=this.renderer.blockquote(o);break}case"list":{t+=this.renderer.list(o);break}case"checkbox":{t+=this.renderer.checkbox(o);break}case"html":{t+=this.renderer.html(o);break}case"def":{t+=this.renderer.def(o);break}case"paragraph":{t+=this.renderer.paragraph(o);break}case"text":{t+=this.renderer.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return t}parseInline(e,t=this.renderer){let i="";for(let s=0;s<e.length;s++){let o=e[s];if(this.options.extensions?.renderers?.[o.type]){let l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=l||"";continue}}let c=o;switch(c.type){case"escape":{i+=t.text(c);break}case"html":{i+=t.html(c);break}case"link":{i+=t.link(c);break}case"image":{i+=t.image(c);break}case"checkbox":{i+=t.checkbox(c);break}case"strong":{i+=t.strong(c);break}case"em":{i+=t.em(c);break}case"codespan":{i+=t.codespan(c);break}case"br":{i+=t.br(c);break}case"del":{i+=t.del(c);break}case"text":{i+=t.text(c);break}default:{let l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}},zf=class{options;block;constructor(e){this.options=e||lc}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?eo.lex:eo.lexInline}provideParser(){return this.block?to.parse:to.parseInline}},gN=class{defaults=Rv();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=to;Renderer=s0;TextRenderer=Iv;Lexer=eo;Tokenizer=a0;Hooks=zf;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(let s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{let o=s;for(let c of o.header)i=i.concat(this.walkTokens(c.tokens,t));for(let c of o.rows)for(let l of c)i=i.concat(this.walkTokens(l.tokens,t));break}case"list":{let o=s;i=i.concat(this.walkTokens(o.items,t));break}default:{let o=s;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(c=>{let l=o[c].flat(1/0);i=i.concat(this.walkTokens(l,t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let c=t.renderers[o.name];c?t.renderers[o.name]=function(...l){let h=o.renderer.apply(this,l);return h===!1&&(h=c.apply(this,l)),h}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let c=t[o.level];c?c.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),s.extensions=t),i.renderer){let o=this.defaults.renderer||new s0(this.defaults);for(let c in i.renderer){if(!(c in o))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;let l=c,h=i.renderer[l],f=o[l];o[l]=(...p)=>{let y=h.apply(o,p);return y===!1&&(y=f.apply(o,p)),y||""}}s.renderer=o}if(i.tokenizer){let o=this.defaults.tokenizer||new a0(this.defaults);for(let c in i.tokenizer){if(!(c in o))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;let l=c,h=i.tokenizer[l],f=o[l];o[l]=(...p)=>{let y=h.apply(o,p);return y===!1&&(y=f.apply(o,p)),y}}s.tokenizer=o}if(i.hooks){let o=this.defaults.hooks||new zf;for(let c in i.hooks){if(!(c in o))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;let l=c,h=i.hooks[l],f=o[l];zf.passThroughHooks.has(c)?o[l]=p=>{if(this.defaults.async&&zf.passThroughHooksRespectAsync.has(c))return(async()=>{let b=await h.call(o,p);return f.call(o,b)})();let y=h.call(o,p);return f.call(o,y)}:o[l]=(...p)=>{if(this.defaults.async)return(async()=>{let b=await h.apply(o,p);return b===!1&&(b=await f.apply(o,p)),b})();let y=h.apply(o,p);return y===!1&&(y=f.apply(o,p)),y}}s.hooks=o}if(i.walkTokens){let o=this.defaults.walkTokens,c=i.walkTokens;s.walkTokens=function(l){let h=[];return h.push(c.call(this,l)),o&&(h=h.concat(o.call(this,l))),h}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return eo.lex(e,t??this.defaults)}parser(e,t){return to.parse(e,t??this.defaults)}parseMarkdown(e){return(t,i)=>{let s={...i},o={...this.defaults,...s},c=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&s.async===!1)return c(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let l=o.hooks?await o.hooks.preprocess(t):t,h=await(o.hooks?await o.hooks.provideLexer():e?eo.lex:eo.lexInline)(l,o),f=o.hooks?await o.hooks.processAllTokens(h):h;o.walkTokens&&await Promise.all(this.walkTokens(f,o.walkTokens));let p=await(o.hooks?await o.hooks.provideParser():e?to.parse:to.parseInline)(f,o);return o.hooks?await o.hooks.postprocess(p):p})().catch(c);try{o.hooks&&(t=o.hooks.preprocess(t));let l=(o.hooks?o.hooks.provideLexer():e?eo.lex:eo.lexInline)(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let h=(o.hooks?o.hooks.provideParser():e?to.parse:to.parseInline)(l,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(l){return c(l)}}}onError(e,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let s="<p>An error occurred:</p><pre>"+ml(i.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(i);throw i}}},nc=new gN;function tn(r,e){return nc.parse(r,e)}tn.options=tn.setOptions=function(r){return nc.setOptions(r),tn.defaults=nc.defaults,K3(tn.defaults),tn};tn.getDefaults=Rv;tn.defaults=lc;tn.use=function(...r){return nc.use(...r),tn.defaults=nc.defaults,K3(tn.defaults),tn};tn.walkTokens=function(r,e){return nc.walkTokens(r,e)};tn.parseInline=nc.parseInline;tn.Parser=to;tn.parser=to.parse;tn.Renderer=s0;tn.TextRenderer=Iv;tn.Lexer=eo;tn.lexer=eo.lex;tn.Tokenizer=a0;tn.Hooks=zf;tn.parse=tn;tn.options;tn.setOptions;tn.use;tn.walkTokens;tn.parseInline;to.parse;eo.lex;var yN=Object.defineProperty,vN=Object.defineProperties,bN=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,wN=Object.prototype.hasOwnProperty,_N=Object.prototype.propertyIsEnumerable,$y=(r,e,t)=>e in r?yN(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Nr=(r,e)=>{for(var t in e||(e={}))wN.call(e,t)&&$y(r,t,e[t]);if(c5)for(var t of c5(e))_N.call(e,t)&&$y(r,t,e[t]);return r},Ih=(r,e)=>vN(r,bN(e)),rt=(r,e,t)=>$y(r,typeof e!="symbol"?e+"":e,t),xN=(r,e,t)=>new Promise((i,s)=>{var o=h=>{try{l(t.next(h))}catch(f){s(f)}},c=h=>{try{l(t.throw(h))}catch(f){s(f)}},l=h=>h.done?i(h.value):Promise.resolve(h.value).then(o,c);l((t=t.apply(r,e)).next())});class o0{constructor(e){rt(this,"rootKey"),this.rootKey=e}}const SN=Object.seal({});class st extends o0{constructor(e){super(e),rt(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const i=this.root.map(s=>s instanceof o0?s.prepForXml(e):s).filter(s=>s!==void 0);return e.stack.pop(),{[this.rootKey]:i.length?i.length===1&&((t=i[0])!=null&&t._attr)?i[0]:i:SN}}addChildElement(e){return this.root.push(e),this}}class N0 extends st{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class Yt extends o0{constructor(e){super("_attr"),rt(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([i,s])=>{if(s!==void 0){const o=this.xmlKeys&&this.xmlKeys[i]||i;t[o]=s}}),{_attr:t}}}class T0 extends o0{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:i})=>i!==void 0).reduce((i,{key:s,value:o})=>Ih(Nr({},i),{[s]:o}),{})}}}class Xn extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fg={},gp={exports:{}},h5;function Uv(){if(h5)return gp.exports;h5=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(D,K,$){return Function.prototype.apply.call(D,K,$)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:t=function(D){return Object.getOwnPropertyNames(D)};function i(S){console&&console.warn&&console.warn(S)}var s=Number.isNaN||function(D){return D!==D};function o(){o.init.call(this)}gp.exports=o,gp.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function l(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(S){if(typeof S!="number"||S<0||s(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");c=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||s(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function h(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(D){for(var K=[],$=1;$<arguments.length;$++)K.push(arguments[$]);var ee=D==="error",P=this._events;if(P!==void 0)ee=ee&&P.error===void 0;else if(!ee)return!1;if(ee){var fe;if(K.length>0&&(fe=K[0]),fe instanceof Error)throw fe;var re=new Error("Unhandled error."+(fe?" ("+fe.message+")":""));throw re.context=fe,re}var B=P[D];if(B===void 0)return!1;if(typeof B=="function")e(B,this,K);else for(var J=B.length,L=A(B,J),$=0;$<J;++$)e(L[$],this,K);return!0};function f(S,D,K,$){var ee,P,fe;if(l(K),P=S._events,P===void 0?(P=S._events=Object.create(null),S._eventsCount=0):(P.newListener!==void 0&&(S.emit("newListener",D,K.listener?K.listener:K),P=S._events),fe=P[D]),fe===void 0)fe=P[D]=K,++S._eventsCount;else if(typeof fe=="function"?fe=P[D]=$?[K,fe]:[fe,K]:$?fe.unshift(K):fe.push(K),ee=h(S),ee>0&&fe.length>ee&&!fe.warned){fe.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+fe.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=S,re.type=D,re.count=fe.length,i(re)}return S}o.prototype.addListener=function(D,K){return f(this,D,K,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(D,K){return f(this,D,K,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(S,D,K){var $={fired:!1,wrapFn:void 0,target:S,type:D,listener:K},ee=p.bind($);return ee.listener=K,$.wrapFn=ee,ee}o.prototype.once=function(D,K){return l(K),this.on(D,y(this,D,K)),this},o.prototype.prependOnceListener=function(D,K){return l(K),this.prependListener(D,y(this,D,K)),this},o.prototype.removeListener=function(D,K){var $,ee,P,fe,re;if(l(K),ee=this._events,ee===void 0)return this;if($=ee[D],$===void 0)return this;if($===K||$.listener===K)--this._eventsCount===0?this._events=Object.create(null):(delete ee[D],ee.removeListener&&this.emit("removeListener",D,$.listener||K));else if(typeof $!="function"){for(P=-1,fe=$.length-1;fe>=0;fe--)if($[fe]===K||$[fe].listener===K){re=$[fe].listener,P=fe;break}if(P<0)return this;P===0?$.shift():_($,P),$.length===1&&(ee[D]=$[0]),ee.removeListener!==void 0&&this.emit("removeListener",D,re||K)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(D){var K,$,ee;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[D]),this;if(arguments.length===0){var P=Object.keys($),fe;for(ee=0;ee<P.length;++ee)fe=P[ee],fe!=="removeListener"&&this.removeAllListeners(fe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=$[D],typeof K=="function")this.removeListener(D,K);else if(K!==void 0)for(ee=K.length-1;ee>=0;ee--)this.removeListener(D,K[ee]);return this};function b(S,D,K){var $=S._events;if($===void 0)return[];var ee=$[D];return ee===void 0?[]:typeof ee=="function"?K?[ee.listener||ee]:[ee]:K?E(ee):A(ee,ee.length)}o.prototype.listeners=function(D){return b(this,D,!0)},o.prototype.rawListeners=function(D){return b(this,D,!1)},o.listenerCount=function(S,D){return typeof S.listenerCount=="function"?S.listenerCount(D):m.call(S,D)},o.prototype.listenerCount=m;function m(S){var D=this._events;if(D!==void 0){var K=D[S];if(typeof K=="function")return 1;if(K!==void 0)return K.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function A(S,D){for(var K=new Array(D),$=0;$<D;++$)K[$]=S[$];return K}function _(S,D){for(;D+1<S.length;D++)S[D]=S[D+1];S.pop()}function E(S){for(var D=new Array(S.length),K=0;K<D.length;++K)D[K]=S[K].listener||S[K];return D}function v(S,D){return new Promise(function(K,$){function ee(fe){S.removeListener(D,P),$(fe)}function P(){typeof S.removeListener=="function"&&S.removeListener("error",ee),K([].slice.call(arguments))}N(S,D,P,{once:!0}),D!=="error"&&C(S,ee,{once:!0})})}function C(S,D,K){typeof S.on=="function"&&N(S,"error",D,K)}function N(S,D,K,$){if(typeof S.on=="function")$.once?S.once(D,K):S.on(D,K);else if(typeof S.addEventListener=="function")S.addEventListener(D,function ee(P){$.once&&S.removeEventListener(D,ee),K(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return gp.exports}var yp={exports:{}},f5;function fu(){return f5||(f5=1,typeof Object.create=="function"?yp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yp.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}),yp.exports}function AN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var s4={exports:{}},Jn=s4.exports={},Oo,Lo;function Gy(){throw new Error("setTimeout has not been defined")}function Wy(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Oo=setTimeout:Oo=Gy}catch{Oo=Gy}try{typeof clearTimeout=="function"?Lo=clearTimeout:Lo=Wy}catch{Lo=Wy}})();function o4(r){if(Oo===setTimeout)return setTimeout(r,0);if((Oo===Gy||!Oo)&&setTimeout)return Oo=setTimeout,setTimeout(r,0);try{return Oo(r,0)}catch{try{return Oo.call(null,r,0)}catch{return Oo.call(this,r,0)}}}function EN(r){if(Lo===clearTimeout)return clearTimeout(r);if((Lo===Wy||!Lo)&&clearTimeout)return Lo=clearTimeout,clearTimeout(r);try{return Lo(r)}catch{try{return Lo.call(null,r)}catch{return Lo.call(this,r)}}}var wl=[],Ah=!1,Yu,Wp=-1;function kN(){!Ah||!Yu||(Ah=!1,Yu.length?wl=Yu.concat(wl):Wp=-1,wl.length&&l4())}function l4(){if(!Ah){var r=o4(kN);Ah=!0;for(var e=wl.length;e;){for(Yu=wl,wl=[];++Wp<e;)Yu&&Yu[Wp].run();Wp=-1,e=wl.length}Yu=null,Ah=!1,EN(r)}}Jn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];wl.push(new u4(r,e)),wl.length===1&&!Ah&&o4(l4)};function u4(r,e){this.fun=r,this.array=e}u4.prototype.run=function(){this.fun.apply(null,this.array)};Jn.title="browser";Jn.browser=!0;Jn.env={};Jn.argv=[];Jn.version="";Jn.versions={};function _l(){}Jn.on=_l;Jn.addListener=_l;Jn.once=_l;Jn.off=_l;Jn.removeListener=_l;Jn.removeAllListeners=_l;Jn.emit=_l;Jn.prependListener=_l;Jn.prependOnceListener=_l;Jn.listeners=function(r){return[]};Jn.binding=function(r){throw new Error("process.binding is not supported")};Jn.cwd=function(){return"/"};Jn.chdir=function(r){throw new Error("process.chdir is not supported")};Jn.umask=function(){return 0};var NN=s4.exports;const hr=AN(NN);var dg,d5;function c4(){return d5||(d5=1,dg=Uv().EventEmitter),dg}var pg={},jf={},p5;function TN(){if(p5)return jf;p5=1,jf.byteLength=l,jf.toByteArray=f,jf.fromByteArray=b;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=i.length;s<o;++s)r[s]=i[s],e[i.charCodeAt(s)]=s;e[45]=62,e[95]=63;function c(m){var A=m.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=A);var E=_===A?0:4-_%4;return[_,E]}function l(m){var A=c(m),_=A[0],E=A[1];return(_+E)*3/4-E}function h(m,A,_){return(A+_)*3/4-_}function f(m){var A,_=c(m),E=_[0],v=_[1],C=new t(h(m,E,v)),N=0,S=v>0?E-4:E,D;for(D=0;D<S;D+=4)A=e[m.charCodeAt(D)]<<18|e[m.charCodeAt(D+1)]<<12|e[m.charCodeAt(D+2)]<<6|e[m.charCodeAt(D+3)],C[N++]=A>>16&255,C[N++]=A>>8&255,C[N++]=A&255;return v===2&&(A=e[m.charCodeAt(D)]<<2|e[m.charCodeAt(D+1)]>>4,C[N++]=A&255),v===1&&(A=e[m.charCodeAt(D)]<<10|e[m.charCodeAt(D+1)]<<4|e[m.charCodeAt(D+2)]>>2,C[N++]=A>>8&255,C[N++]=A&255),C}function p(m){return r[m>>18&63]+r[m>>12&63]+r[m>>6&63]+r[m&63]}function y(m,A,_){for(var E,v=[],C=A;C<_;C+=3)E=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(m[C+2]&255),v.push(p(E));return v.join("")}function b(m){for(var A,_=m.length,E=_%3,v=[],C=16383,N=0,S=_-E;N<S;N+=C)v.push(y(m,N,N+C>S?S:N+C));return E===1?(A=m[_-1],v.push(r[A>>2]+r[A<<4&63]+"==")):E===2&&(A=(m[_-2]<<8)+m[_-1],v.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),v.join("")}return jf}var vp={};var m5;function RN(){return m5||(m5=1,vp.read=function(r,e,t,i,s){var o,c,l=s*8-i-1,h=(1<<l)-1,f=h>>1,p=-7,y=t?s-1:0,b=t?-1:1,m=r[e+y];for(y+=b,o=m&(1<<-p)-1,m>>=-p,p+=l;p>0;o=o*256+r[e+y],y+=b,p-=8);for(c=o&(1<<-p)-1,o>>=-p,p+=i;p>0;c=c*256+r[e+y],y+=b,p-=8);if(o===0)o=1-f;else{if(o===h)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-f}return(m?-1:1)*c*Math.pow(2,o-i)},vp.write=function(r,e,t,i,s,o){var c,l,h,f=o*8-s-1,p=(1<<f)-1,y=p>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,A=i?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,c=p):(c=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+y>=1?e+=b/h:e+=b*Math.pow(2,1-y),e*h>=2&&(c++,h/=2),c+y>=p?(l=0,c=p):c+y>=1?(l=(e*h-1)*Math.pow(2,s),c=c+y):(l=e*Math.pow(2,y-1)*Math.pow(2,s),c=0));s>=8;r[t+m]=l&255,m+=A,l/=256,s-=8);for(c=c<<s|l,f+=s;f>0;r[t+m]=c&255,m+=A,c/=256,f-=8);r[t+m-A]|=_*128}),vp}var g5;function R0(){return g5||(g5=1,(function(r){var e=TN(),t=RN(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=C,r.INSPECT_MAX_BYTES=50;var s=2147483647;r.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=o(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var q=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(q,T),q.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(q){if(q>s)throw new RangeError('The value "'+q+'" is invalid for option "size"');var T=new Uint8Array(q);return Object.setPrototypeOf(T,l.prototype),T}function l(q,T,O){if(typeof q=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(q)}return h(q,T,O)}l.poolSize=8192;function h(q,T,O){if(typeof q=="string")return b(q,T);if(ArrayBuffer.isView(q))return A(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(ke(q,ArrayBuffer)||q&&ke(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(q,SharedArrayBuffer)||q&&ke(q.buffer,SharedArrayBuffer)))return _(q,T,O);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var M=q.valueOf&&q.valueOf();if(M!=null&&M!==q)return l.from(M,T,O);var ve=E(q);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return l.from(q[Symbol.toPrimitive]("string"),T,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}l.from=function(q,T,O){return h(q,T,O)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function f(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function p(q,T,O){return f(q),q<=0?c(q):T!==void 0?typeof O=="string"?c(q).fill(T,O):c(q).fill(T):c(q)}l.alloc=function(q,T,O){return p(q,T,O)};function y(q){return f(q),c(q<0?0:v(q)|0)}l.allocUnsafe=function(q){return y(q)},l.allocUnsafeSlow=function(q){return y(q)};function b(q,T){if((typeof T!="string"||T==="")&&(T="utf8"),!l.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var O=N(q,T)|0,M=c(O),ve=M.write(q,T);return ve!==O&&(M=M.slice(0,ve)),M}function m(q){for(var T=q.length<0?0:v(q.length)|0,O=c(T),M=0;M<T;M+=1)O[M]=q[M]&255;return O}function A(q){if(ke(q,Uint8Array)){var T=new Uint8Array(q);return _(T.buffer,T.byteOffset,T.byteLength)}return m(q)}function _(q,T,O){if(T<0||q.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<T+(O||0))throw new RangeError('"length" is outside of buffer bounds');var M;return T===void 0&&O===void 0?M=new Uint8Array(q):O===void 0?M=new Uint8Array(q,T):M=new Uint8Array(q,T,O),Object.setPrototypeOf(M,l.prototype),M}function E(q){if(l.isBuffer(q)){var T=v(q.length)|0,O=c(T);return O.length===0||q.copy(O,0,0,T),O}if(q.length!==void 0)return typeof q.length!="number"||z(q.length)?c(0):m(q);if(q.type==="Buffer"&&Array.isArray(q.data))return m(q.data)}function v(q){if(q>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return q|0}function C(q){return+q!=q&&(q=0),l.alloc(+q)}l.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==l.prototype},l.compare=function(T,O){if(ke(T,Uint8Array)&&(T=l.from(T,T.offset,T.byteLength)),ke(O,Uint8Array)&&(O=l.from(O,O.offset,O.byteLength)),!l.isBuffer(T)||!l.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===O)return 0;for(var M=T.length,ve=O.length,xe=0,we=Math.min(M,ve);xe<we;++xe)if(T[xe]!==O[xe]){M=T[xe],ve=O[xe];break}return M<ve?-1:ve<M?1:0},l.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(T,O){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return l.alloc(0);var M;if(O===void 0)for(O=0,M=0;M<T.length;++M)O+=T[M].length;var ve=l.allocUnsafe(O),xe=0;for(M=0;M<T.length;++M){var we=T[M];if(ke(we,Uint8Array))xe+we.length>ve.length?l.from(we).copy(ve,xe):Uint8Array.prototype.set.call(ve,we,xe);else if(l.isBuffer(we))we.copy(ve,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=we.length}return ve};function N(q,T){if(l.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ke(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var O=q.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&O===0)return 0;for(var ve=!1;;)switch(T){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return U(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return Q(q).length;default:if(ve)return M?-1:U(q).length;T=(""+T).toLowerCase(),ve=!0}}l.byteLength=N;function S(q,T,O){var M=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,T>>>=0,O<=T))return"";for(q||(q="utf8");;)switch(q){case"hex":return ye(this,T,O);case"utf8":case"utf-8":return L(this,T,O);case"ascii":return Z(this,T,O);case"latin1":case"binary":return pe(this,T,O);case"base64":return J(this,T,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,T,O);default:if(M)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),M=!0}}l.prototype._isBuffer=!0;function D(q,T,O){var M=q[T];q[T]=q[O],q[O]=M}l.prototype.swap16=function(){var T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<T;O+=2)D(this,O,O+1);return this},l.prototype.swap32=function(){var T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<T;O+=4)D(this,O,O+3),D(this,O+1,O+2);return this},l.prototype.swap64=function(){var T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<T;O+=8)D(this,O,O+7),D(this,O+1,O+6),D(this,O+2,O+5),D(this,O+3,O+4);return this},l.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?L(this,0,T):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(T){if(!l.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:l.compare(this,T)===0},l.prototype.inspect=function(){var T="",O=r.INSPECT_MAX_BYTES;return T=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(T+=" ... "),"<Buffer "+T+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(T,O,M,ve,xe){if(ke(T,Uint8Array)&&(T=l.from(T,T.offset,T.byteLength)),!l.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(O===void 0&&(O=0),M===void 0&&(M=T?T.length:0),ve===void 0&&(ve=0),xe===void 0&&(xe=this.length),O<0||M>T.length||ve<0||xe>this.length)throw new RangeError("out of range index");if(ve>=xe&&O>=M)return 0;if(ve>=xe)return-1;if(O>=M)return 1;if(O>>>=0,M>>>=0,ve>>>=0,xe>>>=0,this===T)return 0;for(var we=xe-ve,je=M-O,qe=Math.min(we,je),Me=this.slice(ve,xe),Ke=T.slice(O,M),at=0;at<qe;++at)if(Me[at]!==Ke[at]){we=Me[at],je=Ke[at];break}return we<je?-1:je<we?1:0};function K(q,T,O,M,ve){if(q.length===0)return-1;if(typeof O=="string"?(M=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,z(O)&&(O=ve?0:q.length-1),O<0&&(O=q.length+O),O>=q.length){if(ve)return-1;O=q.length-1}else if(O<0)if(ve)O=0;else return-1;if(typeof T=="string"&&(T=l.from(T,M)),l.isBuffer(T))return T.length===0?-1:$(q,T,O,M,ve);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(q,T,O):Uint8Array.prototype.lastIndexOf.call(q,T,O):$(q,[T],O,M,ve);throw new TypeError("val must be string, number or Buffer")}function $(q,T,O,M,ve){var xe=1,we=q.length,je=T.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(q.length<2||T.length<2)return-1;xe=2,we/=2,je/=2,O/=2}function qe(dt,Rt){return xe===1?dt[Rt]:dt.readUInt16BE(Rt*xe)}var Me;if(ve){var Ke=-1;for(Me=O;Me<we;Me++)if(qe(q,Me)===qe(T,Ke===-1?0:Me-Ke)){if(Ke===-1&&(Ke=Me),Me-Ke+1===je)return Ke*xe}else Ke!==-1&&(Me-=Me-Ke),Ke=-1}else for(O+je>we&&(O=we-je),Me=O;Me>=0;Me--){for(var at=!0,ht=0;ht<je;ht++)if(qe(q,Me+ht)!==qe(T,ht)){at=!1;break}if(at)return Me}return-1}l.prototype.includes=function(T,O,M){return this.indexOf(T,O,M)!==-1},l.prototype.indexOf=function(T,O,M){return K(this,T,O,M,!0)},l.prototype.lastIndexOf=function(T,O,M){return K(this,T,O,M,!1)};function ee(q,T,O,M){O=Number(O)||0;var ve=q.length-O;M?(M=Number(M),M>ve&&(M=ve)):M=ve;var xe=T.length;M>xe/2&&(M=xe/2);for(var we=0;we<M;++we){var je=parseInt(T.substr(we*2,2),16);if(z(je))return we;q[O+we]=je}return we}function P(q,T,O,M){return ue(U(T,q.length-O),q,O,M)}function fe(q,T,O,M){return ue(ne(T),q,O,M)}function re(q,T,O,M){return ue(Q(T),q,O,M)}function B(q,T,O,M){return ue(oe(T,q.length-O),q,O,M)}l.prototype.write=function(T,O,M,ve){if(O===void 0)ve="utf8",M=this.length,O=0;else if(M===void 0&&typeof O=="string")ve=O,M=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(M)?(M=M>>>0,ve===void 0&&(ve="utf8")):(ve=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-O;if((M===void 0||M>xe)&&(M=xe),T.length>0&&(M<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");for(var we=!1;;)switch(ve){case"hex":return ee(this,T,O,M);case"utf8":case"utf-8":return P(this,T,O,M);case"ascii":case"latin1":case"binary":return fe(this,T,O,M);case"base64":return re(this,T,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,T,O,M);default:if(we)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),we=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(q,T,O){return T===0&&O===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(T,O))}function L(q,T,O){O=Math.min(q.length,O);for(var M=[],ve=T;ve<O;){var xe=q[ve],we=null,je=xe>239?4:xe>223?3:xe>191?2:1;if(ve+je<=O){var qe,Me,Ke,at;switch(je){case 1:xe<128&&(we=xe);break;case 2:qe=q[ve+1],(qe&192)===128&&(at=(xe&31)<<6|qe&63,at>127&&(we=at));break;case 3:qe=q[ve+1],Me=q[ve+2],(qe&192)===128&&(Me&192)===128&&(at=(xe&15)<<12|(qe&63)<<6|Me&63,at>2047&&(at<55296||at>57343)&&(we=at));break;case 4:qe=q[ve+1],Me=q[ve+2],Ke=q[ve+3],(qe&192)===128&&(Me&192)===128&&(Ke&192)===128&&(at=(xe&15)<<18|(qe&63)<<12|(Me&63)<<6|Ke&63,at>65535&&at<1114112&&(we=at))}}we===null?(we=65533,je=1):we>65535&&(we-=65536,M.push(we>>>10&1023|55296),we=56320|we&1023),M.push(we),ve+=je}return ie(M)}var se=4096;function ie(q){var T=q.length;if(T<=se)return String.fromCharCode.apply(String,q);for(var O="",M=0;M<T;)O+=String.fromCharCode.apply(String,q.slice(M,M+=se));return O}function Z(q,T,O){var M="";O=Math.min(q.length,O);for(var ve=T;ve<O;++ve)M+=String.fromCharCode(q[ve]&127);return M}function pe(q,T,O){var M="";O=Math.min(q.length,O);for(var ve=T;ve<O;++ve)M+=String.fromCharCode(q[ve]);return M}function ye(q,T,O){var M=q.length;(!T||T<0)&&(T=0),(!O||O<0||O>M)&&(O=M);for(var ve="",xe=T;xe<O;++xe)ve+=te[q[xe]];return ve}function Te(q,T,O){for(var M=q.slice(T,O),ve="",xe=0;xe<M.length-1;xe+=2)ve+=String.fromCharCode(M[xe]+M[xe+1]*256);return ve}l.prototype.slice=function(T,O){var M=this.length;T=~~T,O=O===void 0?M:~~O,T<0?(T+=M,T<0&&(T=0)):T>M&&(T=M),O<0?(O+=M,O<0&&(O=0)):O>M&&(O=M),O<T&&(O=T);var ve=this.subarray(T,O);return Object.setPrototypeOf(ve,l.prototype),ve};function W(q,T,O){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+T>O)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(T,O,M){T=T>>>0,O=O>>>0,M||W(T,O,this.length);for(var ve=this[T],xe=1,we=0;++we<O&&(xe*=256);)ve+=this[T+we]*xe;return ve},l.prototype.readUintBE=l.prototype.readUIntBE=function(T,O,M){T=T>>>0,O=O>>>0,M||W(T,O,this.length);for(var ve=this[T+--O],xe=1;O>0&&(xe*=256);)ve+=this[T+--O]*xe;return ve},l.prototype.readUint8=l.prototype.readUInt8=function(T,O){return T=T>>>0,O||W(T,1,this.length),this[T]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(T,O){return T=T>>>0,O||W(T,2,this.length),this[T]|this[T+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(T,O){return T=T>>>0,O||W(T,2,this.length),this[T]<<8|this[T+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(T,O){return T=T>>>0,O||W(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(T,O){return T=T>>>0,O||W(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},l.prototype.readIntLE=function(T,O,M){T=T>>>0,O=O>>>0,M||W(T,O,this.length);for(var ve=this[T],xe=1,we=0;++we<O&&(xe*=256);)ve+=this[T+we]*xe;return xe*=128,ve>=xe&&(ve-=Math.pow(2,8*O)),ve},l.prototype.readIntBE=function(T,O,M){T=T>>>0,O=O>>>0,M||W(T,O,this.length);for(var ve=O,xe=1,we=this[T+--ve];ve>0&&(xe*=256);)we+=this[T+--ve]*xe;return xe*=128,we>=xe&&(we-=Math.pow(2,8*O)),we},l.prototype.readInt8=function(T,O){return T=T>>>0,O||W(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},l.prototype.readInt16LE=function(T,O){T=T>>>0,O||W(T,2,this.length);var M=this[T]|this[T+1]<<8;return M&32768?M|4294901760:M},l.prototype.readInt16BE=function(T,O){T=T>>>0,O||W(T,2,this.length);var M=this[T+1]|this[T]<<8;return M&32768?M|4294901760:M},l.prototype.readInt32LE=function(T,O){return T=T>>>0,O||W(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},l.prototype.readInt32BE=function(T,O){return T=T>>>0,O||W(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},l.prototype.readFloatLE=function(T,O){return T=T>>>0,O||W(T,4,this.length),t.read(this,T,!0,23,4)},l.prototype.readFloatBE=function(T,O){return T=T>>>0,O||W(T,4,this.length),t.read(this,T,!1,23,4)},l.prototype.readDoubleLE=function(T,O){return T=T>>>0,O||W(T,8,this.length),t.read(this,T,!0,52,8)},l.prototype.readDoubleBE=function(T,O){return T=T>>>0,O||W(T,8,this.length),t.read(this,T,!1,52,8)};function R(q,T,O,M,ve,xe){if(!l.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>ve||T<xe)throw new RangeError('"value" argument is out of bounds');if(O+M>q.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(T,O,M,ve){if(T=+T,O=O>>>0,M=M>>>0,!ve){var xe=Math.pow(2,8*M)-1;R(this,T,O,M,xe,0)}var we=1,je=0;for(this[O]=T&255;++je<M&&(we*=256);)this[O+je]=T/we&255;return O+M},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(T,O,M,ve){if(T=+T,O=O>>>0,M=M>>>0,!ve){var xe=Math.pow(2,8*M)-1;R(this,T,O,M,xe,0)}var we=M-1,je=1;for(this[O+we]=T&255;--we>=0&&(je*=256);)this[O+we]=T/je&255;return O+M},l.prototype.writeUint8=l.prototype.writeUInt8=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,1,255,0),this[O]=T&255,O+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,2,65535,0),this[O]=T&255,this[O+1]=T>>>8,O+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,2,65535,0),this[O]=T>>>8,this[O+1]=T&255,O+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,4,4294967295,0),this[O+3]=T>>>24,this[O+2]=T>>>16,this[O+1]=T>>>8,this[O]=T&255,O+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,4,4294967295,0),this[O]=T>>>24,this[O+1]=T>>>16,this[O+2]=T>>>8,this[O+3]=T&255,O+4},l.prototype.writeIntLE=function(T,O,M,ve){if(T=+T,O=O>>>0,!ve){var xe=Math.pow(2,8*M-1);R(this,T,O,M,xe-1,-xe)}var we=0,je=1,qe=0;for(this[O]=T&255;++we<M&&(je*=256);)T<0&&qe===0&&this[O+we-1]!==0&&(qe=1),this[O+we]=(T/je>>0)-qe&255;return O+M},l.prototype.writeIntBE=function(T,O,M,ve){if(T=+T,O=O>>>0,!ve){var xe=Math.pow(2,8*M-1);R(this,T,O,M,xe-1,-xe)}var we=M-1,je=1,qe=0;for(this[O+we]=T&255;--we>=0&&(je*=256);)T<0&&qe===0&&this[O+we+1]!==0&&(qe=1),this[O+we]=(T/je>>0)-qe&255;return O+M},l.prototype.writeInt8=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,1,127,-128),T<0&&(T=255+T+1),this[O]=T&255,O+1},l.prototype.writeInt16LE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,2,32767,-32768),this[O]=T&255,this[O+1]=T>>>8,O+2},l.prototype.writeInt16BE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,2,32767,-32768),this[O]=T>>>8,this[O+1]=T&255,O+2},l.prototype.writeInt32LE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,4,2147483647,-2147483648),this[O]=T&255,this[O+1]=T>>>8,this[O+2]=T>>>16,this[O+3]=T>>>24,O+4},l.prototype.writeInt32BE=function(T,O,M){return T=+T,O=O>>>0,M||R(this,T,O,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[O]=T>>>24,this[O+1]=T>>>16,this[O+2]=T>>>8,this[O+3]=T&255,O+4};function G(q,T,O,M,ve,xe){if(O+M>q.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function X(q,T,O,M,ve){return T=+T,O=O>>>0,ve||G(q,T,O,4),t.write(q,T,O,M,23,4),O+4}l.prototype.writeFloatLE=function(T,O,M){return X(this,T,O,!0,M)},l.prototype.writeFloatBE=function(T,O,M){return X(this,T,O,!1,M)};function ce(q,T,O,M,ve){return T=+T,O=O>>>0,ve||G(q,T,O,8),t.write(q,T,O,M,52,8),O+8}l.prototype.writeDoubleLE=function(T,O,M){return ce(this,T,O,!0,M)},l.prototype.writeDoubleBE=function(T,O,M){return ce(this,T,O,!1,M)},l.prototype.copy=function(T,O,M,ve){if(!l.isBuffer(T))throw new TypeError("argument should be a Buffer");if(M||(M=0),!ve&&ve!==0&&(ve=this.length),O>=T.length&&(O=T.length),O||(O=0),ve>0&&ve<M&&(ve=M),ve===M||T.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),T.length-O<ve-M&&(ve=T.length-O+M);var xe=ve-M;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,M,ve):Uint8Array.prototype.set.call(T,this.subarray(M,ve),O),xe},l.prototype.fill=function(T,O,M,ve){if(typeof T=="string"){if(typeof O=="string"?(ve=O,O=0,M=this.length):typeof M=="string"&&(ve=M,M=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!l.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(T.length===1){var xe=T.charCodeAt(0);(ve==="utf8"&&xe<128||ve==="latin1")&&(T=xe)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(O<0||this.length<O||this.length<M)throw new RangeError("Out of range index");if(M<=O)return this;O=O>>>0,M=M===void 0?this.length:M>>>0,T||(T=0);var we;if(typeof T=="number")for(we=O;we<M;++we)this[we]=T;else{var je=l.isBuffer(T)?T:l.from(T,ve),qe=je.length;if(qe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(we=0;we<M-O;++we)this[we+O]=je[we%qe]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function I(q){if(q=q.split("=")[0],q=q.trim().replace(ae,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function U(q,T){T=T||1/0;for(var O,M=q.length,ve=null,xe=[],we=0;we<M;++we){if(O=q.charCodeAt(we),O>55295&&O<57344){if(!ve){if(O>56319){(T-=3)>-1&&xe.push(239,191,189);continue}else if(we+1===M){(T-=3)>-1&&xe.push(239,191,189);continue}ve=O;continue}if(O<56320){(T-=3)>-1&&xe.push(239,191,189),ve=O;continue}O=(ve-55296<<10|O-56320)+65536}else ve&&(T-=3)>-1&&xe.push(239,191,189);if(ve=null,O<128){if((T-=1)<0)break;xe.push(O)}else if(O<2048){if((T-=2)<0)break;xe.push(O>>6|192,O&63|128)}else if(O<65536){if((T-=3)<0)break;xe.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((T-=4)<0)break;xe.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return xe}function ne(q){for(var T=[],O=0;O<q.length;++O)T.push(q.charCodeAt(O)&255);return T}function oe(q,T){for(var O,M,ve,xe=[],we=0;we<q.length&&!((T-=2)<0);++we)O=q.charCodeAt(we),M=O>>8,ve=O%256,xe.push(ve),xe.push(M);return xe}function Q(q){return e.toByteArray(I(q))}function ue(q,T,O,M){for(var ve=0;ve<M&&!(ve+O>=T.length||ve>=q.length);++ve)T[ve+O]=q[ve];return ve}function ke(q,T){return q instanceof T||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===T.name}function z(q){return q!==q}var te=(function(){for(var q="0123456789abcdef",T=new Array(256),O=0;O<16;++O)for(var M=O*16,ve=0;ve<16;++ve)T[M+ve]=q[O]+q[ve];return T})()})(pg)),pg}var mg={},gg={},yg,y5;function h4(){return y5||(y5=1,yg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==s||l.enumerable!==!0)return!1}return!0}),yg}var vg,v5;function Mv(){if(v5)return vg;v5=1;var r=h4();return vg=function(){return r()&&!!Symbol.toStringTag},vg}var bg,b5;function f4(){return b5||(b5=1,bg=Object),bg}var wg,w5;function CN(){return w5||(w5=1,wg=Error),wg}var _g,_5;function ON(){return _5||(_5=1,_g=EvalError),_g}var xg,x5;function LN(){return x5||(x5=1,xg=RangeError),xg}var Sg,S5;function jN(){return S5||(S5=1,Sg=ReferenceError),Sg}var Ag,A5;function d4(){return A5||(A5=1,Ag=SyntaxError),Ag}var Eg,E5;function fd(){return E5||(E5=1,Eg=TypeError),Eg}var kg,k5;function PN(){return k5||(k5=1,kg=URIError),kg}var Ng,N5;function DN(){return N5||(N5=1,Ng=Math.abs),Ng}var Tg,T5;function BN(){return T5||(T5=1,Tg=Math.floor),Tg}var Rg,R5;function IN(){return R5||(R5=1,Rg=Math.max),Rg}var Cg,C5;function UN(){return C5||(C5=1,Cg=Math.min),Cg}var Og,O5;function MN(){return O5||(O5=1,Og=Math.pow),Og}var Lg,L5;function FN(){return L5||(L5=1,Lg=Math.round),Lg}var jg,j5;function zN(){return j5||(j5=1,jg=Number.isNaN||function(e){return e!==e}),jg}var Pg,P5;function qN(){if(P5)return Pg;P5=1;var r=zN();return Pg=function(t){return r(t)||t===0?t:t<0?-1:1},Pg}var Dg,D5;function HN(){return D5||(D5=1,Dg=Object.getOwnPropertyDescriptor),Dg}var Bg,B5;function dd(){if(B5)return Bg;B5=1;var r=HN();if(r)try{r([],"length")}catch{r=null}return Bg=r,Bg}var Ig,I5;function C0(){if(I5)return Ig;I5=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Ig=r,Ig}var Ug,U5;function $N(){if(U5)return Ug;U5=1;var r=typeof Symbol<"u"&&Symbol,e=h4();return Ug=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ug}var Mg,M5;function p4(){return M5||(M5=1,Mg=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Mg}var Fg,F5;function m4(){if(F5)return Fg;F5=1;var r=f4();return Fg=r.getPrototypeOf||null,Fg}var zg,z5;function GN(){if(z5)return zg;z5=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,i="[object Function]",s=function(h,f){for(var p=[],y=0;y<h.length;y+=1)p[y]=h[y];for(var b=0;b<f.length;b+=1)p[b+h.length]=f[b];return p},o=function(h,f){for(var p=[],y=f,b=0;y<h.length;y+=1,b+=1)p[b]=h[y];return p},c=function(l,h){for(var f="",p=0;p<l.length;p+=1)f+=l[p],p+1<l.length&&(f+=h);return f};return zg=function(h){var f=this;if(typeof f!="function"||e.apply(f)!==i)throw new TypeError(r+f);for(var p=o(arguments,1),y,b=function(){if(this instanceof y){var v=f.apply(this,s(p,arguments));return Object(v)===v?v:this}return f.apply(h,s(p,arguments))},m=t(0,f.length-p.length),A=[],_=0;_<m;_++)A[_]="$"+_;if(y=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(b),f.prototype){var E=function(){};E.prototype=f.prototype,y.prototype=new E,E.prototype=null}return y},zg}var qg,q5;function pd(){if(q5)return qg;q5=1;var r=GN();return qg=Function.prototype.bind||r,qg}var Hg,H5;function Fv(){return H5||(H5=1,Hg=Function.prototype.call),Hg}var $g,$5;function g4(){return $5||($5=1,$g=Function.prototype.apply),$g}var Gg,G5;function WN(){return G5||(G5=1,Gg=typeof Reflect<"u"&&Reflect&&Reflect.apply),Gg}var Wg,W5;function VN(){if(W5)return Wg;W5=1;var r=pd(),e=g4(),t=Fv(),i=WN();return Wg=i||r.call(t,e),Wg}var Vg,V5;function KN(){if(V5)return Vg;V5=1;var r=pd(),e=fd(),t=Fv(),i=VN();return Vg=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return i(r,t,o)},Vg}var Kg,K5;function YN(){if(K5)return Kg;K5=1;var r=KN(),e=dd(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var i=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return Kg=i&&typeof i.get=="function"?r([i.get]):typeof o=="function"?(function(l){return o(l==null?l:s(l))}):!1,Kg}var Yg,Y5;function XN(){if(Y5)return Yg;Y5=1;var r=p4(),e=m4(),t=YN();return Yg=r?function(s){return r(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,Yg}var Xg,X5;function JN(){if(X5)return Xg;X5=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=pd();return Xg=t.call(r,e),Xg}var Jg,J5;function zv(){if(J5)return Jg;J5=1;var r,e=f4(),t=CN(),i=ON(),s=LN(),o=jN(),c=d4(),l=fd(),h=PN(),f=DN(),p=BN(),y=IN(),b=UN(),m=MN(),A=FN(),_=qN(),E=Function,v=function(ne){try{return E('"use strict"; return ('+ne+").constructor;")()}catch{}},C=dd(),N=C0(),S=function(){throw new l},D=C?(function(){try{return arguments.callee,S}catch{try{return C(arguments,"callee").get}catch{return S}}})():S,K=$N()(),$=XN(),ee=m4(),P=p4(),fe=g4(),re=Fv(),B={},J=typeof Uint8Array>"u"||!$?r:$(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":K&&$?$([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&$?$($([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!$?r:$(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!$?r:$(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&$?$(""[Symbol.iterator]()):r,"%Symbol%":K?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":D,"%TypedArray%":J,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":fe,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":ee,"%Math.abs%":f,"%Math.floor%":p,"%Math.max%":y,"%Math.min%":b,"%Math.pow%":m,"%Math.round%":A,"%Math.sign%":_,"%Reflect.getPrototypeOf%":P};if($)try{null.error}catch(ne){var se=$($(ne));L["%Error.prototype%"]=se}var ie=function ne(oe){var Q;if(oe==="%AsyncFunction%")Q=v("async function () {}");else if(oe==="%GeneratorFunction%")Q=v("function* () {}");else if(oe==="%AsyncGeneratorFunction%")Q=v("async function* () {}");else if(oe==="%AsyncGenerator%"){var ue=ne("%AsyncGeneratorFunction%");ue&&(Q=ue.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var ke=ne("%AsyncGenerator%");ke&&$&&(Q=$(ke.prototype))}return L[oe]=Q,Q},Z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pe=pd(),ye=JN(),Te=pe.call(re,Array.prototype.concat),W=pe.call(fe,Array.prototype.splice),R=pe.call(re,String.prototype.replace),G=pe.call(re,String.prototype.slice),X=pe.call(re,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,I=function(oe){var Q=G(oe,0,1),ue=G(oe,-1);if(Q==="%"&&ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(ue==="%"&&Q!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var ke=[];return R(oe,ce,function(z,te,q,T){ke[ke.length]=q?R(T,ae,"$1"):te||z}),ke},U=function(oe,Q){var ue=oe,ke;if(ye(Z,ue)&&(ke=Z[ue],ue="%"+ke[0]+"%"),ye(L,ue)){var z=L[ue];if(z===B&&(z=ie(ue)),typeof z>"u"&&!Q)throw new l("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:ke,name:ue,value:z}}throw new c("intrinsic "+oe+" does not exist!")};return Jg=function(oe,Q){if(typeof oe!="string"||oe.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new l('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/,oe)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ue=I(oe),ke=ue.length>0?ue[0]:"",z=U("%"+ke+"%",Q),te=z.name,q=z.value,T=!1,O=z.alias;O&&(ke=O[0],W(ue,Te([0,1],O)));for(var M=1,ve=!0;M<ue.length;M+=1){var xe=ue[M],we=G(xe,0,1),je=G(xe,-1);if((we==='"'||we==="'"||we==="`"||je==='"'||je==="'"||je==="`")&&we!==je)throw new c("property names with quotes must have matching quotes");if((xe==="constructor"||!ve)&&(T=!0),ke+="."+xe,te="%"+ke+"%",ye(L,te))q=L[te];else if(q!=null){if(!(xe in q)){if(!Q)throw new l("base intrinsic for "+oe+" exists, but the property is not available.");return}if(C&&M+1>=ue.length){var qe=C(q,xe);ve=!!qe,ve&&"get"in qe&&!("originalValue"in qe.get)?q=qe.get:q=q[xe]}else ve=ye(q,xe),q=q[xe];ve&&!T&&(L[te]=q)}}return q},Jg}var Zg={exports:{}},Qg,Z5;function ZN(){if(Z5)return Qg;Z5=1;var r=C0(),e=d4(),t=fd(),i=dd();return Qg=function(o,c,l){if(!o||typeof o!="object"&&typeof o!="function")throw new t("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,y=arguments.length>6?arguments[6]:!1,b=!!i&&i(o,c);if(r)r(o,c,{configurable:p===null&&b?b.configurable:!p,enumerable:h===null&&b?b.enumerable:!h,value:l,writable:f===null&&b?b.writable:!f});else if(y||!h&&!f&&!p)o[c]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Qg}var e1,Q5;function QN(){if(Q5)return e1;Q5=1;var r=C0(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},e1=e,e1}var t1,e_;function eT(){if(e_)return t1;e_=1;var r=zv(),e=ZN(),t=QN()(),i=dd(),s=fd(),o=r("%Math.floor%");return t1=function(l,h){if(typeof l!="function")throw new s("`fn` is not a function");if(typeof h!="number"||h<0||h>4294967295||o(h)!==h)throw new s("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],p=!0,y=!0;if("length"in l&&i){var b=i(l,"length");b&&!b.configurable&&(p=!1),b&&!b.writable&&(y=!1)}return(p||y||!f)&&(t?e(l,"length",h,!0,!0):e(l,"length",h)),l},t1}var t_;function y4(){return t_||(t_=1,(function(r){var e=pd(),t=zv(),i=eT(),s=fd(),o=t("%Function.prototype.apply%"),c=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(c,o),h=C0(),f=t("%Math.max%");r.exports=function(b){if(typeof b!="function")throw new s("a function is required");var m=l(e,c,arguments);return i(m,1+f(0,b.length-(arguments.length-1)),!0)};var p=function(){return l(e,o,arguments)};h?h(r.exports,"apply",{value:p}):r.exports.apply=p})(Zg)),Zg.exports}var r1,r_;function v4(){if(r_)return r1;r_=1;var r=zv(),e=y4(),t=e(r("String.prototype.indexOf"));return r1=function(s,o){var c=r(s,!!o);return typeof c=="function"&&t(s,".prototype.")>-1?e(c):c},r1}var n1,n_;function tT(){if(n_)return n1;n_=1;var r=Mv()(),e=v4(),t=e("Object.prototype.toString"),i=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},s=function(l){return i(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},o=(function(){return i(arguments)})();return i.isLegacyArguments=s,n1=o?i:s,n1}var i1,i_;function rT(){if(i_)return i1;i_=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,i=Mv()(),s=Object.getPrototypeOf,o=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},c;return i1=function(h){if(typeof h!="function")return!1;if(t.test(e.call(h)))return!0;if(!i){var f=r.call(h);return f==="[object GeneratorFunction]"}if(!s)return!1;if(typeof c>"u"){var p=o();c=p?s(p):!1}return s(h)===c},i1}var a1,a_;function nT(){if(a_)return a1;a_=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,i;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},e(function(){throw 42},null,t)}catch(C){C!==i&&(e=null)}else e=null;var s=/^\s*class\b/,o=function(N){try{var S=r.call(N);return s.test(S)}catch{return!1}},c=function(N){try{return o(N)?!1:(r.call(N),!0)}catch{return!1}},l=Object.prototype.toString,h="[object Object]",f="[object Function]",p="[object GeneratorFunction]",y="[object HTMLAllCollection]",b="[object HTML document.all class]",m="[object HTMLCollection]",A=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var v=document.all;l.call(v)===l.call(document.all)&&(E=function(N){if((_||!N)&&(typeof N>"u"||typeof N=="object"))try{var S=l.call(N);return(S===y||S===b||S===m||S===h)&&N("")==null}catch{}return!1})}return a1=e?function(N){if(E(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{e(N,null,t)}catch(S){if(S!==i)return!1}return!o(N)&&c(N)}:function(N){if(E(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(A)return c(N);if(o(N))return!1;var S=l.call(N);return S!==f&&S!==p&&!/^\[object HTML/.test(S)?!1:c(N)},a1}var s1,s_;function iT(){if(s_)return s1;s_=1;var r=nT(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,i=function(h,f,p){for(var y=0,b=h.length;y<b;y++)t.call(h,y)&&(p==null?f(h[y],y,h):f.call(p,h[y],y,h))},s=function(h,f,p){for(var y=0,b=h.length;y<b;y++)p==null?f(h.charAt(y),y,h):f.call(p,h.charAt(y),y,h)},o=function(h,f,p){for(var y in h)t.call(h,y)&&(p==null?f(h[y],y,h):f.call(p,h[y],y,h))},c=function(h,f,p){if(!r(f))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=p),e.call(h)==="[object Array]"?i(h,f,y):typeof h=="string"?s(h,f,y):o(h,f,y)};return s1=c,s1}var o1,o_;function aT(){return o_||(o_=1,o1=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),o1}var l1,l_;function sT(){if(l_)return l1;l_=1;var r=aT(),e=typeof globalThis>"u"?Po:globalThis;return l1=function(){for(var i=[],s=0;s<r.length;s++)typeof e[r[s]]=="function"&&(i[i.length]=r[s]);return i},l1}var u1,u_;function b4(){if(u_)return u1;u_=1;var r=iT(),e=sT(),t=y4(),i=v4(),s=dd(),o=i("Object.prototype.toString"),c=Mv()(),l=typeof globalThis>"u"?Po:globalThis,h=e(),f=i("String.prototype.slice"),p=Object.getPrototypeOf,y=i("Array.prototype.indexOf",!0)||function(E,v){for(var C=0;C<E.length;C+=1)if(E[C]===v)return C;return-1},b={__proto__:null};c&&s&&p?r(h,function(_){var E=new l[_];if(Symbol.toStringTag in E){var v=p(E),C=s(v,Symbol.toStringTag);if(!C){var N=p(v);C=s(N,Symbol.toStringTag)}b["$"+_]=t(C.get)}}):r(h,function(_){var E=new l[_],v=E.slice||E.set;v&&(b["$"+_]=t(v))});var m=function(E){var v=!1;return r(b,function(C,N){if(!v)try{"$"+C(E)===N&&(v=f(N,1))}catch{}}),v},A=function(E){var v=!1;return r(b,function(C,N){if(!v)try{C(E),v=f(N,1)}catch{}}),v};return u1=function(E){if(!E||typeof E!="object")return!1;if(!c){var v=f(o(E),8,-1);return y(h,v)>-1?v:v!=="Object"?!1:A(E)}return s?m(E):null},u1}var c1,c_;function oT(){if(c_)return c1;c_=1;var r=b4();return c1=function(t){return!!r(t)},c1}var h_;function lT(){return h_||(h_=1,(function(r){var e=tT(),t=rT(),i=b4(),s=oT();function o(M){return M.call.bind(M)}var c=typeof BigInt<"u",l=typeof Symbol<"u",h=o(Object.prototype.toString),f=o(Number.prototype.valueOf),p=o(String.prototype.valueOf),y=o(Boolean.prototype.valueOf);if(c)var b=o(BigInt.prototype.valueOf);if(l)var m=o(Symbol.prototype.valueOf);function A(M,ve){if(typeof M!="object")return!1;try{return ve(M),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=s;function _(M){return typeof Promise<"u"&&M instanceof Promise||M!==null&&typeof M=="object"&&typeof M.then=="function"&&typeof M.catch=="function"}r.isPromise=_;function E(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):s(M)||G(M)}r.isArrayBufferView=E;function v(M){return i(M)==="Uint8Array"}r.isUint8Array=v;function C(M){return i(M)==="Uint8ClampedArray"}r.isUint8ClampedArray=C;function N(M){return i(M)==="Uint16Array"}r.isUint16Array=N;function S(M){return i(M)==="Uint32Array"}r.isUint32Array=S;function D(M){return i(M)==="Int8Array"}r.isInt8Array=D;function K(M){return i(M)==="Int16Array"}r.isInt16Array=K;function $(M){return i(M)==="Int32Array"}r.isInt32Array=$;function ee(M){return i(M)==="Float32Array"}r.isFloat32Array=ee;function P(M){return i(M)==="Float64Array"}r.isFloat64Array=P;function fe(M){return i(M)==="BigInt64Array"}r.isBigInt64Array=fe;function re(M){return i(M)==="BigUint64Array"}r.isBigUint64Array=re;function B(M){return h(M)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function J(M){return typeof Map>"u"?!1:B.working?B(M):M instanceof Map}r.isMap=J;function L(M){return h(M)==="[object Set]"}L.working=typeof Set<"u"&&L(new Set);function se(M){return typeof Set>"u"?!1:L.working?L(M):M instanceof Set}r.isSet=se;function ie(M){return h(M)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function Z(M){return typeof WeakMap>"u"?!1:ie.working?ie(M):M instanceof WeakMap}r.isWeakMap=Z;function pe(M){return h(M)==="[object WeakSet]"}pe.working=typeof WeakSet<"u"&&pe(new WeakSet);function ye(M){return pe(M)}r.isWeakSet=ye;function Te(M){return h(M)==="[object ArrayBuffer]"}Te.working=typeof ArrayBuffer<"u"&&Te(new ArrayBuffer);function W(M){return typeof ArrayBuffer>"u"?!1:Te.working?Te(M):M instanceof ArrayBuffer}r.isArrayBuffer=W;function R(M){return h(M)==="[object DataView]"}R.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&R(new DataView(new ArrayBuffer(1),0,1));function G(M){return typeof DataView>"u"?!1:R.working?R(M):M instanceof DataView}r.isDataView=G;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ce(M){return h(M)==="[object SharedArrayBuffer]"}function ae(M){return typeof X>"u"?!1:(typeof ce.working>"u"&&(ce.working=ce(new X)),ce.working?ce(M):M instanceof X)}r.isSharedArrayBuffer=ae;function I(M){return h(M)==="[object AsyncFunction]"}r.isAsyncFunction=I;function U(M){return h(M)==="[object Map Iterator]"}r.isMapIterator=U;function ne(M){return h(M)==="[object Set Iterator]"}r.isSetIterator=ne;function oe(M){return h(M)==="[object Generator]"}r.isGeneratorObject=oe;function Q(M){return h(M)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=Q;function ue(M){return A(M,f)}r.isNumberObject=ue;function ke(M){return A(M,p)}r.isStringObject=ke;function z(M){return A(M,y)}r.isBooleanObject=z;function te(M){return c&&A(M,b)}r.isBigIntObject=te;function q(M){return l&&A(M,m)}r.isSymbolObject=q;function T(M){return ue(M)||ke(M)||z(M)||te(M)||q(M)}r.isBoxedPrimitive=T;function O(M){return typeof Uint8Array<"u"&&(W(M)||ae(M))}r.isAnyArrayBuffer=O,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(M){Object.defineProperty(r,M,{enumerable:!1,value:function(){throw new Error(M+" is not supported in userland")}})})})(gg)),gg}var h1,f_;function uT(){return f_||(f_=1,h1=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),h1}var d_;function w4(){return d_||(d_=1,(function(r){var e=Object.getOwnPropertyDescriptors||function(G){for(var X=Object.keys(G),ce={},ae=0;ae<X.length;ae++)ce[X[ae]]=Object.getOwnPropertyDescriptor(G,X[ae]);return ce},t=/%[sdj%]/g;r.format=function(R){if(!D(R)){for(var G=[],X=0;X<arguments.length;X++)G.push(c(arguments[X]));return G.join(" ")}for(var X=1,ce=arguments,ae=ce.length,I=String(R).replace(t,function(ne){if(ne==="%%")return"%";if(X>=ae)return ne;switch(ne){case"%s":return String(ce[X++]);case"%d":return Number(ce[X++]);case"%j":try{return JSON.stringify(ce[X++])}catch{return"[Circular]"}default:return ne}}),U=ce[X];X<ae;U=ce[++X])C(U)||!P(U)?I+=" "+U:I+=" "+c(U);return I},r.deprecate=function(R,G){if(typeof hr<"u"&&hr.noDeprecation===!0)return R;if(typeof hr>"u")return function(){return r.deprecate(R,G).apply(this,arguments)};var X=!1;function ce(){if(!X){if(hr.throwDeprecation)throw new Error(G);hr.traceDeprecation?console.trace(G):console.error(G),X=!0}return R.apply(this,arguments)}return ce};var i={},s=/^$/;if(hr.env.NODE_DEBUG){var o=hr.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+o+"$","i")}r.debuglog=function(R){if(R=R.toUpperCase(),!i[R])if(s.test(R)){var G=hr.pid;i[R]=function(){var X=r.format.apply(r,arguments);console.error("%s %d: %s",R,G,X)}}else i[R]=function(){};return i[R]};function c(R,G){var X={seen:[],stylize:h};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),v(G)?X.showHidden=G:G&&r._extend(X,G),$(X.showHidden)&&(X.showHidden=!1),$(X.depth)&&(X.depth=2),$(X.colors)&&(X.colors=!1),$(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=l),p(X,R,X.depth)}r.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(R,G){var X=c.styles[G];return X?"\x1B["+c.colors[X][0]+"m"+R+"\x1B["+c.colors[X][1]+"m":R}function h(R,G){return R}function f(R){var G={};return R.forEach(function(X,ce){G[X]=!0}),G}function p(R,G,X){if(R.customInspect&&G&&B(G.inspect)&&G.inspect!==r.inspect&&!(G.constructor&&G.constructor.prototype===G)){var ce=G.inspect(X,R);return D(ce)||(ce=p(R,ce,X)),ce}var ae=y(R,G);if(ae)return ae;var I=Object.keys(G),U=f(I);if(R.showHidden&&(I=Object.getOwnPropertyNames(G)),re(G)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return b(G);if(I.length===0){if(B(G)){var ne=G.name?": "+G.name:"";return R.stylize("[Function"+ne+"]","special")}if(ee(G))return R.stylize(RegExp.prototype.toString.call(G),"regexp");if(fe(G))return R.stylize(Date.prototype.toString.call(G),"date");if(re(G))return b(G)}var oe="",Q=!1,ue=["{","}"];if(E(G)&&(Q=!0,ue=["[","]"]),B(G)){var ke=G.name?": "+G.name:"";oe=" [Function"+ke+"]"}if(ee(G)&&(oe=" "+RegExp.prototype.toString.call(G)),fe(G)&&(oe=" "+Date.prototype.toUTCString.call(G)),re(G)&&(oe=" "+b(G)),I.length===0&&(!Q||G.length==0))return ue[0]+oe+ue[1];if(X<0)return ee(G)?R.stylize(RegExp.prototype.toString.call(G),"regexp"):R.stylize("[Object]","special");R.seen.push(G);var z;return Q?z=m(R,G,X,U,I):z=I.map(function(te){return A(R,G,X,U,te,Q)}),R.seen.pop(),_(z,oe,ue)}function y(R,G){if($(G))return R.stylize("undefined","undefined");if(D(G)){var X="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(X,"string")}if(S(G))return R.stylize(""+G,"number");if(v(G))return R.stylize(""+G,"boolean");if(C(G))return R.stylize("null","null")}function b(R){return"["+Error.prototype.toString.call(R)+"]"}function m(R,G,X,ce,ae){for(var I=[],U=0,ne=G.length;U<ne;++U)pe(G,String(U))?I.push(A(R,G,X,ce,String(U),!0)):I.push("");return ae.forEach(function(oe){oe.match(/^\d+$/)||I.push(A(R,G,X,ce,oe,!0))}),I}function A(R,G,X,ce,ae,I){var U,ne,oe;if(oe=Object.getOwnPropertyDescriptor(G,ae)||{value:G[ae]},oe.get?oe.set?ne=R.stylize("[Getter/Setter]","special"):ne=R.stylize("[Getter]","special"):oe.set&&(ne=R.stylize("[Setter]","special")),pe(ce,ae)||(U="["+ae+"]"),ne||(R.seen.indexOf(oe.value)<0?(C(X)?ne=p(R,oe.value,null):ne=p(R,oe.value,X-1),ne.indexOf(`
`)>-1&&(I?ne=ne.split(`
`).map(function(Q){return"  "+Q}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):ne=R.stylize("[Circular]","special")),$(U)){if(I&&ae.match(/^\d+$/))return ne;U=JSON.stringify(""+ae),U.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=R.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=R.stylize(U,"string"))}return U+": "+ne}function _(R,G,X){var ce=R.reduce(function(ae,I){return I.indexOf(`
`)>=0,ae+I.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ce>60?X[0]+(G===""?"":G+`
 `)+" "+R.join(`,
  `)+" "+X[1]:X[0]+G+" "+R.join(", ")+" "+X[1]}r.types=lT();function E(R){return Array.isArray(R)}r.isArray=E;function v(R){return typeof R=="boolean"}r.isBoolean=v;function C(R){return R===null}r.isNull=C;function N(R){return R==null}r.isNullOrUndefined=N;function S(R){return typeof R=="number"}r.isNumber=S;function D(R){return typeof R=="string"}r.isString=D;function K(R){return typeof R=="symbol"}r.isSymbol=K;function $(R){return R===void 0}r.isUndefined=$;function ee(R){return P(R)&&L(R)==="[object RegExp]"}r.isRegExp=ee,r.types.isRegExp=ee;function P(R){return typeof R=="object"&&R!==null}r.isObject=P;function fe(R){return P(R)&&L(R)==="[object Date]"}r.isDate=fe,r.types.isDate=fe;function re(R){return P(R)&&(L(R)==="[object Error]"||R instanceof Error)}r.isError=re,r.types.isNativeError=re;function B(R){return typeof R=="function"}r.isFunction=B;function J(R){return R===null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||typeof R=="symbol"||typeof R>"u"}r.isPrimitive=J,r.isBuffer=uT();function L(R){return Object.prototype.toString.call(R)}function se(R){return R<10?"0"+R.toString(10):R.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z(){var R=new Date,G=[se(R.getHours()),se(R.getMinutes()),se(R.getSeconds())].join(":");return[R.getDate(),ie[R.getMonth()],G].join(" ")}r.log=function(){console.log("%s - %s",Z(),r.format.apply(r,arguments))},r.inherits=fu(),r._extend=function(R,G){if(!G||!P(G))return R;for(var X=Object.keys(G),ce=X.length;ce--;)R[X[ce]]=G[X[ce]];return R};function pe(R,G){return Object.prototype.hasOwnProperty.call(R,G)}var ye=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(ye&&G[ye]){var X=G[ye];if(typeof X!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,ye,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(){for(var ce,ae,I=new Promise(function(oe,Q){ce=oe,ae=Q}),U=[],ne=0;ne<arguments.length;ne++)U.push(arguments[ne]);U.push(function(oe,Q){oe?ae(oe):ce(Q)});try{G.apply(this,U)}catch(oe){ae(oe)}return I}return Object.setPrototypeOf(X,Object.getPrototypeOf(G)),ye&&Object.defineProperty(X,ye,{value:X,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(X,e(G))},r.promisify.custom=ye;function Te(R,G){if(!R){var X=new Error("Promise was rejected with a falsy value");X.reason=R,R=X}return G(R)}function W(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var X=[],ce=0;ce<arguments.length;ce++)X.push(arguments[ce]);var ae=X.pop();if(typeof ae!="function")throw new TypeError("The last argument must be of type Function");var I=this,U=function(){return ae.apply(I,arguments)};R.apply(this,X).then(function(ne){hr.nextTick(U.bind(null,null,ne))},function(ne){hr.nextTick(Te.bind(null,ne,U))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(R)),Object.defineProperties(G,e(R)),G}r.callbackify=W})(mg)),mg}var f1,p_;function cT(){if(p_)return f1;p_=1;function r(b,m){var A=Object.keys(b);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);m&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(b,E).enumerable})),A.push.apply(A,_)}return A}function e(b){for(var m=1;m<arguments.length;m++){var A=arguments[m]!=null?arguments[m]:{};m%2?r(Object(A),!0).forEach(function(_){t(b,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(A)):r(Object(A)).forEach(function(_){Object.defineProperty(b,_,Object.getOwnPropertyDescriptor(A,_))})}return b}function t(b,m,A){return m in b?Object.defineProperty(b,m,{value:A,enumerable:!0,configurable:!0,writable:!0}):b[m]=A,b}function i(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function s(b,m){for(var A=0;A<m.length;A++){var _=m[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}function o(b,m,A){return m&&s(b.prototype,m),b}var c=R0(),l=c.Buffer,h=w4(),f=h.inspect,p=f&&f.custom||"inspect";function y(b,m,A){l.prototype.copy.call(b,m,A)}return f1=(function(){function b(){i(this,b),this.head=null,this.tail=null,this.length=0}return o(b,[{key:"push",value:function(A){var _={data:A,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(A){var _={data:A,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var A=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,A}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(A){if(this.length===0)return"";for(var _=this.head,E=""+_.data;_=_.next;)E+=A+_.data;return E}},{key:"concat",value:function(A){if(this.length===0)return l.alloc(0);for(var _=l.allocUnsafe(A>>>0),E=this.head,v=0;E;)y(E.data,_,v),v+=E.data.length,E=E.next;return _}},{key:"consume",value:function(A,_){var E;return A<this.head.data.length?(E=this.head.data.slice(0,A),this.head.data=this.head.data.slice(A)):A===this.head.data.length?E=this.shift():E=_?this._getString(A):this._getBuffer(A),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(A){var _=this.head,E=1,v=_.data;for(A-=v.length;_=_.next;){var C=_.data,N=A>C.length?C.length:A;if(N===C.length?v+=C:v+=C.slice(0,A),A-=N,A===0){N===C.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=C.slice(N));break}++E}return this.length-=E,v}},{key:"_getBuffer",value:function(A){var _=l.allocUnsafe(A),E=this.head,v=1;for(E.data.copy(_),A-=E.data.length;E=E.next;){var C=E.data,N=A>C.length?C.length:A;if(C.copy(_,_.length-A,0,N),A-=N,A===0){N===C.length?(++v,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=C.slice(N));break}++v}return this.length-=v,_}},{key:p,value:function(A,_){return f(this,e({},_,{depth:0,customInspect:!1}))}}]),b})(),f1}var d1,m_;function _4(){if(m_)return d1;m_=1;function r(c,l){var h=this,f=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return f||p?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,hr.nextTick(s,this,c)):hr.nextTick(s,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(y){!l&&y?h._writableState?h._writableState.errorEmitted?hr.nextTick(t,h):(h._writableState.errorEmitted=!0,hr.nextTick(e,h,y)):hr.nextTick(e,h,y):l?(hr.nextTick(t,h),l(y)):hr.nextTick(t,h)}),this)}function e(c,l){s(c,l),t(c)}function t(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(c,l){c.emit("error",l)}function o(c,l){var h=c._readableState,f=c._writableState;h&&h.autoDestroy||f&&f.autoDestroy?c.destroy(l):c.emit("error",l)}return d1={destroy:r,undestroy:i,errorOrDestroy:o},d1}var p1={},g_;function Gh(){if(g_)return p1;g_=1;function r(l,h){l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.__proto__=h}var e={};function t(l,h,f){f||(f=Error);function p(b,m,A){return typeof h=="string"?h:h(b,m,A)}var y=(function(b){r(m,b);function m(A,_,E){return b.call(this,p(A,_,E))||this}return m})(f);y.prototype.name=f.name,y.prototype.code=l,e[l]=y}function i(l,h){if(Array.isArray(l)){var f=l.length;return l=l.map(function(p){return String(p)}),f>2?"one of ".concat(h," ").concat(l.slice(0,f-1).join(", "),", or ")+l[f-1]:f===2?"one of ".concat(h," ").concat(l[0]," or ").concat(l[1]):"of ".concat(h," ").concat(l[0])}else return"of ".concat(h," ").concat(String(l))}function s(l,h,f){return l.substr(0,h.length)===h}function o(l,h,f){return(f===void 0||f>l.length)&&(f=l.length),l.substring(f-h.length,f)===h}function c(l,h,f){return typeof f!="number"&&(f=0),f+h.length>l.length?!1:l.indexOf(h,f)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,h){return'The value "'+h+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,h,f){var p;typeof h=="string"&&s(h,"not ")?(p="must not be",h=h.replace(/^not /,"")):p="must be";var y;if(o(l," argument"))y="The ".concat(l," ").concat(p," ").concat(i(h,"type"));else{var b=c(l,".")?"property":"argument";y='The "'.concat(l,'" ').concat(b," ").concat(p," ").concat(i(h,"type"))}return y+=". Received type ".concat(typeof f),y},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),p1.codes=e,p1}var m1,y_;function x4(){if(y_)return m1;y_=1;var r=Gh().codes.ERR_INVALID_OPT_VALUE;function e(i,s,o){return i.highWaterMark!=null?i.highWaterMark:s?i[o]:null}function t(i,s,o,c){var l=e(s,c,o);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var h=c?o:"highWaterMark";throw new r(h,l)}return Math.floor(l)}return i.objectMode?16:16*1024}return m1={getHighWaterMark:t},m1}var g1,v_;function hT(){if(v_)return g1;v_=1,g1=r;function r(t,i){if(e("noDeprecation"))return t;var s=!1;function o(){if(!s){if(e("throwDeprecation"))throw new Error(i);e("traceDeprecation")?console.trace(i):console.warn(i),s=!0}return t.apply(this,arguments)}return o}function e(t){try{if(!Po.localStorage)return!1}catch{return!1}var i=Po.localStorage[t];return i==null?!1:String(i).toLowerCase()==="true"}return g1}var y1,b_;function S4(){if(b_)return y1;b_=1,y1=ee;function r(ae){var I=this;this.next=null,this.entry=null,this.finish=function(){ce(I,ae)}}var e;ee.WritableState=K;var t={deprecate:hT()},i=c4(),s=R0().Buffer,o=Po.Uint8Array||function(){};function c(ae){return s.from(ae)}function l(ae){return s.isBuffer(ae)||ae instanceof o}var h=_4(),f=x4(),p=f.getHighWaterMark,y=Gh().codes,b=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,A=y.ERR_MULTIPLE_CALLBACK,_=y.ERR_STREAM_CANNOT_PIPE,E=y.ERR_STREAM_DESTROYED,v=y.ERR_STREAM_NULL_VALUES,C=y.ERR_STREAM_WRITE_AFTER_END,N=y.ERR_UNKNOWN_ENCODING,S=h.errorOrDestroy;fu()(ee,i);function D(){}function K(ae,I,U){e=e||Uh(),ae=ae||{},typeof U!="boolean"&&(U=I instanceof e),this.objectMode=!!ae.objectMode,U&&(this.objectMode=this.objectMode||!!ae.writableObjectMode),this.highWaterMark=p(this,ae,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=ae.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){ie(I,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ae.emitClose!==!1,this.autoDestroy=!!ae.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}K.prototype.getBuffer=function(){for(var I=this.bufferedRequest,U=[];I;)U.push(I),I=I.next;return U},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(I){return $.call(this,I)?!0:this!==ee?!1:I&&I._writableState instanceof K}})):$=function(I){return I instanceof this};function ee(ae){e=e||Uh();var I=this instanceof e;if(!I&&!$.call(ee,this))return new ee(ae);this._writableState=new K(ae,this,I),this.writable=!0,ae&&(typeof ae.write=="function"&&(this._write=ae.write),typeof ae.writev=="function"&&(this._writev=ae.writev),typeof ae.destroy=="function"&&(this._destroy=ae.destroy),typeof ae.final=="function"&&(this._final=ae.final)),i.call(this)}ee.prototype.pipe=function(){S(this,new _)};function P(ae,I){var U=new C;S(ae,U),hr.nextTick(I,U)}function fe(ae,I,U,ne){var oe;return U===null?oe=new v:typeof U!="string"&&!I.objectMode&&(oe=new b("chunk",["string","Buffer"],U)),oe?(S(ae,oe),hr.nextTick(ne,oe),!1):!0}ee.prototype.write=function(ae,I,U){var ne=this._writableState,oe=!1,Q=!ne.objectMode&&l(ae);return Q&&!s.isBuffer(ae)&&(ae=c(ae)),typeof I=="function"&&(U=I,I=null),Q?I="buffer":I||(I=ne.defaultEncoding),typeof U!="function"&&(U=D),ne.ending?P(this,U):(Q||fe(this,ne,ae,U))&&(ne.pendingcb++,oe=B(this,ne,Q,ae,I,U)),oe},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&ye(this,ae))},ee.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new N(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function re(ae,I,U){return!ae.objectMode&&ae.decodeStrings!==!1&&typeof I=="string"&&(I=s.from(I,U)),I}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(ae,I,U,ne,oe,Q){if(!U){var ue=re(I,ne,oe);ne!==ue&&(U=!0,oe="buffer",ne=ue)}var ke=I.objectMode?1:ne.length;I.length+=ke;var z=I.length<I.highWaterMark;if(z||(I.needDrain=!0),I.writing||I.corked){var te=I.lastBufferedRequest;I.lastBufferedRequest={chunk:ne,encoding:oe,isBuf:U,callback:Q,next:null},te?te.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else J(ae,I,!1,ke,ne,oe,Q);return z}function J(ae,I,U,ne,oe,Q,ue){I.writelen=ne,I.writecb=ue,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new E("write")):U?ae._writev(oe,I.onwrite):ae._write(oe,Q,I.onwrite),I.sync=!1}function L(ae,I,U,ne,oe){--I.pendingcb,U?(hr.nextTick(oe,ne),hr.nextTick(G,ae,I),ae._writableState.errorEmitted=!0,S(ae,ne)):(oe(ne),ae._writableState.errorEmitted=!0,S(ae,ne),G(ae,I))}function se(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}function ie(ae,I){var U=ae._writableState,ne=U.sync,oe=U.writecb;if(typeof oe!="function")throw new A;if(se(U),I)L(ae,U,ne,I,oe);else{var Q=Te(U)||ae.destroyed;!Q&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&ye(ae,U),ne?hr.nextTick(Z,ae,U,Q,oe):Z(ae,U,Q,oe)}}function Z(ae,I,U,ne){U||pe(ae,I),I.pendingcb--,ne(),G(ae,I)}function pe(ae,I){I.length===0&&I.needDrain&&(I.needDrain=!1,ae.emit("drain"))}function ye(ae,I){I.bufferProcessing=!0;var U=I.bufferedRequest;if(ae._writev&&U&&U.next){var ne=I.bufferedRequestCount,oe=new Array(ne),Q=I.corkedRequestsFree;Q.entry=U;for(var ue=0,ke=!0;U;)oe[ue]=U,U.isBuf||(ke=!1),U=U.next,ue+=1;oe.allBuffers=ke,J(ae,I,!0,I.length,oe,"",Q.finish),I.pendingcb++,I.lastBufferedRequest=null,Q.next?(I.corkedRequestsFree=Q.next,Q.next=null):I.corkedRequestsFree=new r(I),I.bufferedRequestCount=0}else{for(;U;){var z=U.chunk,te=U.encoding,q=U.callback,T=I.objectMode?1:z.length;if(J(ae,I,!1,T,z,te,q),U=U.next,I.bufferedRequestCount--,I.writing)break}U===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=U,I.bufferProcessing=!1}ee.prototype._write=function(ae,I,U){U(new m("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(ae,I,U){var ne=this._writableState;return typeof ae=="function"?(U=ae,ae=null,I=null):typeof I=="function"&&(U=I,I=null),ae!=null&&this.write(ae,I),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||X(this,ne,U),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Te(ae){return ae.ending&&ae.length===0&&ae.bufferedRequest===null&&!ae.finished&&!ae.writing}function W(ae,I){ae._final(function(U){I.pendingcb--,U&&S(ae,U),I.prefinished=!0,ae.emit("prefinish"),G(ae,I)})}function R(ae,I){!I.prefinished&&!I.finalCalled&&(typeof ae._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,hr.nextTick(W,ae,I)):(I.prefinished=!0,ae.emit("prefinish")))}function G(ae,I){var U=Te(I);if(U&&(R(ae,I),I.pendingcb===0&&(I.finished=!0,ae.emit("finish"),I.autoDestroy))){var ne=ae._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&ae.destroy()}return U}function X(ae,I,U){I.ending=!0,G(ae,I),U&&(I.finished?hr.nextTick(U):ae.once("finish",U)),I.ended=!0,ae.writable=!1}function ce(ae,I,U){var ne=ae.entry;for(ae.entry=null;ne;){var oe=ne.callback;I.pendingcb--,oe(U),ne=ne.next}I.corkedRequestsFree.next=ae}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),ee.prototype.destroy=h.destroy,ee.prototype._undestroy=h.undestroy,ee.prototype._destroy=function(ae,I){I(ae)},y1}var v1,w_;function Uh(){if(w_)return v1;w_=1;var r=Object.keys||function(f){var p=[];for(var y in f)p.push(y);return p};v1=c;var e=A4(),t=S4();fu()(c,e);for(var i=r(t.prototype),s=0;s<i.length;s++){var o=i[s];c.prototype[o]||(c.prototype[o]=t.prototype[o])}function c(f){if(!(this instanceof c))return new c(f);e.call(this,f),t.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||hr.nextTick(h,this)}function h(f){f.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),v1}var b1={},bp={exports:{}},__;function fT(){return __||(__=1,(function(r,e){var t=R0(),i=t.Buffer;function s(c,l){for(var h in c)l[h]=c[h]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=t:(s(t,e),e.Buffer=o);function o(c,l,h){return i(c,l,h)}s(i,o),o.from=function(c,l,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return i(c,l,h)},o.alloc=function(c,l,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var f=i(c);return l!==void 0?typeof h=="string"?f.fill(l,h):f.fill(l):f.fill(0),f},o.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return i(c)},o.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}})(bp,bp.exports)),bp.exports}var x_;function Vy(){if(x_)return b1;x_=1;var r=fT().Buffer,e=r.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(v){if(!v)return"utf8";for(var C;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(C)return;v=(""+v).toLowerCase(),C=!0}}function i(v){var C=t(v);if(typeof C!="string"&&(r.isEncoding===e||!e(v)))throw new Error("Unknown encoding: "+v);return C||v}b1.StringDecoder=s;function s(v){this.encoding=i(v);var C;switch(this.encoding){case"utf16le":this.text=y,this.end=b,C=4;break;case"utf8":this.fillLast=h,C=4;break;case"base64":this.text=m,this.end=A,C=3;break;default:this.write=_,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(C)}s.prototype.write=function(v){if(v.length===0)return"";var C,N;if(this.lastNeed){if(C=this.fillLast(v),C===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<v.length?C?C+this.text(v,N):this.text(v,N):C||""},s.prototype.end=p,s.prototype.text=f,s.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function o(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function c(v,C,N){var S=C.length-1;if(S<N)return 0;var D=o(C[S]);return D>=0?(D>0&&(v.lastNeed=D-1),D):--S<N||D===-2?0:(D=o(C[S]),D>=0?(D>0&&(v.lastNeed=D-2),D):--S<N||D===-2?0:(D=o(C[S]),D>=0?(D>0&&(D===2?D=0:v.lastNeed=D-3),D):0))}function l(v,C,N){if((C[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return v.lastNeed=2,""}}function h(v){var C=this.lastTotal-this.lastNeed,N=l(this,v);if(N!==void 0)return N;if(this.lastNeed<=v.length)return v.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,C,0,v.length),this.lastNeed-=v.length}function f(v,C){var N=c(this,v,C);if(!this.lastNeed)return v.toString("utf8",C);this.lastTotal=N;var S=v.length-(N-this.lastNeed);return v.copy(this.lastChar,0,S),v.toString("utf8",C,S)}function p(v){var C=v&&v.length?this.write(v):"";return this.lastNeed?C+"":C}function y(v,C){if((v.length-C)%2===0){var N=v.toString("utf16le",C);if(N){var S=N.charCodeAt(N.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",C,v.length-1)}function b(v){var C=v&&v.length?this.write(v):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,N)}return C}function m(v,C){var N=(v.length-C)%3;return N===0?v.toString("base64",C):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",C,v.length-N))}function A(v){var C=v&&v.length?this.write(v):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function _(v){return v.toString(this.encoding)}function E(v){return v&&v.length?this.write(v):""}return b1}var w1,S_;function qv(){if(S_)return w1;S_=1;var r=Gh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(o){var c=!1;return function(){if(!c){c=!0;for(var l=arguments.length,h=new Array(l),f=0;f<l;f++)h[f]=arguments[f];o.apply(this,h)}}}function t(){}function i(o){return o.setHeader&&typeof o.abort=="function"}function s(o,c,l){if(typeof c=="function")return s(o,null,c);c||(c={}),l=e(l||t);var h=c.readable||c.readable!==!1&&o.readable,f=c.writable||c.writable!==!1&&o.writable,p=function(){o.writable||b()},y=o._writableState&&o._writableState.finished,b=function(){f=!1,y=!0,h||l.call(o)},m=o._readableState&&o._readableState.endEmitted,A=function(){h=!1,m=!0,f||l.call(o)},_=function(N){l.call(o,N)},E=function(){var N;if(h&&!m)return(!o._readableState||!o._readableState.ended)&&(N=new r),l.call(o,N);if(f&&!y)return(!o._writableState||!o._writableState.ended)&&(N=new r),l.call(o,N)},v=function(){o.req.on("finish",b)};return i(o)?(o.on("complete",b),o.on("abort",E),o.req?v():o.on("request",v)):f&&!o._writableState&&(o.on("end",p),o.on("close",p)),o.on("end",A),o.on("finish",b),c.error!==!1&&o.on("error",_),o.on("close",E),function(){o.removeListener("complete",b),o.removeListener("abort",E),o.removeListener("request",v),o.req&&o.req.removeListener("finish",b),o.removeListener("end",p),o.removeListener("close",p),o.removeListener("finish",b),o.removeListener("end",A),o.removeListener("error",_),o.removeListener("close",E)}}return w1=s,w1}var _1,A_;function dT(){if(A_)return _1;A_=1;var r;function e(v,C,N){return C in v?Object.defineProperty(v,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):v[C]=N,v}var t=qv(),i=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(v,C){return{value:v,done:C}}function y(v){var C=v[i];if(C!==null){var N=v[f].read();N!==null&&(v[l]=null,v[i]=null,v[s]=null,C(p(N,!1)))}}function b(v){hr.nextTick(y,v)}function m(v,C){return function(N,S){v.then(function(){if(C[c]){N(p(void 0,!0));return}C[h](N,S)},S)}}var A=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r={get stream(){return this[f]},next:function(){var C=this,N=this[o];if(N!==null)return Promise.reject(N);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function($,ee){hr.nextTick(function(){C[o]?ee(C[o]):$(p(void 0,!0))})});var S=this[l],D;if(S)D=new Promise(m(S,this));else{var K=this[f].read();if(K!==null)return Promise.resolve(p(K,!1));D=new Promise(this[h])}return this[l]=D,D}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var C=this;return new Promise(function(N,S){C[f].destroy(null,function(D){if(D){S(D);return}N(p(void 0,!0))})})}),r),A),E=function(C){var N,S=Object.create(_,(N={},e(N,f,{value:C,writable:!0}),e(N,i,{value:null,writable:!0}),e(N,s,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,c,{value:C._readableState.endEmitted,writable:!0}),e(N,h,{value:function(K,$){var ee=S[f].read();ee?(S[l]=null,S[i]=null,S[s]=null,K(p(ee,!1))):(S[i]=K,S[s]=$)},writable:!0}),N));return S[l]=null,t(C,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=S[s];K!==null&&(S[l]=null,S[i]=null,S[s]=null,K(D)),S[o]=D;return}var $=S[i];$!==null&&(S[l]=null,S[i]=null,S[s]=null,$(p(void 0,!0))),S[c]=!0}),C.on("readable",b.bind(null,S)),S};return _1=E,_1}var x1,E_;function pT(){return E_||(E_=1,x1=function(){throw new Error("Readable.from is not available in the browser")}),x1}var S1,k_;function A4(){if(k_)return S1;k_=1,S1=P;var r;P.ReadableState=ee,Uv().EventEmitter;var e=function(ue,ke){return ue.listeners(ke).length},t=c4(),i=R0().Buffer,s=Po.Uint8Array||function(){};function o(Q){return i.from(Q)}function c(Q){return i.isBuffer(Q)||Q instanceof s}var l=w4(),h;l&&l.debuglog?h=l.debuglog("stream"):h=function(){};var f=cT(),p=_4(),y=x4(),b=y.getHighWaterMark,m=Gh().codes,A=m.ERR_INVALID_ARG_TYPE,_=m.ERR_STREAM_PUSH_AFTER_EOF,E=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,N,S;fu()(P,t);var D=p.errorOrDestroy,K=["error","close","destroy","pause","resume"];function $(Q,ue,ke){if(typeof Q.prependListener=="function")return Q.prependListener(ue,ke);!Q._events||!Q._events[ue]?Q.on(ue,ke):Array.isArray(Q._events[ue])?Q._events[ue].unshift(ke):Q._events[ue]=[ke,Q._events[ue]]}function ee(Q,ue,ke){r=r||Uh(),Q=Q||{},typeof ke!="boolean"&&(ke=ue instanceof r),this.objectMode=!!Q.objectMode,ke&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=b(this,Q,"readableHighWaterMark",ke),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(C||(C=Vy().StringDecoder),this.decoder=new C(Q.encoding),this.encoding=Q.encoding)}function P(Q){if(r=r||Uh(),!(this instanceof P))return new P(Q);var ue=this instanceof r;this._readableState=new ee(Q,this,ue),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),t.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ue){this._readableState&&(this._readableState.destroyed=ue)}}),P.prototype.destroy=p.destroy,P.prototype._undestroy=p.undestroy,P.prototype._destroy=function(Q,ue){ue(Q)},P.prototype.push=function(Q,ue){var ke=this._readableState,z;return ke.objectMode?z=!0:typeof Q=="string"&&(ue=ue||ke.defaultEncoding,ue!==ke.encoding&&(Q=i.from(Q,ue),ue=""),z=!0),fe(this,Q,ue,!1,z)},P.prototype.unshift=function(Q){return fe(this,Q,null,!0,!1)};function fe(Q,ue,ke,z,te){h("readableAddChunk",ue);var q=Q._readableState;if(ue===null)q.reading=!1,ie(Q,q);else{var T;if(te||(T=B(q,ue)),T)D(Q,T);else if(q.objectMode||ue&&ue.length>0)if(typeof ue!="string"&&!q.objectMode&&Object.getPrototypeOf(ue)!==i.prototype&&(ue=o(ue)),z)q.endEmitted?D(Q,new v):re(Q,q,ue,!0);else if(q.ended)D(Q,new _);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!ke?(ue=q.decoder.write(ue),q.objectMode||ue.length!==0?re(Q,q,ue,!1):ye(Q,q)):re(Q,q,ue,!1)}else z||(q.reading=!1,ye(Q,q))}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function re(Q,ue,ke,z){ue.flowing&&ue.length===0&&!ue.sync?(ue.awaitDrain=0,Q.emit("data",ke)):(ue.length+=ue.objectMode?1:ke.length,z?ue.buffer.unshift(ke):ue.buffer.push(ke),ue.needReadable&&Z(Q)),ye(Q,ue)}function B(Q,ue){var ke;return!c(ue)&&typeof ue!="string"&&ue!==void 0&&!Q.objectMode&&(ke=new A("chunk",["string","Buffer","Uint8Array"],ue)),ke}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(Q){C||(C=Vy().StringDecoder);var ue=new C(Q);this._readableState.decoder=ue,this._readableState.encoding=this._readableState.decoder.encoding;for(var ke=this._readableState.buffer.head,z="";ke!==null;)z+=ue.write(ke.data),ke=ke.next;return this._readableState.buffer.clear(),z!==""&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var J=1073741824;function L(Q){return Q>=J?Q=J:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function se(Q,ue){return Q<=0||ue.length===0&&ue.ended?0:ue.objectMode?1:Q!==Q?ue.flowing&&ue.length?ue.buffer.head.data.length:ue.length:(Q>ue.highWaterMark&&(ue.highWaterMark=L(Q)),Q<=ue.length?Q:ue.ended?ue.length:(ue.needReadable=!0,0))}P.prototype.read=function(Q){h("read",Q),Q=parseInt(Q,10);var ue=this._readableState,ke=Q;if(Q!==0&&(ue.emittedReadable=!1),Q===0&&ue.needReadable&&((ue.highWaterMark!==0?ue.length>=ue.highWaterMark:ue.length>0)||ue.ended))return h("read: emitReadable",ue.length,ue.ended),ue.length===0&&ue.ended?U(this):Z(this),null;if(Q=se(Q,ue),Q===0&&ue.ended)return ue.length===0&&U(this),null;var z=ue.needReadable;h("need readable",z),(ue.length===0||ue.length-Q<ue.highWaterMark)&&(z=!0,h("length less than watermark",z)),ue.ended||ue.reading?(z=!1,h("reading or ended",z)):z&&(h("do read"),ue.reading=!0,ue.sync=!0,ue.length===0&&(ue.needReadable=!0),this._read(ue.highWaterMark),ue.sync=!1,ue.reading||(Q=se(ke,ue)));var te;return Q>0?te=I(Q,ue):te=null,te===null?(ue.needReadable=ue.length<=ue.highWaterMark,Q=0):(ue.length-=Q,ue.awaitDrain=0),ue.length===0&&(ue.ended||(ue.needReadable=!0),ke!==Q&&ue.ended&&U(this)),te!==null&&this.emit("data",te),te};function ie(Q,ue){if(h("onEofChunk"),!ue.ended){if(ue.decoder){var ke=ue.decoder.end();ke&&ke.length&&(ue.buffer.push(ke),ue.length+=ue.objectMode?1:ke.length)}ue.ended=!0,ue.sync?Z(Q):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,pe(Q)))}}function Z(Q){var ue=Q._readableState;h("emitReadable",ue.needReadable,ue.emittedReadable),ue.needReadable=!1,ue.emittedReadable||(h("emitReadable",ue.flowing),ue.emittedReadable=!0,hr.nextTick(pe,Q))}function pe(Q){var ue=Q._readableState;h("emitReadable_",ue.destroyed,ue.length,ue.ended),!ue.destroyed&&(ue.length||ue.ended)&&(Q.emit("readable"),ue.emittedReadable=!1),ue.needReadable=!ue.flowing&&!ue.ended&&ue.length<=ue.highWaterMark,ae(Q)}function ye(Q,ue){ue.readingMore||(ue.readingMore=!0,hr.nextTick(Te,Q,ue))}function Te(Q,ue){for(;!ue.reading&&!ue.ended&&(ue.length<ue.highWaterMark||ue.flowing&&ue.length===0);){var ke=ue.length;if(h("maybeReadMore read 0"),Q.read(0),ke===ue.length)break}ue.readingMore=!1}P.prototype._read=function(Q){D(this,new E("_read()"))},P.prototype.pipe=function(Q,ue){var ke=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=Q;break;case 1:z.pipes=[z.pipes,Q];break;default:z.pipes.push(Q);break}z.pipesCount+=1,h("pipe count=%d opts=%j",z.pipesCount,ue);var te=(!ue||ue.end!==!1)&&Q!==hr.stdout&&Q!==hr.stderr,q=te?O:Ke;z.endEmitted?hr.nextTick(q):ke.once("end",q),Q.on("unpipe",T);function T(at,ht){h("onunpipe"),at===ke&&ht&&ht.hasUnpiped===!1&&(ht.hasUnpiped=!0,xe())}function O(){h("onend"),Q.end()}var M=W(ke);Q.on("drain",M);var ve=!1;function xe(){h("cleanup"),Q.removeListener("close",qe),Q.removeListener("finish",Me),Q.removeListener("drain",M),Q.removeListener("error",je),Q.removeListener("unpipe",T),ke.removeListener("end",O),ke.removeListener("end",Ke),ke.removeListener("data",we),ve=!0,z.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&M()}ke.on("data",we);function we(at){h("ondata");var ht=Q.write(at);h("dest.write",ht),ht===!1&&((z.pipesCount===1&&z.pipes===Q||z.pipesCount>1&&oe(z.pipes,Q)!==-1)&&!ve&&(h("false write response, pause",z.awaitDrain),z.awaitDrain++),ke.pause())}function je(at){h("onerror",at),Ke(),Q.removeListener("error",je),e(Q,"error")===0&&D(Q,at)}$(Q,"error",je);function qe(){Q.removeListener("finish",Me),Ke()}Q.once("close",qe);function Me(){h("onfinish"),Q.removeListener("close",qe),Ke()}Q.once("finish",Me);function Ke(){h("unpipe"),ke.unpipe(Q)}return Q.emit("pipe",ke),z.flowing||(h("pipe resume"),ke.resume()),Q};function W(Q){return function(){var ke=Q._readableState;h("pipeOnDrain",ke.awaitDrain),ke.awaitDrain&&ke.awaitDrain--,ke.awaitDrain===0&&e(Q,"data")&&(ke.flowing=!0,ae(Q))}}P.prototype.unpipe=function(Q){var ue=this._readableState,ke={hasUnpiped:!1};if(ue.pipesCount===0)return this;if(ue.pipesCount===1)return Q&&Q!==ue.pipes?this:(Q||(Q=ue.pipes),ue.pipes=null,ue.pipesCount=0,ue.flowing=!1,Q&&Q.emit("unpipe",this,ke),this);if(!Q){var z=ue.pipes,te=ue.pipesCount;ue.pipes=null,ue.pipesCount=0,ue.flowing=!1;for(var q=0;q<te;q++)z[q].emit("unpipe",this,{hasUnpiped:!1});return this}var T=oe(ue.pipes,Q);return T===-1?this:(ue.pipes.splice(T,1),ue.pipesCount-=1,ue.pipesCount===1&&(ue.pipes=ue.pipes[0]),Q.emit("unpipe",this,ke),this)},P.prototype.on=function(Q,ue){var ke=t.prototype.on.call(this,Q,ue),z=this._readableState;return Q==="data"?(z.readableListening=this.listenerCount("readable")>0,z.flowing!==!1&&this.resume()):Q==="readable"&&!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,h("on readable",z.length,z.reading),z.length?Z(this):z.reading||hr.nextTick(G,this)),ke},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(Q,ue){var ke=t.prototype.removeListener.call(this,Q,ue);return Q==="readable"&&hr.nextTick(R,this),ke},P.prototype.removeAllListeners=function(Q){var ue=t.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&hr.nextTick(R,this),ue};function R(Q){var ue=Q._readableState;ue.readableListening=Q.listenerCount("readable")>0,ue.resumeScheduled&&!ue.paused?ue.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function G(Q){h("readable nexttick read 0"),Q.read(0)}P.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(h("resume"),Q.flowing=!Q.readableListening,X(this,Q)),Q.paused=!1,this};function X(Q,ue){ue.resumeScheduled||(ue.resumeScheduled=!0,hr.nextTick(ce,Q,ue))}function ce(Q,ue){h("resume",ue.reading),ue.reading||Q.read(0),ue.resumeScheduled=!1,Q.emit("resume"),ae(Q),ue.flowing&&!ue.reading&&Q.read(0)}P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ae(Q){var ue=Q._readableState;for(h("flow",ue.flowing);ue.flowing&&Q.read()!==null;);}P.prototype.wrap=function(Q){var ue=this,ke=this._readableState,z=!1;Q.on("end",function(){if(h("wrapped end"),ke.decoder&&!ke.ended){var T=ke.decoder.end();T&&T.length&&ue.push(T)}ue.push(null)}),Q.on("data",function(T){if(h("wrapped data"),ke.decoder&&(T=ke.decoder.write(T)),!(ke.objectMode&&T==null)&&!(!ke.objectMode&&(!T||!T.length))){var O=ue.push(T);O||(z=!0,Q.pause())}});for(var te in Q)this[te]===void 0&&typeof Q[te]=="function"&&(this[te]=(function(O){return function(){return Q[O].apply(Q,arguments)}})(te));for(var q=0;q<K.length;q++)Q.on(K[q],this.emit.bind(this,K[q]));return this._read=function(T){h("wrapped _read",T),z&&(z=!1,Q.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=dT()),N(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ue){this._readableState&&(this._readableState.flowing=ue)}}),P._fromList=I,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(Q,ue){if(ue.length===0)return null;var ke;return ue.objectMode?ke=ue.buffer.shift():!Q||Q>=ue.length?(ue.decoder?ke=ue.buffer.join(""):ue.buffer.length===1?ke=ue.buffer.first():ke=ue.buffer.concat(ue.length),ue.buffer.clear()):ke=ue.buffer.consume(Q,ue.decoder),ke}function U(Q){var ue=Q._readableState;h("endReadable",ue.endEmitted),ue.endEmitted||(ue.ended=!0,hr.nextTick(ne,ue,Q))}function ne(Q,ue){if(h("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,ue.readable=!1,ue.emit("end"),Q.autoDestroy)){var ke=ue._writableState;(!ke||ke.autoDestroy&&ke.finished)&&ue.destroy()}}typeof Symbol=="function"&&(P.from=function(Q,ue){return S===void 0&&(S=pT()),S(P,Q,ue)});function oe(Q,ue){for(var ke=0,z=Q.length;ke<z;ke++)if(Q[ke]===ue)return ke;return-1}return S1}var A1,N_;function E4(){if(N_)return A1;N_=1,A1=l;var r=Gh().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,i=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,o=Uh();fu()(l,o);function c(p,y){var b=this._transformState;b.transforming=!1;var m=b.writecb;if(m===null)return this.emit("error",new t);b.writechunk=null,b.writecb=null,y!=null&&this.push(y),m(p);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);o.call(this,p),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",h)}function h(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,b){f(p,y,b)}):f(this,null,null)}l.prototype.push=function(p,y){return this._transformState.needTransform=!1,o.prototype.push.call(this,p,y)},l.prototype._transform=function(p,y,b){b(new e("_transform()"))},l.prototype._write=function(p,y,b){var m=this._transformState;if(m.writecb=b,m.writechunk=p,m.writeencoding=y,!m.transforming){var A=this._readableState;(m.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},l.prototype._read=function(p){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},l.prototype._destroy=function(p,y){o.prototype._destroy.call(this,p,function(b){y(b)})};function f(p,y,b){if(y)return p.emit("error",y);if(b!=null&&p.push(b),p._writableState.length)throw new s;if(p._transformState.transforming)throw new i;return p.push(null)}return A1}var E1,T_;function mT(){if(T_)return E1;T_=1,E1=e;var r=E4();fu()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,i,s){s(null,t)},E1}var k1,R_;function gT(){if(R_)return k1;R_=1;var r;function e(b){var m=!1;return function(){m||(m=!0,b.apply(void 0,arguments))}}var t=Gh().codes,i=t.ERR_MISSING_ARGS,s=t.ERR_STREAM_DESTROYED;function o(b){if(b)throw b}function c(b){return b.setHeader&&typeof b.abort=="function"}function l(b,m,A,_){_=e(_);var E=!1;b.on("close",function(){E=!0}),r===void 0&&(r=qv()),r(b,{readable:m,writable:A},function(C){if(C)return _(C);E=!0,_()});var v=!1;return function(C){if(!E&&!v){if(v=!0,c(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();_(C||new s("pipe"))}}}function h(b){b()}function f(b,m){return b.pipe(m)}function p(b){return!b.length||typeof b[b.length-1]!="function"?o:b.pop()}function y(){for(var b=arguments.length,m=new Array(b),A=0;A<b;A++)m[A]=arguments[A];var _=p(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new i("streams");var E,v=m.map(function(C,N){var S=N<m.length-1,D=N>0;return l(C,S,D,function(K){E||(E=K),K&&v.forEach(h),!S&&(v.forEach(h),_(E))})});return m.reduce(f)}return k1=y,k1}var N1,C_;function Hv(){if(C_)return N1;C_=1,N1=t;var r=Uv().EventEmitter,e=fu();e(t,r),t.Readable=A4(),t.Writable=S4(),t.Duplex=Uh(),t.Transform=E4(),t.PassThrough=mT(),t.finished=qv(),t.pipeline=gT(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(i,s){var o=this;function c(m){i.writable&&i.write(m)===!1&&o.pause&&o.pause()}o.on("data",c);function l(){o.readable&&o.resume&&o.resume()}i.on("drain",l),!i._isStdio&&(!s||s.end!==!1)&&(o.on("end",f),o.on("close",p));var h=!1;function f(){h||(h=!0,i.end())}function p(){h||(h=!0,typeof i.destroy=="function"&&i.destroy())}function y(m){if(b(),r.listenerCount(this,"error")===0)throw m}o.on("error",y),i.on("error",y);function b(){o.removeListener("data",c),i.removeListener("drain",l),o.removeListener("end",f),o.removeListener("close",p),o.removeListener("error",y),i.removeListener("error",y),o.removeListener("end",b),o.removeListener("close",b),i.removeListener("close",b)}return o.on("end",b),o.on("close",b),i.on("close",b),i.emit("pipe",o),i},N1}var O_;function yT(){return O_||(O_=1,(function(r){(function(e){e.parser=function(I,U){return new i(I,U)},e.SAXParser=i,e.SAXStream=p,e.createStream=f,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(I,U){if(!(this instanceof i))return new i(I,U);var ne=this;o(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=U||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!I,ne.noscript=!!(I||ne.opt.noscript),ne.state=P.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(_)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),re(ne,"onready")}Object.create||(Object.create=function(I){function U(){}U.prototype=I;var ne=new U;return ne}),Object.keys||(Object.keys=function(I){var U=[];for(var ne in I)I.hasOwnProperty(ne)&&U.push(ne);return U});function s(I){for(var U=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,oe=0,Q=t.length;oe<Q;oe++){var ue=I[t[oe]].length;if(ue>U)switch(t[oe]){case"textNode":J(I);break;case"cdata":B(I,"oncdata",I.cdata),I.cdata="";break;case"script":B(I,"onscript",I.script),I.script="";break;default:se(I,"Max buffer length exceeded: "+t[oe])}ne=Math.max(ne,ue)}var ke=e.MAX_BUFFER_LENGTH-ne;I.bufferCheckPosition=ke+I.position}function o(I){for(var U=0,ne=t.length;U<ne;U++)I[t[U]]=""}function c(I){J(I),I.cdata!==""&&(B(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(B(I,"onscript",I.script),I.script="")}i.prototype={end:function(){ie(this)},write:ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this)}};var l;try{l=Hv().Stream}catch{l=function(){}}var h=e.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function f(I,U){return new p(I,U)}function p(I,U){if(!(this instanceof p))return new p(I,U);l.apply(this),this._parser=new i(I,U),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(oe){ne.emit("error",oe),ne._parser.error=null},this._decoder=null,h.forEach(function(oe){Object.defineProperty(ne,"on"+oe,{get:function(){return ne._parser["on"+oe]},set:function(Q){if(!Q)return ne.removeAllListeners(oe),ne._parser["on"+oe]=Q,Q;ne.on(oe,Q)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(l.prototype,{constructor:{value:p}}),p.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var U=Vy().StringDecoder;this._decoder=new U("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},p.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},p.prototype.on=function(I,U){var ne=this;return!ne._parser["on"+I]&&h.indexOf(I)!==-1&&(ne._parser["on"+I]=function(){var oe=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);oe.splice(0,0,I),ne.emit.apply(ne,oe)}),l.prototype.on.call(ne,I,U)};var y="[CDATA[",b="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/2000/xmlns/",_={xml:m,xmlns:A},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(I){return I===" "||I===`
`||I==="\r"||I==="	"}function D(I){return I==='"'||I==="'"}function K(I){return I===">"||S(I)}function $(I,U){return I.test(U)}function ee(I,U){return!$(I,U)}var P=0;e.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(I){var U=e.ENTITIES[I],ne=typeof U=="number"?String.fromCharCode(U):U;e.ENTITIES[I]=ne});for(var fe in e.STATE)e.STATE[e.STATE[fe]]=fe;P=e.STATE;function re(I,U,ne){I[U]&&I[U](ne)}function B(I,U,ne){I.textNode&&J(I),re(I,U,ne)}function J(I){I.textNode=L(I.opt,I.textNode),I.textNode&&re(I,"ontext",I.textNode),I.textNode=""}function L(I,U){return I.trim&&(U=U.trim()),I.normalize&&(U=U.replace(/\s+/g," ")),U}function se(I,U){return J(I),I.trackPosition&&(U+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),U=new Error(U),I.error=U,re(I,"onerror",U),I}function ie(I){return I.sawRoot&&!I.closedRoot&&Z(I,"Unclosed root tag"),I.state!==P.BEGIN&&I.state!==P.BEGIN_WHITESPACE&&I.state!==P.TEXT&&se(I,"Unexpected end"),J(I),I.c="",I.closed=!0,re(I,"onend"),i.call(I,I.strict,I.opt),I}function Z(I,U){if(typeof I!="object"||!(I instanceof i))throw new Error("bad call to strictFail");I.strict&&se(I,U)}function pe(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var U=I.tags[I.tags.length-1]||I,ne=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(ne.ns=U.ns),I.attribList.length=0,B(I,"onopentagstart",ne)}function ye(I,U){var ne=I.indexOf(":"),oe=ne<0?["",I]:I.split(":"),Q=oe[0],ue=oe[1];return U&&I==="xmlns"&&(Q="xmlns",ue=""),{prefix:Q,local:ue}}function Te(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var U=ye(I.attribName,!0),ne=U.prefix,oe=U.local;if(ne==="xmlns")if(oe==="xml"&&I.attribValue!==m)Z(I,"xml: prefix must be bound to "+m+`
Actual: `+I.attribValue);else if(oe==="xmlns"&&I.attribValue!==A)Z(I,"xmlns: prefix must be bound to "+A+`
Actual: `+I.attribValue);else{var Q=I.tag,ue=I.tags[I.tags.length-1]||I;Q.ns===ue.ns&&(Q.ns=Object.create(ue.ns)),Q.ns[oe]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,B(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function W(I,U){if(I.opt.xmlns){var ne=I.tag,oe=ye(I.tagName);ne.prefix=oe.prefix,ne.local=oe.local,ne.uri=ne.ns[oe.prefix]||"",ne.prefix&&!ne.uri&&(Z(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),ne.uri=oe.prefix);var Q=I.tags[I.tags.length-1]||I;ne.ns&&Q.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(we){B(I,"onopennamespace",{prefix:we,uri:ne.ns[we]})});for(var ue=0,ke=I.attribList.length;ue<ke;ue++){var z=I.attribList[ue],te=z[0],q=z[1],T=ye(te,!0),O=T.prefix,M=T.local,ve=O===""?"":ne.ns[O]||"",xe={name:te,value:q,prefix:O,local:M,uri:ve};O&&O!=="xmlns"&&!ve&&(Z(I,"Unbound namespace prefix: "+JSON.stringify(O)),xe.uri=O),I.tag.attributes[te]=xe,B(I,"onattribute",xe)}I.attribList.length=0}I.tag.isSelfClosing=!!U,I.sawRoot=!0,I.tags.push(I.tag),B(I,"onopentag",I.tag),U||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=P.SCRIPT:I.state=P.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function R(I){if(!I.tagName){Z(I,"Weird empty close tag."),I.textNode+="</>",I.state=P.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=P.SCRIPT;return}B(I,"onscript",I.script),I.script=""}var U=I.tags.length,ne=I.tagName;I.strict||(ne=ne[I.looseCase]());for(var oe=ne;U--;){var Q=I.tags[U];if(Q.name!==oe)Z(I,"Unexpected close tag");else break}if(U<0){Z(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=P.TEXT;return}I.tagName=ne;for(var ue=I.tags.length;ue-- >U;){var ke=I.tag=I.tags.pop();I.tagName=I.tag.name,B(I,"onclosetag",I.tagName);var z={};for(var te in ke.ns)z[te]=ke.ns[te];var q=I.tags[I.tags.length-1]||I;I.opt.xmlns&&ke.ns!==q.ns&&Object.keys(ke.ns).forEach(function(T){var O=ke.ns[T];B(I,"onclosenamespace",{prefix:T,uri:O})})}U===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=P.TEXT}function G(I){var U=I.entity,ne=U.toLowerCase(),oe,Q="";return I.ENTITIES[U]?I.ENTITIES[U]:I.ENTITIES[ne]?I.ENTITIES[ne]:(U=ne,U.charAt(0)==="#"&&(U.charAt(1)==="x"?(U=U.slice(2),oe=parseInt(U,16),Q=oe.toString(16)):(U=U.slice(1),oe=parseInt(U,10),Q=oe.toString(10))),U=U.replace(/^0+/,""),isNaN(oe)||Q.toLowerCase()!==U?(Z(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(oe))}function X(I,U){U==="<"?(I.state=P.OPEN_WAKA,I.startTagPosition=I.position):S(U)||(Z(I,"Non-whitespace before first tag."),I.textNode=U,I.state=P.TEXT)}function ce(I,U){var ne="";return U<I.length&&(ne=I.charAt(U)),ne}function ae(I){var U=this;if(this.error)throw this.error;if(U.closed)return se(U,"Cannot write after close. Assign an onready handler.");if(I===null)return ie(U);typeof I=="object"&&(I=I.toString());for(var ne=0,oe="";oe=ce(I,ne++),U.c=oe,!!oe;)switch(U.trackPosition&&(U.position++,oe===`
`?(U.line++,U.column=0):U.column++),U.state){case P.BEGIN:if(U.state=P.BEGIN_WHITESPACE,oe==="\uFEFF")continue;X(U,oe);continue;case P.BEGIN_WHITESPACE:X(U,oe);continue;case P.TEXT:if(U.sawRoot&&!U.closedRoot){for(var Q=ne-1;oe&&oe!=="<"&&oe!=="&";)oe=ce(I,ne++),oe&&U.trackPosition&&(U.position++,oe===`
`?(U.line++,U.column=0):U.column++);U.textNode+=I.substring(Q,ne-1)}oe==="<"&&!(U.sawRoot&&U.closedRoot&&!U.strict)?(U.state=P.OPEN_WAKA,U.startTagPosition=U.position):(!S(oe)&&(!U.sawRoot||U.closedRoot)&&Z(U,"Text data outside of root node."),oe==="&"?U.state=P.TEXT_ENTITY:U.textNode+=oe);continue;case P.SCRIPT:oe==="<"?U.state=P.SCRIPT_ENDING:U.script+=oe;continue;case P.SCRIPT_ENDING:oe==="/"?U.state=P.CLOSE_TAG:(U.script+="<"+oe,U.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(oe==="!")U.state=P.SGML_DECL,U.sgmlDecl="";else if(!S(oe))if($(E,oe))U.state=P.OPEN_TAG,U.tagName=oe;else if(oe==="/")U.state=P.CLOSE_TAG,U.tagName="";else if(oe==="?")U.state=P.PROC_INST,U.procInstName=U.procInstBody="";else{if(Z(U,"Unencoded <"),U.startTagPosition+1<U.position){var ue=U.position-U.startTagPosition;oe=new Array(ue).join(" ")+oe}U.textNode+="<"+oe,U.state=P.TEXT}continue;case P.SGML_DECL:(U.sgmlDecl+oe).toUpperCase()===y?(B(U,"onopencdata"),U.state=P.CDATA,U.sgmlDecl="",U.cdata=""):U.sgmlDecl+oe==="--"?(U.state=P.COMMENT,U.comment="",U.sgmlDecl=""):(U.sgmlDecl+oe).toUpperCase()===b?(U.state=P.DOCTYPE,(U.doctype||U.sawRoot)&&Z(U,"Inappropriately located doctype declaration"),U.doctype="",U.sgmlDecl=""):oe===">"?(B(U,"onsgmldeclaration",U.sgmlDecl),U.sgmlDecl="",U.state=P.TEXT):(D(oe)&&(U.state=P.SGML_DECL_QUOTED),U.sgmlDecl+=oe);continue;case P.SGML_DECL_QUOTED:oe===U.q&&(U.state=P.SGML_DECL,U.q=""),U.sgmlDecl+=oe;continue;case P.DOCTYPE:oe===">"?(U.state=P.TEXT,B(U,"ondoctype",U.doctype),U.doctype=!0):(U.doctype+=oe,oe==="["?U.state=P.DOCTYPE_DTD:D(oe)&&(U.state=P.DOCTYPE_QUOTED,U.q=oe));continue;case P.DOCTYPE_QUOTED:U.doctype+=oe,oe===U.q&&(U.q="",U.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:U.doctype+=oe,oe==="]"?U.state=P.DOCTYPE:D(oe)&&(U.state=P.DOCTYPE_DTD_QUOTED,U.q=oe);continue;case P.DOCTYPE_DTD_QUOTED:U.doctype+=oe,oe===U.q&&(U.state=P.DOCTYPE_DTD,U.q="");continue;case P.COMMENT:oe==="-"?U.state=P.COMMENT_ENDING:U.comment+=oe;continue;case P.COMMENT_ENDING:oe==="-"?(U.state=P.COMMENT_ENDED,U.comment=L(U.opt,U.comment),U.comment&&B(U,"oncomment",U.comment),U.comment=""):(U.comment+="-"+oe,U.state=P.COMMENT);continue;case P.COMMENT_ENDED:oe!==">"?(Z(U,"Malformed comment"),U.comment+="--"+oe,U.state=P.COMMENT):U.state=P.TEXT;continue;case P.CDATA:oe==="]"?U.state=P.CDATA_ENDING:U.cdata+=oe;continue;case P.CDATA_ENDING:oe==="]"?U.state=P.CDATA_ENDING_2:(U.cdata+="]"+oe,U.state=P.CDATA);continue;case P.CDATA_ENDING_2:oe===">"?(U.cdata&&B(U,"oncdata",U.cdata),B(U,"onclosecdata"),U.cdata="",U.state=P.TEXT):oe==="]"?U.cdata+="]":(U.cdata+="]]"+oe,U.state=P.CDATA);continue;case P.PROC_INST:oe==="?"?U.state=P.PROC_INST_ENDING:S(oe)?U.state=P.PROC_INST_BODY:U.procInstName+=oe;continue;case P.PROC_INST_BODY:if(!U.procInstBody&&S(oe))continue;oe==="?"?U.state=P.PROC_INST_ENDING:U.procInstBody+=oe;continue;case P.PROC_INST_ENDING:oe===">"?(B(U,"onprocessinginstruction",{name:U.procInstName,body:U.procInstBody}),U.procInstName=U.procInstBody="",U.state=P.TEXT):(U.procInstBody+="?"+oe,U.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:$(v,oe)?U.tagName+=oe:(pe(U),oe===">"?W(U):oe==="/"?U.state=P.OPEN_TAG_SLASH:(S(oe)||Z(U,"Invalid character in tag name"),U.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:oe===">"?(W(U,!0),R(U)):(Z(U,"Forward-slash in opening tag not followed by >"),U.state=P.ATTRIB);continue;case P.ATTRIB:if(S(oe))continue;oe===">"?W(U):oe==="/"?U.state=P.OPEN_TAG_SLASH:$(E,oe)?(U.attribName=oe,U.attribValue="",U.state=P.ATTRIB_NAME):Z(U,"Invalid attribute name");continue;case P.ATTRIB_NAME:oe==="="?U.state=P.ATTRIB_VALUE:oe===">"?(Z(U,"Attribute without value"),U.attribValue=U.attribName,Te(U),W(U)):S(oe)?U.state=P.ATTRIB_NAME_SAW_WHITE:$(v,oe)?U.attribName+=oe:Z(U,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(oe==="=")U.state=P.ATTRIB_VALUE;else{if(S(oe))continue;Z(U,"Attribute without value"),U.tag.attributes[U.attribName]="",U.attribValue="",B(U,"onattribute",{name:U.attribName,value:""}),U.attribName="",oe===">"?W(U):$(E,oe)?(U.attribName=oe,U.state=P.ATTRIB_NAME):(Z(U,"Invalid attribute name"),U.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(S(oe))continue;D(oe)?(U.q=oe,U.state=P.ATTRIB_VALUE_QUOTED):(Z(U,"Unquoted attribute value"),U.state=P.ATTRIB_VALUE_UNQUOTED,U.attribValue=oe);continue;case P.ATTRIB_VALUE_QUOTED:if(oe!==U.q){oe==="&"?U.state=P.ATTRIB_VALUE_ENTITY_Q:U.attribValue+=oe;continue}Te(U),U.q="",U.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:S(oe)?U.state=P.ATTRIB:oe===">"?W(U):oe==="/"?U.state=P.OPEN_TAG_SLASH:$(E,oe)?(Z(U,"No whitespace between attributes"),U.attribName=oe,U.attribValue="",U.state=P.ATTRIB_NAME):Z(U,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!K(oe)){oe==="&"?U.state=P.ATTRIB_VALUE_ENTITY_U:U.attribValue+=oe;continue}Te(U),oe===">"?W(U):U.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(U.tagName)oe===">"?R(U):$(v,oe)?U.tagName+=oe:U.script?(U.script+="</"+U.tagName,U.tagName="",U.state=P.SCRIPT):(S(oe)||Z(U,"Invalid tagname in closing tag"),U.state=P.CLOSE_TAG_SAW_WHITE);else{if(S(oe))continue;ee(E,oe)?U.script?(U.script+="</"+oe,U.state=P.SCRIPT):Z(U,"Invalid tagname in closing tag."):U.tagName=oe}continue;case P.CLOSE_TAG_SAW_WHITE:if(S(oe))continue;oe===">"?R(U):Z(U,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var ke,z;switch(U.state){case P.TEXT_ENTITY:ke=P.TEXT,z="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:ke=P.ATTRIB_VALUE_QUOTED,z="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:ke=P.ATTRIB_VALUE_UNQUOTED,z="attribValue";break}oe===";"?(U[z]+=G(U),U.entity="",U.state=ke):$(U.entity.length?N:C,oe)?U.entity+=oe:(Z(U,"Invalid character in entity name"),U[z]+="&"+U.entity+oe,U.entity="",U.state=ke);continue;default:throw new Error(U,"Unknown state: "+U.state)}return U.position>=U.bufferCheckPosition&&s(U),U}String.fromCodePoint||(function(){var I=String.fromCharCode,U=Math.floor,ne=function(){var oe=16384,Q=[],ue,ke,z=-1,te=arguments.length;if(!te)return"";for(var q="";++z<te;){var T=Number(arguments[z]);if(!isFinite(T)||T<0||T>1114111||U(T)!==T)throw RangeError("Invalid code point: "+T);T<=65535?Q.push(T):(T-=65536,ue=(T>>10)+55296,ke=T%1024+56320,Q.push(ue,ke)),(z+1===te||Q.length>oe)&&(q+=I.apply(null,Q),Q.length=0)}return q};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne})()})(r)})(fg)),fg}var T1,L_;function $v(){return L_||(L_=1,T1={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),T1}var R1,j_;function Gv(){if(j_)return R1;j_=1;var r=$v().isArray;return R1={copyOptions:function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},R1}var C1,P_;function k4(){if(P_)return C1;P_=1;var r=yT(),e=Gv(),t=$v().isArray,i,s;function o(v){return i=e.copyOptions(v),e.ensureFlagExists("ignoreDeclaration",i),e.ensureFlagExists("ignoreInstruction",i),e.ensureFlagExists("ignoreAttributes",i),e.ensureFlagExists("ignoreText",i),e.ensureFlagExists("ignoreComment",i),e.ensureFlagExists("ignoreCdata",i),e.ensureFlagExists("ignoreDoctype",i),e.ensureFlagExists("compact",i),e.ensureFlagExists("alwaysChildren",i),e.ensureFlagExists("addParent",i),e.ensureFlagExists("trim",i),e.ensureFlagExists("nativeType",i),e.ensureFlagExists("nativeTypeAttributes",i),e.ensureFlagExists("sanitize",i),e.ensureFlagExists("instructionHasAttributes",i),e.ensureFlagExists("captureSpacesBetweenElements",i),e.ensureAlwaysArrayExists(i),e.ensureKeyExists("declaration",i),e.ensureKeyExists("instruction",i),e.ensureKeyExists("attributes",i),e.ensureKeyExists("text",i),e.ensureKeyExists("comment",i),e.ensureKeyExists("cdata",i),e.ensureKeyExists("doctype",i),e.ensureKeyExists("type",i),e.ensureKeyExists("name",i),e.ensureKeyExists("elements",i),e.ensureKeyExists("parent",i),e.checkFnExists("doctype",i),e.checkFnExists("instruction",i),e.checkFnExists("cdata",i),e.checkFnExists("comment",i),e.checkFnExists("text",i),e.checkFnExists("instructionName",i),e.checkFnExists("elementName",i),e.checkFnExists("attributeName",i),e.checkFnExists("attributeValue",i),e.checkFnExists("attributes",i),i}function c(v){var C=Number(v);if(!isNaN(C))return C;var N=v.toLowerCase();return N==="true"?!0:N==="false"?!1:v}function l(v,C){var N;if(i.compact){if(!s[i[v+"Key"]]&&(t(i.alwaysArray)?i.alwaysArray.indexOf(i[v+"Key"])!==-1:i.alwaysArray)&&(s[i[v+"Key"]]=[]),s[i[v+"Key"]]&&!t(s[i[v+"Key"]])&&(s[i[v+"Key"]]=[s[i[v+"Key"]]]),v+"Fn"in i&&typeof C=="string"&&(C=i[v+"Fn"](C,s)),v==="instruction"&&("instructionFn"in i||"instructionNameFn"in i)){for(N in C)if(C.hasOwnProperty(N))if("instructionFn"in i)C[N]=i.instructionFn(C[N],N,s);else{var S=C[N];delete C[N],C[i.instructionNameFn(N,S,s)]=S}}t(s[i[v+"Key"]])?s[i[v+"Key"]].push(C):s[i[v+"Key"]]=C}else{s[i.elementsKey]||(s[i.elementsKey]=[]);var D={};if(D[i.typeKey]=v,v==="instruction"){for(N in C)if(C.hasOwnProperty(N))break;D[i.nameKey]="instructionNameFn"in i?i.instructionNameFn(N,C,s):N,i.instructionHasAttributes?(D[i.attributesKey]=C[N][i.attributesKey],"instructionFn"in i&&(D[i.attributesKey]=i.instructionFn(D[i.attributesKey],N,s))):("instructionFn"in i&&(C[N]=i.instructionFn(C[N],N,s)),D[i.instructionKey]=C[N])}else v+"Fn"in i&&(C=i[v+"Fn"](C,s)),D[i[v+"Key"]]=C;i.addParent&&(D[i.parentKey]=s),s[i.elementsKey].push(D)}}function h(v){if("attributesFn"in i&&v&&(v=i.attributesFn(v,s)),(i.trim||"attributeValueFn"in i||"attributeNameFn"in i||i.nativeTypeAttributes)&&v){var C;for(C in v)if(v.hasOwnProperty(C)&&(i.trim&&(v[C]=v[C].trim()),i.nativeTypeAttributes&&(v[C]=c(v[C])),"attributeValueFn"in i&&(v[C]=i.attributeValueFn(v[C],C,s)),"attributeNameFn"in i)){var N=v[C];delete v[C],v[i.attributeNameFn(C,v[C],s)]=N}}return v}function f(v){var C={};if(v.body&&(v.name.toLowerCase()==="xml"||i.instructionHasAttributes)){for(var N=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=N.exec(v.body))!==null;)C[S[1]]=S[2]||S[3]||S[4];C=h(C)}if(v.name.toLowerCase()==="xml"){if(i.ignoreDeclaration)return;s[i.declarationKey]={},Object.keys(C).length&&(s[i.declarationKey][i.attributesKey]=C),i.addParent&&(s[i.declarationKey][i.parentKey]=s)}else{if(i.ignoreInstruction)return;i.trim&&(v.body=v.body.trim());var D={};i.instructionHasAttributes&&Object.keys(C).length?(D[v.name]={},D[v.name][i.attributesKey]=C):D[v.name]=v.body,l("instruction",D)}}function p(v,C){var N;if(typeof v=="object"&&(C=v.attributes,v=v.name),C=h(C),"elementNameFn"in i&&(v=i.elementNameFn(v,s)),i.compact){if(N={},!i.ignoreAttributes&&C&&Object.keys(C).length){N[i.attributesKey]={};var S;for(S in C)C.hasOwnProperty(S)&&(N[i.attributesKey][S]=C[S])}!(v in s)&&(t(i.alwaysArray)?i.alwaysArray.indexOf(v)!==-1:i.alwaysArray)&&(s[v]=[]),s[v]&&!t(s[v])&&(s[v]=[s[v]]),t(s[v])?s[v].push(N):s[v]=N}else s[i.elementsKey]||(s[i.elementsKey]=[]),N={},N[i.typeKey]="element",N[i.nameKey]=v,!i.ignoreAttributes&&C&&Object.keys(C).length&&(N[i.attributesKey]=C),i.alwaysChildren&&(N[i.elementsKey]=[]),s[i.elementsKey].push(N);N[i.parentKey]=s,s=N}function y(v){i.ignoreText||!v.trim()&&!i.captureSpacesBetweenElements||(i.trim&&(v=v.trim()),i.nativeType&&(v=c(v)),i.sanitize&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",v))}function b(v){i.ignoreComment||(i.trim&&(v=v.trim()),l("comment",v))}function m(v){var C=s[i.parentKey];i.addParent||delete s[i.parentKey],s=C}function A(v){i.ignoreCdata||(i.trim&&(v=v.trim()),l("cdata",v))}function _(v){i.ignoreDoctype||(v=v.replace(/^ /,""),i.trim&&(v=v.trim()),l("doctype",v))}function E(v){v.note=v}return C1=function(v,C){var N=r.parser(!0,{}),S={};if(s=S,i=o(C),N.opt={strictEntities:!0},N.onopentag=p,N.ontext=y,N.oncomment=b,N.onclosetag=m,N.onerror=E,N.oncdata=A,N.ondoctype=_,N.onprocessinginstruction=f,N.write(v).close(),S[i.elementsKey]){var D=S[i.elementsKey];delete S[i.elementsKey],S[i.elementsKey]=D,delete S.text}return S},C1}var O1,D_;function vT(){if(D_)return O1;D_=1;var r=Gv(),e=k4();function t(i){var s=r.copyOptions(i);return r.ensureSpacesExists(s),s}return O1=function(i,s){var o,c,l,h;return o=t(s),c=e(i,o),h="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?l=JSON.stringify(c,function(f,p){return f===h?"_":p},o.spaces):l=JSON.stringify(c,null,o.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},O1}var L1,B_;function N4(){if(B_)return L1;B_=1;var r=Gv(),e=$v().isArray,t,i;function s(N){var S=r.copyOptions(N);return r.ensureFlagExists("ignoreDeclaration",S),r.ensureFlagExists("ignoreInstruction",S),r.ensureFlagExists("ignoreAttributes",S),r.ensureFlagExists("ignoreText",S),r.ensureFlagExists("ignoreComment",S),r.ensureFlagExists("ignoreCdata",S),r.ensureFlagExists("ignoreDoctype",S),r.ensureFlagExists("compact",S),r.ensureFlagExists("indentText",S),r.ensureFlagExists("indentCdata",S),r.ensureFlagExists("indentAttributes",S),r.ensureFlagExists("indentInstruction",S),r.ensureFlagExists("fullTagEmptyElement",S),r.ensureFlagExists("noQuotesForNativeAttributes",S),r.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),r.ensureKeyExists("declaration",S),r.ensureKeyExists("instruction",S),r.ensureKeyExists("attributes",S),r.ensureKeyExists("text",S),r.ensureKeyExists("comment",S),r.ensureKeyExists("cdata",S),r.ensureKeyExists("doctype",S),r.ensureKeyExists("type",S),r.ensureKeyExists("name",S),r.ensureKeyExists("elements",S),r.checkFnExists("doctype",S),r.checkFnExists("instruction",S),r.checkFnExists("cdata",S),r.checkFnExists("comment",S),r.checkFnExists("text",S),r.checkFnExists("instructionName",S),r.checkFnExists("elementName",S),r.checkFnExists("attributeName",S),r.checkFnExists("attributeValue",S),r.checkFnExists("attributes",S),r.checkFnExists("fullTagEmptyElement",S),S}function o(N,S,D){return(!D&&N.spaces?`
`:"")+Array(S+1).join(N.spaces)}function c(N,S,D){if(S.ignoreAttributes)return"";"attributesFn"in S&&(N=S.attributesFn(N,i,t));var K,$,ee,P,fe=[];for(K in N)N.hasOwnProperty(K)&&N[K]!==null&&N[K]!==void 0&&(P=S.noQuotesForNativeAttributes&&typeof N[K]!="string"?"":'"',$=""+N[K],$=$.replace(/"/g,"&quot;"),ee="attributeNameFn"in S?S.attributeNameFn(K,$,i,t):K,fe.push(S.spaces&&S.indentAttributes?o(S,D+1,!1):" "),fe.push(ee+"="+P+("attributeValueFn"in S?S.attributeValueFn($,K,i,t):$)+P));return N&&Object.keys(N).length&&S.spaces&&S.indentAttributes&&fe.push(o(S,D,!1)),fe.join("")}function l(N,S,D){return t=N,i="xml",S.ignoreDeclaration?"":"<?xml"+c(N[S.attributesKey],S,D)+"?>"}function h(N,S,D){if(S.ignoreInstruction)return"";var K;for(K in N)if(N.hasOwnProperty(K))break;var $="instructionNameFn"in S?S.instructionNameFn(K,N[K],i,t):K;if(typeof N[K]=="object")return t=N,i=$,"<?"+$+c(N[K][S.attributesKey],S,D)+"?>";var ee=N[K]?N[K]:"";return"instructionFn"in S&&(ee=S.instructionFn(ee,K,i,t)),"<?"+$+(ee?" "+ee:"")+"?>"}function f(N,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(N,i,t):N)+"-->"}function p(N,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(N,i,t):N.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function y(N,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(N,i,t):N)+">"}function b(N,S){return S.ignoreText?"":(N=""+N,N=N.replace(/&amp;/g,"&"),N=N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(N,i,t):N)}function m(N,S){var D;if(N.elements&&N.elements.length)for(D=0;D<N.elements.length;++D)switch(N.elements[D][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function A(N,S,D){t=N,i=N.name;var K=[],$="elementNameFn"in S?S.elementNameFn(N.name,N):N.name;K.push("<"+$),N[S.attributesKey]&&K.push(c(N[S.attributesKey],S,D));var ee=N[S.elementsKey]&&N[S.elementsKey].length||N[S.attributesKey]&&N[S.attributesKey]["xml:space"]==="preserve";return ee||("fullTagEmptyElementFn"in S?ee=S.fullTagEmptyElementFn(N.name,N):ee=S.fullTagEmptyElement),ee?(K.push(">"),N[S.elementsKey]&&N[S.elementsKey].length&&(K.push(_(N[S.elementsKey],S,D+1)),t=N,i=N.name),K.push(S.spaces&&m(N,S)?`
`+Array(D+1).join(S.spaces):""),K.push("</"+$+">")):K.push("/>"),K.join("")}function _(N,S,D,K){return N.reduce(function($,ee){var P=o(S,D,K&&!$);switch(ee.type){case"element":return $+P+A(ee,S,D);case"comment":return $+P+f(ee[S.commentKey],S);case"doctype":return $+P+y(ee[S.doctypeKey],S);case"cdata":return $+(S.indentCdata?P:"")+p(ee[S.cdataKey],S);case"text":return $+(S.indentText?P:"")+b(ee[S.textKey],S);case"instruction":var fe={};return fe[ee[S.nameKey]]=ee[S.attributesKey]?ee:ee[S.instructionKey],$+(S.indentInstruction?P:"")+h(fe,S,D)}},"")}function E(N,S,D){var K;for(K in N)if(N.hasOwnProperty(K))switch(K){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||D)return!0;break;case S.cdataKey:if(S.indentCdata||D)return!0;break;case S.instructionKey:if(S.indentInstruction||D)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function v(N,S,D,K,$){t=N,i=S;var ee="elementNameFn"in D?D.elementNameFn(S,N):S;if(typeof N>"u"||N===null||N==="")return"fullTagEmptyElementFn"in D&&D.fullTagEmptyElementFn(S,N)||D.fullTagEmptyElement?"<"+ee+"></"+ee+">":"<"+ee+"/>";var P=[];if(S){if(P.push("<"+ee),typeof N!="object")return P.push(">"+b(N,D)+"</"+ee+">"),P.join("");N[D.attributesKey]&&P.push(c(N[D.attributesKey],D,K));var fe=E(N,D,!0)||N[D.attributesKey]&&N[D.attributesKey]["xml:space"]==="preserve";if(fe||("fullTagEmptyElementFn"in D?fe=D.fullTagEmptyElementFn(S,N):fe=D.fullTagEmptyElement),fe)P.push(">");else return P.push("/>"),P.join("")}return P.push(C(N,D,K+1,!1)),t=N,i=S,S&&P.push(($?o(D,K,!1):"")+"</"+ee+">"),P.join("")}function C(N,S,D,K){var $,ee,P,fe=[];for(ee in N)if(N.hasOwnProperty(ee))for(P=e(N[ee])?N[ee]:[N[ee]],$=0;$<P.length;++$){switch(ee){case S.declarationKey:fe.push(l(P[$],S,D));break;case S.instructionKey:fe.push((S.indentInstruction?o(S,D,K):"")+h(P[$],S,D));break;case S.attributesKey:case S.parentKey:break;case S.textKey:fe.push((S.indentText?o(S,D,K):"")+b(P[$],S));break;case S.cdataKey:fe.push((S.indentCdata?o(S,D,K):"")+p(P[$],S));break;case S.doctypeKey:fe.push(o(S,D,K)+y(P[$],S));break;case S.commentKey:fe.push(o(S,D,K)+f(P[$],S));break;default:fe.push(o(S,D,K)+v(P[$],ee,S,D,E(P[$],S)))}K=K&&!fe.length}return fe.join("")}return L1=function(N,S){S=s(S);var D=[];return t=N,i="_root_",S.compact?D.push(C(N,S,0,!0)):(N[S.declarationKey]&&D.push(l(N[S.declarationKey],S,0)),N[S.elementsKey]&&N[S.elementsKey].length&&D.push(_(N[S.elementsKey],S,0,!D.length))),D.join("")},L1}var j1,I_;function bT(){if(I_)return j1;I_=1;var r=N4();return j1=function(e,t){e instanceof Buffer&&(e=e.toString());var i=null;if(typeof e=="string")try{i=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else i=e;return r(i,t)},j1}var P1,U_;function wT(){if(U_)return P1;U_=1;var r=k4(),e=vT(),t=N4(),i=bT();return P1={xml2js:r,xml2json:e,js2xml:t,json2xml:i},P1}var T4=wT();const Wv=r=>{switch(r.type){case void 0:case"element":const e=new xT(r.name,r.attributes),t=r.elements||[];for(const i of t){const s=Wv(i);s!==void 0&&e.push(s)}return e;case"text":return r.text;default:return}};class _T extends Yt{}class xT extends st{static fromXmlString(e){const t=T4.xml2js(e,{compact:!1});return Wv(t)}constructor(e,t){super(e),t&&this.root.push(new _T(t))}push(e){this.root.push(e)}}class ST extends st{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class R4 extends st{constructor(e,t){super(e),t&&(this.root=t.root)}}const Oa=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},O0=r=>{const e=Oa(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},C4=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},M_=r=>C4(r,1),O4=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},L4=r=>{const e=O4(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Mh=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return C4(e,3)},Xu=r=>typeof r=="string"?O4(r):Oa(r),AT=r=>typeof r=="string"?L4(r):O0(r),ro=r=>typeof r=="string"?L4(r):O0(r),ET=O0,kT=O0,NT=r=>r.toISOString();class ot extends st{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new Xn({val:t}))}}class D1 extends st{constructor(e,t){super(e),this.root.push(new Xn({val:AT(t)}))}}class Eh extends st{constructor(e,t){super(e),this.root.push(new Xn({val:t}))}}const Pf=(r,e)=>new Bo({name:r,attributes:{value:{key:"w:val",value:e}}});class Gf extends st{constructor(e,t){super(e),this.root.push(new Xn({val:t}))}}class Uu extends st{constructor(e,t){super(e),this.root.push(t)}}class Bo extends st{constructor({name:e,attributes:t,children:i}){super(e),t&&this.root.push(new T0(t)),i&&this.root.push(...i)}}const Ro={START:"start",LEFT:"left"};class TT extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class RT extends st{constructor(e){super("w:jc"),this.root.push(new TT({val:e}))}}class Mn extends st{constructor(e,{color:t,size:i,space:s,style:o}){super(e),this.root.push(new CT({style:o,color:t===void 0?void 0:Mh(t),size:i===void 0?void 0:ET(i),space:s===void 0?void 0:kT(s)}))}}class CT extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Vv={SINGLE:"single",NONE:"none"};class OT extends N0{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Mn("w:top",e.top)),e.bottom&&this.root.push(new Mn("w:bottom",e.bottom)),e.left&&this.root.push(new Mn("w:left",e.left)),e.right&&this.root.push(new Mn("w:right",e.right))}}class LT extends st{constructor(){super("w:pBdr");const e=new Mn("w:bottom",{color:"auto",space:1,style:Vv.SINGLE,size:6});this.root.push(e)}}class jT extends st{constructor({start:e,end:t,left:i,right:s,hanging:o,firstLine:c}){super("w:ind"),this.root.push(new T0({start:{key:"w:start",value:e===void 0?void 0:Xu(e)},end:{key:"w:end",value:t===void 0?void 0:Xu(t)},left:{key:"w:left",value:i===void 0?void 0:Xu(i)},right:{key:"w:right",value:s===void 0?void 0:Xu(s)},hanging:{key:"w:hanging",value:o===void 0?void 0:ro(o)},firstLine:{key:"w:firstLine",value:c===void 0?void 0:ro(c)}}))}}let PT=class extends st{constructor(){super("w:br")}};const Kv={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Yv extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class wp extends st{constructor(e){super("w:fldChar"),this.root.push(new Yv({type:Kv.BEGIN,dirty:e}))}}class _p extends st{constructor(e){super("w:fldChar"),this.root.push(new Yv({type:Kv.SEPARATE,dirty:e}))}}class xp extends st{constructor(e){super("w:fldChar"),this.root.push(new Yv({type:Kv.END,dirty:e}))}}const Fh={DEFAULT:"default",PRESERVE:"preserve"};class zh extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{space:"xml:space"})}}class DT extends st{constructor(){super("w:instrText"),this.root.push(new zh({space:Fh.PRESERVE})),this.root.push("PAGE")}}class BT extends st{constructor(){super("w:instrText"),this.root.push(new zh({space:Fh.PRESERVE})),this.root.push("NUMPAGES")}}class IT extends st{constructor(){super("w:instrText"),this.root.push(new zh({space:Fh.PRESERVE})),this.root.push("SECTIONPAGES")}}class UT extends st{constructor(){super("w:instrText"),this.root.push(new zh({space:Fh.PRESERVE})),this.root.push("SECTION")}}class MT extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class j4 extends st{constructor({fill:e,color:t,type:i}){super("w:shd"),this.root.push(new MT({fill:e===void 0?void 0:Mh(e),color:t===void 0?void 0:Mh(t),type:i}))}}class FT extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const zT={DOT:"dot"};class qT extends st{constructor(e){super("w:em"),this.root.push(new Xn({val:e}))}}class HT extends qT{constructor(e=zT.DOT){super(e)}}class $T extends st{constructor(e){super("w:spacing"),this.root.push(new Xn({val:Xu(e)}))}}class GT extends st{constructor(e){super("w:color"),this.root.push(new Xn({val:Mh(e)}))}}class WT extends st{constructor(e){super("w:highlight"),this.root.push(new Xn({val:e}))}}class VT extends st{constructor(e){super("w:highlightCs"),this.root.push(new Xn({val:e}))}}const KT=r=>new Bo({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class F_ extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class B1 extends st{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const i=e;this.root.push(new F_({ascii:i,cs:i,eastAsia:i,hAnsi:i,hint:t}))}else{const i=e;this.root.push(new F_(i))}}}let P4=class extends st{constructor(e){super("w:vertAlign"),this.root.push(new Xn({val:e}))}};class YT extends P4{constructor(){super("superscript")}}class XT extends P4{constructor(){super("subscript")}}const D4={SINGLE:"single"};class JT extends st{constructor(e=D4.SINGLE,t){super("w:u"),this.root.push(new Xn({val:e,color:t===void 0?void 0:Mh(t)}))}}class uc extends N0{constructor(e){var t,i;if(super("w:rPr"),!e)return;e.style&&this.push(new Eh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new B1(e.font)):"name"in e.font?this.push(new B1(e.font.name,e.font.hint)):this.push(new B1(e.font))),e.bold!==void 0&&this.push(new ot("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new ot("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new ot("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new ot("w:iCs",(i=e.italicsComplexScript)!=null?i:e.italics)),e.smallCaps!==void 0?this.push(new ot("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new ot("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new ot("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new ot("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new ot("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new ot("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new ot("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new ot("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new ot("w:vanish",e.vanish)),e.color&&this.push(new GT(e.color)),e.characterSpacing&&this.push(new $T(e.characterSpacing)),e.scale!==void 0&&this.push(new Gf("w:w",e.scale)),e.kern&&this.push(new D1("w:kern",e.kern)),e.position&&this.push(new Eh("w:position",e.position)),e.size!==void 0&&this.push(new D1("w:sz",e.size));const s=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;s&&this.push(new D1("w:szCs",s)),e.highlight&&this.push(new WT(e.highlight));const o=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;o&&this.push(new VT(o)),e.underline&&this.push(new JT(e.underline.type,e.underline.color)),e.effect&&this.push(new Eh("w:effect",e.effect)),e.border&&this.push(new Mn("w:bdr",e.border)),e.shading&&this.push(new j4(e.shading)),e.subScript&&this.push(new XT),e.superScript&&this.push(new YT),e.rightToLeft!==void 0&&this.push(new ot("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new HT(e.emphasisMark.type)),e.language&&this.push(KT(e.language)),e.specVanish&&this.push(new ot("w:specVanish",e.vanish)),e.math&&this.push(new ot("w:oMath",e.math)),e.revision&&this.push(new ZT(e.revision))}push(e){this.root.push(e)}}class ZT extends st{constructor(e){super("w:rPrChange"),this.root.push(new FT({id:e.id,author:e.author,date:e.date})),this.addChildElement(new uc(e))}}class z_ extends st{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new zh({space:Fh.PRESERVE})),this.root.push(e)):(this.root.push(new zh({space:(t=e.space)!=null?t:Fh.DEFAULT})),this.root.push(e.text))}}const Sp={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class L0 extends st{constructor(e){if(super("w:r"),rt(this,"properties"),this.properties=new uc(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new PT);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case Sp.CURRENT:this.root.push(new wp),this.root.push(new DT),this.root.push(new _p),this.root.push(new xp);break;case Sp.TOTAL_PAGES:this.root.push(new wp),this.root.push(new BT),this.root.push(new _p),this.root.push(new xp);break;case Sp.TOTAL_PAGES_IN_SECTION:this.root.push(new wp),this.root.push(new IT),this.root.push(new _p),this.root.push(new xp);break;case Sp.CURRENT_SECTION:this.root.push(new wp),this.root.push(new UT),this.root.push(new _p),this.root.push(new xp);break;default:this.root.push(new z_(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new z_(e.text))}}class q_ extends L0{constructor(e){super(typeof e=="string"?{text:e}:e)}}var I1={},en={},U1,H_;function md(){if(H_)return U1;H_=1,U1=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,i,s){if(t!=i)throw new Error(s||"Assertion failed: "+t+" != "+i)},U1}var $_;function Io(){if($_)return en;$_=1;var r=md(),e=fu();en.inherits=e;function t(B,J){return(B.charCodeAt(J)&64512)!==55296||J<0||J+1>=B.length?!1:(B.charCodeAt(J+1)&64512)===56320}function i(B,J){if(Array.isArray(B))return B.slice();if(!B)return[];var L=[];if(typeof B=="string")if(J){if(J==="hex")for(B=B.replace(/[^a-z0-9]+/ig,""),B.length%2!==0&&(B="0"+B),ie=0;ie<B.length;ie+=2)L.push(parseInt(B[ie]+B[ie+1],16))}else for(var se=0,ie=0;ie<B.length;ie++){var Z=B.charCodeAt(ie);Z<128?L[se++]=Z:Z<2048?(L[se++]=Z>>6|192,L[se++]=Z&63|128):t(B,ie)?(Z=65536+((Z&1023)<<10)+(B.charCodeAt(++ie)&1023),L[se++]=Z>>18|240,L[se++]=Z>>12&63|128,L[se++]=Z>>6&63|128,L[se++]=Z&63|128):(L[se++]=Z>>12|224,L[se++]=Z>>6&63|128,L[se++]=Z&63|128)}else for(ie=0;ie<B.length;ie++)L[ie]=B[ie]|0;return L}en.toArray=i;function s(B){for(var J="",L=0;L<B.length;L++)J+=l(B[L].toString(16));return J}en.toHex=s;function o(B){var J=B>>>24|B>>>8&65280|B<<8&16711680|(B&255)<<24;return J>>>0}en.htonl=o;function c(B,J){for(var L="",se=0;se<B.length;se++){var ie=B[se];J==="little"&&(ie=o(ie)),L+=h(ie.toString(16))}return L}en.toHex32=c;function l(B){return B.length===1?"0"+B:B}en.zero2=l;function h(B){return B.length===7?"0"+B:B.length===6?"00"+B:B.length===5?"000"+B:B.length===4?"0000"+B:B.length===3?"00000"+B:B.length===2?"000000"+B:B.length===1?"0000000"+B:B}en.zero8=h;function f(B,J,L,se){var ie=L-J;r(ie%4===0);for(var Z=new Array(ie/4),pe=0,ye=J;pe<Z.length;pe++,ye+=4){var Te;se==="big"?Te=B[ye]<<24|B[ye+1]<<16|B[ye+2]<<8|B[ye+3]:Te=B[ye+3]<<24|B[ye+2]<<16|B[ye+1]<<8|B[ye],Z[pe]=Te>>>0}return Z}en.join32=f;function p(B,J){for(var L=new Array(B.length*4),se=0,ie=0;se<B.length;se++,ie+=4){var Z=B[se];J==="big"?(L[ie]=Z>>>24,L[ie+1]=Z>>>16&255,L[ie+2]=Z>>>8&255,L[ie+3]=Z&255):(L[ie+3]=Z>>>24,L[ie+2]=Z>>>16&255,L[ie+1]=Z>>>8&255,L[ie]=Z&255)}return L}en.split32=p;function y(B,J){return B>>>J|B<<32-J}en.rotr32=y;function b(B,J){return B<<J|B>>>32-J}en.rotl32=b;function m(B,J){return B+J>>>0}en.sum32=m;function A(B,J,L){return B+J+L>>>0}en.sum32_3=A;function _(B,J,L,se){return B+J+L+se>>>0}en.sum32_4=_;function E(B,J,L,se,ie){return B+J+L+se+ie>>>0}en.sum32_5=E;function v(B,J,L,se){var ie=B[J],Z=B[J+1],pe=se+Z>>>0,ye=(pe<se?1:0)+L+ie;B[J]=ye>>>0,B[J+1]=pe}en.sum64=v;function C(B,J,L,se){var ie=J+se>>>0,Z=(ie<J?1:0)+B+L;return Z>>>0}en.sum64_hi=C;function N(B,J,L,se){var ie=J+se;return ie>>>0}en.sum64_lo=N;function S(B,J,L,se,ie,Z,pe,ye){var Te=0,W=J;W=W+se>>>0,Te+=W<J?1:0,W=W+Z>>>0,Te+=W<Z?1:0,W=W+ye>>>0,Te+=W<ye?1:0;var R=B+L+ie+pe+Te;return R>>>0}en.sum64_4_hi=S;function D(B,J,L,se,ie,Z,pe,ye){var Te=J+se+Z+ye;return Te>>>0}en.sum64_4_lo=D;function K(B,J,L,se,ie,Z,pe,ye,Te,W){var R=0,G=J;G=G+se>>>0,R+=G<J?1:0,G=G+Z>>>0,R+=G<Z?1:0,G=G+ye>>>0,R+=G<ye?1:0,G=G+W>>>0,R+=G<W?1:0;var X=B+L+ie+pe+Te+R;return X>>>0}en.sum64_5_hi=K;function $(B,J,L,se,ie,Z,pe,ye,Te,W){var R=J+se+Z+ye+W;return R>>>0}en.sum64_5_lo=$;function ee(B,J,L){var se=J<<32-L|B>>>L;return se>>>0}en.rotr64_hi=ee;function P(B,J,L){var se=B<<32-L|J>>>L;return se>>>0}en.rotr64_lo=P;function fe(B,J,L){return B>>>L}en.shr64_hi=fe;function re(B,J,L){var se=B<<32-L|J>>>L;return se>>>0}return en.shr64_lo=re,en}var M1={},G_;function gd(){if(G_)return M1;G_=1;var r=Io(),e=md();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return M1.BlockHash=t,t.prototype.update=function(s,o){if(s=r.toArray(s,o),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var c=s.length%this._delta8;this.pending=s.slice(s.length-c,s.length),this.pending.length===0&&(this.pending=null),s=r.join32(s,0,s.length-c,this.endian);for(var l=0;l<s.length;l+=this._delta32)this._update(s,l,l+this._delta32)}return this},t.prototype.digest=function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},t.prototype._pad=function(){var s=this.pendingTotal,o=this._delta8,c=o-(s+this.padLength)%o,l=new Array(c+this.padLength);l[0]=128;for(var h=1;h<c;h++)l[h]=0;if(s<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)l[h++]=0;l[h++]=0,l[h++]=0,l[h++]=0,l[h++]=0,l[h++]=s>>>24&255,l[h++]=s>>>16&255,l[h++]=s>>>8&255,l[h++]=s&255}else for(l[h++]=s&255,l[h++]=s>>>8&255,l[h++]=s>>>16&255,l[h++]=s>>>24&255,l[h++]=0,l[h++]=0,l[h++]=0,l[h++]=0,f=8;f<this.padLength;f++)l[h++]=0;return l},M1}var Mu={},No={},W_;function B4(){if(W_)return No;W_=1;var r=Io(),e=r.rotr32;function t(p,y,b,m){if(p===0)return i(y,b,m);if(p===1||p===3)return o(y,b,m);if(p===2)return s(y,b,m)}No.ft_1=t;function i(p,y,b){return p&y^~p&b}No.ch32=i;function s(p,y,b){return p&y^p&b^y&b}No.maj32=s;function o(p,y,b){return p^y^b}No.p32=o;function c(p){return e(p,2)^e(p,13)^e(p,22)}No.s0_256=c;function l(p){return e(p,6)^e(p,11)^e(p,25)}No.s1_256=l;function h(p){return e(p,7)^e(p,18)^p>>>3}No.g0_256=h;function f(p){return e(p,17)^e(p,19)^p>>>10}return No.g1_256=f,No}var F1,V_;function QT(){if(V_)return F1;V_=1;var r=Io(),e=gd(),t=B4(),i=r.rotl32,s=r.sum32,o=r.sum32_5,c=t.ft_1,l=e.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(f,l),F1=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(y,b){for(var m=this.W,A=0;A<16;A++)m[A]=y[b+A];for(;A<m.length;A++)m[A]=i(m[A-3]^m[A-8]^m[A-14]^m[A-16],1);var _=this.h[0],E=this.h[1],v=this.h[2],C=this.h[3],N=this.h[4];for(A=0;A<m.length;A++){var S=~~(A/20),D=o(i(_,5),c(S,E,v,C),N,m[A],h[S]);N=C,C=v,v=i(E,30),E=_,_=D}this.h[0]=s(this.h[0],_),this.h[1]=s(this.h[1],E),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],C),this.h[4]=s(this.h[4],N)},f.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},F1}var z1,K_;function I4(){if(K_)return z1;K_=1;var r=Io(),e=gd(),t=B4(),i=md(),s=r.sum32,o=r.sum32_4,c=r.sum32_5,l=t.ch32,h=t.maj32,f=t.s0_256,p=t.s1_256,y=t.g0_256,b=t.g1_256,m=e.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=new Array(64)}return r.inherits(_,m),z1=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(v,C){for(var N=this.W,S=0;S<16;S++)N[S]=v[C+S];for(;S<N.length;S++)N[S]=o(b(N[S-2]),N[S-7],y(N[S-15]),N[S-16]);var D=this.h[0],K=this.h[1],$=this.h[2],ee=this.h[3],P=this.h[4],fe=this.h[5],re=this.h[6],B=this.h[7];for(i(this.k.length===N.length),S=0;S<N.length;S++){var J=c(B,p(P),l(P,fe,re),this.k[S],N[S]),L=s(f(D),h(D,K,$));B=re,re=fe,fe=P,P=s(ee,J),ee=$,$=K,K=D,D=s(J,L)}this.h[0]=s(this.h[0],D),this.h[1]=s(this.h[1],K),this.h[2]=s(this.h[2],$),this.h[3]=s(this.h[3],ee),this.h[4]=s(this.h[4],P),this.h[5]=s(this.h[5],fe),this.h[6]=s(this.h[6],re),this.h[7]=s(this.h[7],B)},_.prototype._digest=function(v){return v==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},z1}var q1,Y_;function eR(){if(Y_)return q1;Y_=1;var r=Io(),e=I4();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),q1=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},q1}var H1,X_;function U4(){if(X_)return H1;X_=1;var r=Io(),e=gd(),t=md(),i=r.rotr64_hi,s=r.rotr64_lo,o=r.shr64_hi,c=r.shr64_lo,l=r.sum64,h=r.sum64_hi,f=r.sum64_lo,p=r.sum64_4_hi,y=r.sum64_4_lo,b=r.sum64_5_hi,m=r.sum64_5_lo,A=e.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}r.inherits(E,A),H1=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(L,se){for(var ie=this.W,Z=0;Z<32;Z++)ie[Z]=L[se+Z];for(;Z<ie.length;Z+=2){var pe=re(ie[Z-4],ie[Z-3]),ye=B(ie[Z-4],ie[Z-3]),Te=ie[Z-14],W=ie[Z-13],R=P(ie[Z-30],ie[Z-29]),G=fe(ie[Z-30],ie[Z-29]),X=ie[Z-32],ce=ie[Z-31];ie[Z]=p(pe,ye,Te,W,R,G,X,ce),ie[Z+1]=y(pe,ye,Te,W,R,G,X,ce)}},E.prototype._update=function(L,se){this._prepareBlock(L,se);var ie=this.W,Z=this.h[0],pe=this.h[1],ye=this.h[2],Te=this.h[3],W=this.h[4],R=this.h[5],G=this.h[6],X=this.h[7],ce=this.h[8],ae=this.h[9],I=this.h[10],U=this.h[11],ne=this.h[12],oe=this.h[13],Q=this.h[14],ue=this.h[15];t(this.k.length===ie.length);for(var ke=0;ke<ie.length;ke+=2){var z=Q,te=ue,q=$(ce,ae),T=ee(ce,ae),O=v(ce,ae,I,U,ne),M=C(ce,ae,I,U,ne,oe),ve=this.k[ke],xe=this.k[ke+1],we=ie[ke],je=ie[ke+1],qe=b(z,te,q,T,O,M,ve,xe,we,je),Me=m(z,te,q,T,O,M,ve,xe,we,je);z=D(Z,pe),te=K(Z,pe),q=N(Z,pe,ye,Te,W),T=S(Z,pe,ye,Te,W,R);var Ke=h(z,te,q,T),at=f(z,te,q,T);Q=ne,ue=oe,ne=I,oe=U,I=ce,U=ae,ce=h(G,X,qe,Me),ae=f(X,X,qe,Me),G=W,X=R,W=ye,R=Te,ye=Z,Te=pe,Z=h(qe,Me,Ke,at),pe=f(qe,Me,Ke,at)}l(this.h,0,Z,pe),l(this.h,2,ye,Te),l(this.h,4,W,R),l(this.h,6,G,X),l(this.h,8,ce,ae),l(this.h,10,I,U),l(this.h,12,ne,oe),l(this.h,14,Q,ue)},E.prototype._digest=function(L){return L==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function v(J,L,se,ie,Z){var pe=J&se^~J&Z;return pe<0&&(pe+=4294967296),pe}function C(J,L,se,ie,Z,pe){var ye=L&ie^~L&pe;return ye<0&&(ye+=4294967296),ye}function N(J,L,se,ie,Z){var pe=J&se^J&Z^se&Z;return pe<0&&(pe+=4294967296),pe}function S(J,L,se,ie,Z,pe){var ye=L&ie^L&pe^ie&pe;return ye<0&&(ye+=4294967296),ye}function D(J,L){var se=i(J,L,28),ie=i(L,J,2),Z=i(L,J,7),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function K(J,L){var se=s(J,L,28),ie=s(L,J,2),Z=s(L,J,7),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function $(J,L){var se=i(J,L,14),ie=i(J,L,18),Z=i(L,J,9),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function ee(J,L){var se=s(J,L,14),ie=s(J,L,18),Z=s(L,J,9),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function P(J,L){var se=i(J,L,1),ie=i(J,L,8),Z=o(J,L,7),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function fe(J,L){var se=s(J,L,1),ie=s(J,L,8),Z=c(J,L,7),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function re(J,L){var se=i(J,L,19),ie=i(L,J,29),Z=o(J,L,6),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}function B(J,L){var se=s(J,L,19),ie=s(L,J,29),Z=c(J,L,6),pe=se^ie^Z;return pe<0&&(pe+=4294967296),pe}return H1}var $1,J_;function tR(){if(J_)return $1;J_=1;var r=Io(),e=U4();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),$1=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},$1}var Z_;function rR(){return Z_||(Z_=1,Mu.sha1=QT(),Mu.sha224=eR(),Mu.sha256=I4(),Mu.sha384=tR(),Mu.sha512=U4()),Mu}var G1={},Q_;function nR(){if(Q_)return G1;Q_=1;var r=Io(),e=gd(),t=r.rotl32,i=r.sum32,s=r.sum32_3,o=r.sum32_4,c=e.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,c),G1.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(E,v){for(var C=this.h[0],N=this.h[1],S=this.h[2],D=this.h[3],K=this.h[4],$=C,ee=N,P=S,fe=D,re=K,B=0;B<80;B++){var J=i(t(o(C,h(B,N,S,D),E[y[B]+v],f(B)),m[B]),K);C=K,K=D,D=t(S,10),S=N,N=J,J=i(t(o($,h(79-B,ee,P,fe),E[b[B]+v],p(B)),A[B]),re),$=re,re=fe,fe=t(P,10),P=ee,ee=J}J=s(this.h[1],S,fe),this.h[1]=s(this.h[2],D,re),this.h[2]=s(this.h[3],K,$),this.h[3]=s(this.h[4],C,ee),this.h[4]=s(this.h[0],N,P),this.h[0]=J},l.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function h(_,E,v,C){return _<=15?E^v^C:_<=31?E&v|~E&C:_<=47?(E|~v)^C:_<=63?E&C|v&~C:E^(v|~C)}function f(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function p(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return G1}var W1,ex;function iR(){if(ex)return W1;ex=1;var r=Io(),e=md();function t(i,s,o){if(!(this instanceof t))return new t(i,s,o);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(s,o))}return W1=t,t.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var o=s.length;o<this.blockSize;o++)s.push(0);for(o=0;o<s.length;o++)s[o]^=54;for(this.inner=new this.Hash().update(s),o=0;o<s.length;o++)s[o]^=106;this.outer=new this.Hash().update(s)},t.prototype.update=function(s,o){return this.inner.update(s,o),this},t.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},W1}var tx;function aR(){return tx||(tx=1,(function(r){var e=r;e.utils=Io(),e.common=gd(),e.sha=rR(),e.ripemd=nR(),e.hmac=iR(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(I1)),I1}aR();let sR="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",oR=(r,e=21)=>(t=e)=>{let i="",s=t|0;for(;s--;)i+=r[Math.random()*r.length|0];return i},lR=(r=21)=>{let e="",t=r|0;for(;t--;)e+=sR[Math.random()*64|0];return e};const Ks=r=>Math.floor(r*72*20),Xv=(r=0)=>{let e=r;return()=>++e},uR=()=>Xv(),cR=()=>Xv(1),hR=()=>Xv(),fR=()=>lR().toLowerCase(),Df=r=>oR("1234567890abcdef",r)(),dR=()=>`${Df(8)}-${Df(4)}-${Df(4)}-${Df(4)}-${Df(12)}`;class pR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns"})}}class mR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const gR={EXTERNAL:"External"};class yR extends st{constructor(e,t,i,s){super("Relationship"),this.root.push(new mR({id:e,type:t,target:i,targetMode:s}))}}class cc extends st{constructor(){super("Relationships"),this.root.push(new pR({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,i,s){const o=new yR(`rId${e}`,t,i,s);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class vR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class bR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class wR extends st{constructor({id:e,initials:t,author:i,date:s=new Date,children:o}){super("w:comment"),this.root.push(new vR({id:e,initials:t,author:i,date:s.toISOString()}));for(const c of o)this.root.push(c)}}class _R extends st{constructor({children:e}){super("w:comments"),rt(this,"relationships"),this.root.push(new bR({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new wR(t));this.relationships=new cc}get Relationships(){return this.relationships}}class xR extends st{constructor(){super("w:pageBreakBefore")}}const Ky={AUTO:"auto"};class SR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class AR extends st{constructor(e){super("w:spacing"),this.root.push(new SR(e))}}const ru={HEADING_1:"Heading1",HEADING_2:"Heading2",TITLE:"Title"};let Ap=class extends st{constructor(e){super("w:pStyle"),this.root.push(new Xn({val:e}))}};class ER extends st{constructor(e){super("w:tabs");for(const t of e)this.root.push(new NR(t))}}const rx={LEFT:"left",RIGHT:"right"};class kR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class NR extends st{constructor({type:e,position:t,leader:i}){super("w:tab"),this.root.push(new kR({val:e,pos:t,leader:i}))}}class V1 extends st{constructor(e,t){super("w:numPr"),this.root.push(new TR(t)),this.root.push(new RR(e))}}class TR extends st{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Xn({val:e}))}}class RR extends st{constructor(e){super("w:numId"),this.root.push(new Xn({val:typeof e=="string"?`{${e}}`:e}))}}class CR extends st{constructor(){super(...arguments),rt(this,"fileChild",Symbol())}}class OR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class LR extends st{constructor(e,t,i){super("w:hyperlink"),rt(this,"linkId"),this.linkId=t;const s={history:1,anchor:i||void 0,id:i?void 0:`rId${this.linkId}`},o=new OR(s);this.root.push(o),e.forEach(c=>{this.root.push(c)})}}class jR extends st{constructor(e){super("w:externalHyperlink"),this.options=e}}class PR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class DR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id"})}}class BR{constructor(e){rt(this,"bookmarkUniqueNumericId",hR()),rt(this,"start"),rt(this,"children"),rt(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new IR(e.id,t),this.children=e.children,this.end=new UR(t)}}class IR extends st{constructor(e,t){super("w:bookmarkStart");const i=new PR({name:e,id:t});this.root.push(i)}}class UR extends st{constructor(e){super("w:bookmarkEnd");const t=new DR({id:e});this.root.push(t)}}class MR extends st{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Xn({val:e}))}}const FR={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Ih(Nr({},FR),{BOTH:"both"});class zR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{verticalAlign:"w:val"})}}class qR extends st{constructor(e){super("w:vAlign"),this.root.push(new zR({verticalAlign:e}))}}class HR extends st{constructor({space:e,count:t,separate:i,equalWidth:s,children:o}){super("w:cols"),this.root.push(new T0({space:{key:"w:space",value:e===void 0?void 0:ro(e)},count:{key:"w:num",value:t===void 0?void 0:Oa(t)},separate:{key:"w:sep",value:i},equalWidth:{key:"w:equalWidth",value:s}})),!s&&o&&o.forEach(c=>this.addChildElement(c))}}const $R=({type:r,linePitch:e,charSpace:t})=>new Bo({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Oa(e)},charSpace:{key:"w:charSpace",value:t?Oa(t):void 0}}}),kh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class GR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const nx={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class K1 extends st{constructor(e,t){super(e),this.root.push(new GR({type:t.type||kh.DEFAULT,id:`rId${t.id}`}))}}const WR=({countBy:r,start:e,restart:t,distance:i})=>new Bo({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Oa(r)},start:{key:"w:start",value:e===void 0?void 0:Oa(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:i===void 0?void 0:ro(i)}}});class ix extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class VR extends N0{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new ix({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new ix({})),e.pageBorderTop&&this.root.push(new Mn("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Mn("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Mn("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Mn("w:right",e.pageBorderRight))}}class KR extends st{constructor(e,t,i,s,o,c,l){super("w:pgMar"),this.root.push(new T0({top:{key:"w:top",value:Xu(e)},right:{key:"w:right",value:ro(t)},bottom:{key:"w:bottom",value:Xu(i)},left:{key:"w:left",value:ro(s)},header:{key:"w:header",value:ro(o)},footer:{key:"w:footer",value:ro(c)},gutter:{key:"w:gutter",value:ro(l)}}))}}class YR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class XR extends st{constructor({start:e,formatType:t,separator:i}){super("w:pgNumType"),this.root.push(new YR({start:e===void 0?void 0:Oa(e),formatType:t,separator:i}))}}const Yy={PORTRAIT:"portrait",LANDSCAPE:"landscape"},JR=({width:r,height:e,orientation:t,code:i})=>{const s=ro(r),o=ro(e);return new Bo({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===Yy.LANDSCAPE?o:s},height:{key:"w:h",value:t===Yy.LANDSCAPE?s:o},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:i}}})};class ZR extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class QR extends st{constructor(e){super("w:textDirection"),this.root.push(new ZR({val:e}))}}class eC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class tC extends st{constructor(e){super("w:type"),this.root.push(new eC({val:e}))}}const Fu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Y1={WIDTH:11906,HEIGHT:16838,ORIENTATION:Yy.PORTRAIT};class rC extends st{constructor({page:{size:{width:e=Y1.WIDTH,height:t=Y1.HEIGHT,orientation:i=Y1.ORIENTATION}={},margin:{top:s=Fu.TOP,right:o=Fu.RIGHT,bottom:c=Fu.BOTTOM,left:l=Fu.LEFT,header:h=Fu.HEADER,footer:f=Fu.FOOTER,gutter:p=Fu.GUTTER}={},pageNumbers:y={},borders:b,textDirection:m}={},grid:{linePitch:A=360,charSpace:_,type:E}={},headerWrapperGroup:v={},footerWrapperGroup:C={},lineNumbers:N,titlePage:S,verticalAlign:D,column:K,type:$}={}){super("w:sectPr"),this.addHeaderFooterGroup(nx.HEADER,v),this.addHeaderFooterGroup(nx.FOOTER,C),$&&this.root.push(new tC($)),this.root.push(JR({width:e,height:t,orientation:i})),this.root.push(new KR(s,o,c,l,h,f,p)),b&&this.root.push(new VR(b)),N&&this.root.push(WR(N)),this.root.push(new XR(y)),K&&this.root.push(new HR(K)),D&&this.root.push(new qR(D)),S!==void 0&&this.root.push(new ot("w:titlePg",S)),m&&this.root.push(new QR(m)),this.root.push($R({linePitch:A,charSpace:_,type:E}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new K1(e,{type:kh.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new K1(e,{type:kh.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new K1(e,{type:kh.EVEN,id:t.even.View.ReferenceId}))}}class nC extends st{constructor(){super("w:body"),rt(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new rC(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new ou({}),i=new qh({});return i.push(e),t.addChildElement(i),t}}const ax={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class j0 extends Yt{constructor(e,t){super(Nr({Ignorable:t},Object.fromEntries(e.map(i=>[i,ax[i]])))),rt(this,"xmlKeys",Nr({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(ax).map(i=>[i,`xmlns:${i}`]))))}}class iC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class aC extends st{constructor(e){super("w:background"),this.root.push(new iC({color:e.color===void 0?void 0:Mh(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:M_(e.themeShade),themeTint:e.themeTint===void 0?void 0:M_(e.themeTint)}))}}class sC extends st{constructor(e){super("w:document"),rt(this,"body"),this.root.push(new j0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new nC,e.background&&this.root.push(new aC(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class M4{constructor(e){rt(this,"document"),rt(this,"relationships"),this.document=new sC(e),this.relationships=new cc}get View(){return this.document}get Relationships(){return this.relationships}}class oC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class lC extends st{constructor(){super("w:wordWrap"),this.root.push(new oC({val:0}))}}const uC=r=>{var e,t;return new Bo({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class qh extends N0{constructor(e){var t,i;if(super("w:pPr"),rt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Ap(e.heading)),e.bullet&&this.push(new Ap("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Ap("ListParagraph"))),e.style&&this.push(new Ap(e.style)),e.keepNext!==void 0&&this.push(new ot("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new ot("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new xR),e.frame&&this.push(uC(e.frame)),e.widowControl!==void 0&&this.push(new ot("w:widowControl",e.widowControl)),e.bullet&&this.push(new V1(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new V1(`${e.numbering.reference}-${(i=e.numbering.instance)!=null?i:0}`,e.numbering.level))):e.numbering===!1&&this.push(new V1(0,0)),e.border&&this.push(new OT(e.border)),e.thematicBreak&&this.push(new LT),e.shading&&this.push(new j4(e.shading)),e.wordWrap&&this.push(new lC),e.overflowPunctuation&&this.push(new ot("w:overflowPunct",e.overflowPunctuation));const s=[...e.rightTabStop!==void 0?[{type:rx.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:rx.LEFT,position:e.leftTabStop}]:[]];s.length>0&&this.push(new ER(s)),e.bidirectional!==void 0&&this.push(new ot("w:bidi",e.bidirectional)),e.spacing&&this.push(new AR(e.spacing)),e.indent&&this.push(new jT(e.indent)),e.contextualSpacing!==void 0&&this.push(new ot("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new RT(e.alignment)),e.outlineLevel!==void 0&&this.push(new MR(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new ot("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new ot("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new uc(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof M4)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class ou extends CR{constructor(e){if(super("w:p"),rt(this,"properties"),typeof e=="string")return this.properties=new qh({}),this.root.push(this.properties),this.root.push(new q_(e)),this;if(this.properties=new qh(e),this.root.push(this.properties),e.text&&this.root.push(new q_(e.text)),e.children)for(const t of e.children){if(t instanceof BR){this.root.push(t.start);for(const i of t.children)this.root.push(i);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof jR){const i=this.root.indexOf(t),s=new LR(t.options.children,fR());e.viewWrapper.Relationships.createRelationship(s.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,gR.EXTERNAL),this.root[i]=s}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const nh={style:Vv.NONE,size:0,color:"auto"},ih={style:Vv.SINGLE,size:4,color:"auto"};class cC extends st{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Mn("w:top",e.top)):this.root.push(new Mn("w:top",ih)),e.left?this.root.push(new Mn("w:left",e.left)):this.root.push(new Mn("w:left",ih)),e.bottom?this.root.push(new Mn("w:bottom",e.bottom)):this.root.push(new Mn("w:bottom",ih)),e.right?this.root.push(new Mn("w:right",e.right)):this.root.push(new Mn("w:right",ih)),e.insideHorizontal?this.root.push(new Mn("w:insideH",e.insideHorizontal)):this.root.push(new Mn("w:insideH",ih)),e.insideVertical?this.root.push(new Mn("w:insideV",e.insideVertical)):this.root.push(new Mn("w:insideV",ih))}}rt(cC,"NONE",{top:nh,bottom:nh,left:nh,right:nh,insideHorizontal:nh,insideVertical:nh});class hC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class fC extends st{constructor(){super("Properties"),this.root.push(new hC({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class dC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns"})}}class pC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class hl extends st{constructor(e,t){super("Default"),this.root.push(new pC({contentType:e,extension:t}))}}class mC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class vs extends st{constructor(e,t){super("Override"),this.root.push(new mC({contentType:e,partName:t}))}}class gC extends st{constructor(){super("Types"),this.root.push(new dC({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new hl("image/png","png")),this.root.push(new hl("image/jpeg","jpeg")),this.root.push(new hl("image/jpeg","jpg")),this.root.push(new hl("image/bmp","bmp")),this.root.push(new hl("image/gif","gif")),this.root.push(new hl("image/svg+xml","svg")),this.root.push(new hl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new hl("application/xml","xml")),this.root.push(new hl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new vs("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new vs("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class yC extends st{constructor(e){super("cp:coreProperties"),this.root.push(new j0(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Uu("dc:title",e.title)),e.subject&&this.root.push(new Uu("dc:subject",e.subject)),e.creator&&this.root.push(new Uu("dc:creator",e.creator)),e.keywords&&this.root.push(new Uu("cp:keywords",e.keywords)),e.description&&this.root.push(new Uu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Uu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Uu("cp:revision",String(e.revision))),this.root.push(new sx("dcterms:created")),this.root.push(new sx("dcterms:modified"))}}class vC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"xsi:type"})}}class sx extends st{constructor(e){super(e),this.root.push(new vC({type:"dcterms:W3CDTF"})),this.root.push(NT(new Date))}}class bC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class wC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class _C extends st{constructor(e,t){super("property"),this.root.push(new wC({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new xC(t.value))}}class xC extends st{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class SC extends st{constructor(e){super("Properties"),rt(this,"nextId"),rt(this,"properties",[]),this.root.push(new bC({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new _C(this.nextId++,e))}}const Ep=({id:r,fontKey:e,subsetted:t},i)=>new Bo({name:i,attributes:Nr({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new ot("w:subsetted",t)]:[]]}),AC=({name:r,altName:e,panose1:t,charset:i,family:s,notTrueType:o,pitch:c,sig:l,embedRegular:h,embedBold:f,embedItalic:p,embedBoldItalic:y})=>new Bo({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[Pf("w:altName",e)]:[],...t?[Pf("w:panose1",t)]:[],...i?[Pf("w:charset",i)]:[],Pf("w:family",s),...o?[new ot("w:notTrueType",o)]:[],Pf("w:pitch",c),...l?[new Bo({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...h?[Ep(h,"w:embedRegular")]:[],...f?[Ep(f,"w:embedBold")]:[],...p?[Ep(p,"w:embedItalic")]:[],...y?[Ep(y,"w:embedBoldItalic")]:[]]}),EC=({name:r,index:e,fontKey:t,characterSet:i})=>AC({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:i,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),kC=r=>new Bo({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>EC({name:e.name,index:t+1,fontKey:e.fontKey}))});class NC{constructor(e){rt(this,"fontTable"),rt(this,"relationships"),rt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Ih(Nr({},t),{fontKey:dR()})),this.fontTable=kC(this.fontOptionsWithKey),this.relationships=new cc;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class TC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let RC=class extends R4{constructor(e,t){super("w:ftr",t),rt(this,"refId"),this.refId=e,t||this.root.push(new TC({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class CC{constructor(e,t,i){rt(this,"footer"),rt(this,"relationships"),this.media=e,this.footer=new RC(t,i),this.relationships=new cc}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class OC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class LC extends st{constructor(){super("w:footnoteRef")}}class jC extends L0{constructor(){super({style:"FootnoteReference"}),this.root.push(new LC)}}const ox={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class X1 extends st{constructor(e){super("w:footnote"),this.root.push(new OC({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const i=e.children[t];t===0&&i.addRunToFront(new jC),this.root.push(i)}}}class PC extends st{constructor(){super("w:continuationSeparator")}}class DC extends L0{constructor(){super({}),this.root.push(new PC)}}class BC extends st{constructor(){super("w:separator")}}class IC extends L0{constructor(){super({}),this.root.push(new BC)}}class UC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class MC extends st{constructor(){super("w:footnotes"),this.root.push(new UC({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new X1({id:-1,type:ox.SEPERATOR,children:[new ou({spacing:{after:0,line:240,lineRule:Ky.AUTO},children:[new IC]})]});this.root.push(e);const t=new X1({id:0,type:ox.CONTINUATION_SEPERATOR,children:[new ou({spacing:{after:0,line:240,lineRule:Ky.AUTO},children:[new DC]})]});this.root.push(t)}createFootNote(e,t){const i=new X1({id:e,children:t});this.root.push(i)}}class FC{constructor(){rt(this,"footnotess"),rt(this,"relationships"),this.footnotess=new MC,this.relationships=new cc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class zC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let qC=class extends R4{constructor(e,t){super("w:hdr",t),rt(this,"refId"),this.refId=e,t||this.root.push(new zC({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class HC{constructor(e,t,i){rt(this,"header"),rt(this,"relationships"),this.media=e,this.header=new qC(t,i),this.relationships=new cc}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class $C{constructor(){rt(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const fl={BULLET:"bullet"};class GC extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class WC extends st{constructor(e){super("w:numFmt"),this.root.push(new Xn({val:e}))}}class VC extends st{constructor(e){super("w:lvlText"),this.root.push(new Xn({val:e}))}}class KC extends st{constructor(e){super("w:lvlJc"),this.root.push(new Xn({val:e}))}}class YC extends st{constructor(e){super("w:suff"),this.root.push(new Xn({val:e}))}}class XC extends st{constructor(){super("w:isLgl")}}class JC extends st{constructor({level:e,format:t,text:i,alignment:s=Ro.START,start:o=1,style:c,suffix:l,isLegalNumberingStyle:h}){if(super("w:lvl"),rt(this,"paragraphProperties"),rt(this,"runProperties"),this.root.push(new Gf("w:start",Oa(o))),t&&this.root.push(new WC(t)),l&&this.root.push(new YC(l)),h&&this.root.push(new XC),i&&this.root.push(new VC(i)),this.root.push(new KC(s)),this.paragraphProperties=new qh(c&&c.paragraph),this.runProperties=new uc(c&&c.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new GC({ilvl:Oa(e),tentative:1}))}}class ZC extends JC{}class QC extends st{constructor(e){super("w:multiLevelType"),this.root.push(new Xn({val:e}))}}class e7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class lx extends st{constructor(e,t){super("w:abstractNum"),rt(this,"id"),this.root.push(new e7({abstractNumId:Oa(e),restartNumberingAfterBreak:0})),this.root.push(new QC("hybridMultilevel")),this.id=e;for(const i of t)this.root.push(new ZC(i))}}class t7 extends st{constructor(e){super("w:abstractNumId"),this.root.push(new Xn({val:e}))}}class r7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{numId:"w:numId"})}}class ux extends st{constructor(e){if(super("w:num"),rt(this,"numId"),rt(this,"reference"),rt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new r7({numId:Oa(e.numId)})),this.root.push(new t7(Oa(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new i7(t.num,t.start))}}class n7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class i7 extends st{constructor(e,t){super("w:lvlOverride"),this.root.push(new n7({ilvl:e})),t!==void 0&&this.root.push(new s7(t))}}class a7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class s7 extends st{constructor(e){super("w:startOverride"),this.root.push(new a7({val:e}))}}class o7 extends st{constructor(e){super("w:numbering"),rt(this,"abstractNumberingMap",new Map),rt(this,"concreteNumberingMap",new Map),rt(this,"referenceConfigMap",new Map),rt(this,"abstractNumUniqueNumericId",uR()),rt(this,"concreteNumUniqueNumericId",cR()),this.root.push(new j0(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new lx(this.abstractNumUniqueNumericId(),[{level:0,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:Ks(.5),hanging:Ks(.25)}}}},{level:1,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:Ks(1),hanging:Ks(.25)}}}},{level:2,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ks(.25)}}}},{level:3,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ks(.25)}}}},{level:4,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ks(.25)}}}},{level:5,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ks(.25)}}}},{level:6,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ks(.25)}}}},{level:7,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ks(.25)}}}},{level:8,format:fl.BULLET,text:"",alignment:Ro.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ks(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new ux({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const i of e.config)this.abstractNumberingMap.set(i.reference,new lx(this.abstractNumUniqueNumericId(),i.levels)),this.referenceConfigMap.set(i.reference,i.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const i=this.abstractNumberingMap.get(e);if(!i)return;const s=`${e}-${t}`;if(this.concreteNumberingMap.has(s))return;const o=this.referenceConfigMap.get(e),c=o&&o[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:i.id,reference:e,instance:t,overrideLevels:[c&&Number.isInteger(c)?{num:0,start:c}:{num:0,start:1}]};this.concreteNumberingMap.set(s,new ux(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class l7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class u7 extends st{constructor(e){super("w:compatSetting"),this.root.push(new l7({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class c7 extends st{constructor(e){super("w:compat"),e.version&&this.root.push(new u7(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new ot("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new ot("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new ot("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new ot("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new ot("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new ot("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new ot("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new ot("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new ot("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new ot("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new ot("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new ot("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new ot("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new ot("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new ot("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new ot("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new ot("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new ot("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new ot("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new ot("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new ot("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new ot("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new ot("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new ot("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new ot("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new ot("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new ot("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new ot("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new ot("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new ot("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new ot("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new ot("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new ot("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new ot("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new ot("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new ot("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new ot("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new ot("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new ot("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new ot("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new ot("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new ot("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new ot("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new ot("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new ot("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new ot("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new ot("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new ot("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new ot("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new ot("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new ot("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new ot("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new ot("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new ot("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new ot("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new ot("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new ot("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new ot("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new ot("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new ot("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new ot("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new ot("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new ot("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new ot("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new ot("w:cachedColBalance",e.cachedColumnBalance))}}class h7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class f7 extends st{constructor(e){var t,i,s,o,c,l,h,f;super("w:settings"),this.root.push(new h7({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new ot("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new ot("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new ot("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new ot("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Gf("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new ot("w:autoHyphenation",e.hyphenation.autoHyphenation)),((i=e.hyphenation)==null?void 0:i.hyphenationZone)!==void 0&&this.root.push(new Gf("w:hyphenationZone",e.hyphenation.hyphenationZone)),((s=e.hyphenation)==null?void 0:s.consecutiveHyphenLimit)!==void 0&&this.root.push(new Gf("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((o=e.hyphenation)==null?void 0:o.doNotHyphenateCaps)!==void 0&&this.root.push(new ot("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new c7(Ih(Nr({},(c=e.compatibility)!=null?c:{}),{version:(f=(h=(l=e.compatibility)==null?void 0:l.version)!=null?h:e.compatibilityModeVersion)!=null?f:15})))}}class F4 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class d7 extends st{constructor(e){super("w:name"),this.root.push(new F4({val:e}))}}class p7 extends st{constructor(e){super("w:uiPriority"),this.root.push(new F4({val:Oa(e)}))}}class m7 extends Yt{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class z4 extends st{constructor(e,t){super("w:style"),this.root.push(new m7(e)),t.name&&this.root.push(new d7(t.name)),t.basedOn&&this.root.push(new Eh("w:basedOn",t.basedOn)),t.next&&this.root.push(new Eh("w:next",t.next)),t.link&&this.root.push(new Eh("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new p7(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new ot("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new ot("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new ot("w:qFormat",t.quickFormat))}}class P0 extends z4{constructor(e){super({type:"paragraph",styleId:e.id},e),rt(this,"paragraphProperties"),rt(this,"runProperties"),this.paragraphProperties=new qh(e.paragraph),this.runProperties=new uc(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class D0 extends z4{constructor(e){super({type:"character",styleId:e.id},Nr({uiPriority:99,unhideWhenUsed:!0},e)),rt(this,"runProperties"),this.runProperties=new uc(e.run),this.root.push(this.runProperties)}}class du extends P0{constructor(e){super(Nr({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class g7 extends du{constructor(e){super(Nr({id:"Title",name:"Title"},e))}}class y7 extends du{constructor(e){super(Nr({id:"Heading1",name:"Heading 1"},e))}}class v7 extends du{constructor(e){super(Nr({id:"Heading2",name:"Heading 2"},e))}}class b7 extends du{constructor(e){super(Nr({id:"Heading3",name:"Heading 3"},e))}}class w7 extends du{constructor(e){super(Nr({id:"Heading4",name:"Heading 4"},e))}}class _7 extends du{constructor(e){super(Nr({id:"Heading5",name:"Heading 5"},e))}}class x7 extends du{constructor(e){super(Nr({id:"Heading6",name:"Heading 6"},e))}}class S7 extends du{constructor(e){super(Nr({id:"Strong",name:"Strong"},e))}}class A7 extends P0{constructor(e){super(Nr({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class E7 extends P0{constructor(e){super(Nr({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Ky.AUTO}},run:{size:20}},e))}}class k7 extends D0{constructor(e){super(Nr({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class N7 extends D0{constructor(e){super(Nr({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class T7 extends D0{constructor(e){super(Nr({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:D4.SINGLE}}},e))}}class Xy extends st{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new P0(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new D0(t))}}class R7 extends st{constructor(e){super("w:pPrDefault"),this.root.push(new qh(e))}}class C7 extends st{constructor(e){super("w:rPrDefault"),this.root.push(new uc(e))}}class O7 extends st{constructor(e){super("w:docDefaults"),rt(this,"runPropertiesDefaults"),rt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new C7(e.run),this.paragraphPropertiesDefaults=new R7(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class L7{newInstance(e){const t=T4.xml2js(e,{compact:!1});let i;for(const c of t.elements||[])c.name==="w:styles"&&(i=c);if(i===void 0)throw new Error("can not find styles element");const s=i.elements||[];return new Xy({initialStyles:new ST(i.attributes),importedStyles:s.map(c=>Wv(c))})}}class cx{newInstance(e={}){var t;return{initialStyles:new j0(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new O7((t=e.document)!=null?t:{}),new g7(Nr({run:{size:56}},e.title)),new y7(Nr({run:{color:"2E74B5",size:32}},e.heading1)),new v7(Nr({run:{color:"2E74B5",size:26}},e.heading2)),new b7(Nr({run:{color:"1F4D78",size:24}},e.heading3)),new w7(Nr({run:{color:"2E74B5",italics:!0}},e.heading4)),new _7(Nr({run:{color:"2E74B5"}},e.heading5)),new x7(Nr({run:{color:"1F4D78"}},e.heading6)),new S7(Nr({run:{bold:!0}},e.strong)),new A7(e.listParagraph||{}),new T7(e.hyperlink||{}),new k7(e.footnoteReference||{}),new E7(e.footnoteText||{}),new N7(e.footnoteTextChar||{})]}}}let j7=class{constructor(e){rt(this,"currentRelationshipId",1),rt(this,"documentWrapper"),rt(this,"headers",[]),rt(this,"footers",[]),rt(this,"coreProperties"),rt(this,"numbering"),rt(this,"media"),rt(this,"fileRelationships"),rt(this,"footnotesWrapper"),rt(this,"settings"),rt(this,"contentTypes"),rt(this,"customProperties"),rt(this,"appProperties"),rt(this,"styles"),rt(this,"comments"),rt(this,"fontWrapper");var t,i,s,o,c,l,h,f,p,y,b,m;if(this.coreProperties=new yC(Ih(Nr({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(i=e.revision)!=null?i:1,lastModifiedBy:(s=e.lastModifiedBy)!=null?s:"Un-named"})),this.numbering=new o7(e.numbering?e.numbering:{config:[]}),this.comments=new _R((o=e.comments)!=null?o:{children:[]}),this.fileRelationships=new cc,this.customProperties=new SC((c=e.customProperties)!=null?c:[]),this.appProperties=new fC,this.footnotesWrapper=new FC,this.contentTypes=new gC,this.documentWrapper=new M4({background:e.background}),this.settings=new f7({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(h=e.features)==null?void 0:h.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(f=e.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(p=e.hyphenation)==null?void 0:p.hyphenationZone,consecutiveHyphenLimit:(y=e.hyphenation)==null?void 0:y.consecutiveHyphenLimit,doNotHyphenateCaps:(b=e.hyphenation)==null?void 0:b.doNotHyphenateCaps}}),this.media=new $C,e.externalStyles!==void 0){const A=new L7;this.styles=A.newInstance(e.externalStyles)}else if(e.styles){const _=new cx().newInstance(e.styles.default);this.styles=new Xy(Nr(Nr({},_),e.styles))}else{const A=new cx;this.styles=new Xy(A.newInstance())}this.addDefaultRelationships();for(const A of e.sections)this.addSection(A);if(e.footnotes)for(const A in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(A),e.footnotes[A].children);this.fontWrapper=new NC((m=e.fonts)!=null?m:[])}addSection({headers:e={},footers:t={},children:i,properties:s}){this.documentWrapper.View.Body.addSection(Ih(Nr({},s),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const o of i)this.documentWrapper.View.add(o)}createHeader(e){const t=new HC(this.media,this.currentRelationshipId++);for(const i of e.options.children)t.add(i);return this.addHeaderToDocument(t),t}createFooter(e){const t=new CC(this.media,this.currentRelationshipId++);for(const i of e.options.children)t.add(i);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=kh.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=kh.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var P7=Hv();function kp(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var J1={exports:{}},hx;function D7(){return hx||(hx=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,s,o){function c(f,p){if(!s[f]){if(!i[f]){var y=typeof kp=="function"&&kp;if(!p&&y)return y(f,!0);if(l)return l(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var m=s[f]={exports:{}};i[f][0].call(m.exports,function(A){var _=i[f][1][A];return c(_||A)},m,m.exports,t,i,s,o)}return s[f].exports}for(var l=typeof kp=="function"&&kp,h=0;h<o.length;h++)c(o[h]);return c})({1:[function(t,i,s){var o=t("./utils"),c=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var f,p,y,b,m,A,_,E=[],v=0,C=h.length,N=C,S=o.getTypeOf(h)!=="string";v<h.length;)N=C-v,y=S?(f=h[v++],p=v<C?h[v++]:0,v<C?h[v++]:0):(f=h.charCodeAt(v++),p=v<C?h.charCodeAt(v++):0,v<C?h.charCodeAt(v++):0),b=f>>2,m=(3&f)<<4|p>>4,A=1<N?(15&p)<<2|y>>6:64,_=2<N?63&y:64,E.push(l.charAt(b)+l.charAt(m)+l.charAt(A)+l.charAt(_));return E.join("")},s.decode=function(h){var f,p,y,b,m,A,_=0,E=0,v="data:";if(h.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var C,N=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===l.charAt(64)&&N--,h.charAt(h.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=c.uint8array?new Uint8Array(0|N):new Array(0|N);_<h.length;)f=l.indexOf(h.charAt(_++))<<2|(b=l.indexOf(h.charAt(_++)))>>4,p=(15&b)<<4|(m=l.indexOf(h.charAt(_++)))>>2,y=(3&m)<<6|(A=l.indexOf(h.charAt(_++))),C[E++]=f,m!==64&&(C[E++]=p),A!==64&&(C[E++]=y);return C}},{"./support":30,"./utils":32}],2:[function(t,i,s){var o=t("./external"),c=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function f(p,y,b,m,A){this.compressedSize=p,this.uncompressedSize=y,this.crc32=b,this.compression=m,this.compressedContent=A}f.prototype={getContentWorker:function(){var p=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),y=this;return p.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(p,y,b){return p.pipe(new l).pipe(new h("uncompressedSize")).pipe(y.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",y)},i.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,s){var o=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,s){var o=t("./utils"),c=(function(){for(var l,h=[],f=0;f<256;f++){l=f;for(var p=0;p<8;p++)l=1&l?3988292384^l>>>1:l>>>1;h[f]=l}return h})();i.exports=function(l,h){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?(function(f,p,y,b){var m=c,A=b+y;f^=-1;for(var _=b;_<A;_++)f=f>>>8^m[255&(f^p[_])];return-1^f})(0|h,l,l.length,0):(function(f,p,y,b){var m=c,A=b+y;f^=-1;for(var _=b;_<A;_++)f=f>>>8^m[255&(f^p.charCodeAt(_))];return-1^f})(0|h,l,l.length,0):0}},{"./utils":32}],5:[function(t,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,i,s){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),l=t("./utils"),h=t("./stream/GenericWorker"),f=o?"uint8array":"array";function p(y,b){h.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=b,this.meta={}}s.magic="\b\0",l.inherits(p,h),p.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,y.data),!1)},p.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(b){y.push({data:b,meta:y.meta})}},s.compressWorker=function(y){return new p("Deflate",y)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,s){function o(m,A){var _,E="";for(_=0;_<A;_++)E+=String.fromCharCode(255&m),m>>>=8;return E}function c(m,A,_,E,v,C){var N,S,D=m.file,K=m.compression,$=C!==f.utf8encode,ee=l.transformTo("string",C(D.name)),P=l.transformTo("string",f.utf8encode(D.name)),fe=D.comment,re=l.transformTo("string",C(fe)),B=l.transformTo("string",f.utf8encode(fe)),J=P.length!==D.name.length,L=B.length!==fe.length,se="",ie="",Z="",pe=D.dir,ye=D.date,Te={crc32:0,compressedSize:0,uncompressedSize:0};A&&!_||(Te.crc32=m.crc32,Te.compressedSize=m.compressedSize,Te.uncompressedSize=m.uncompressedSize);var W=0;A&&(W|=8),$||!J&&!L||(W|=2048);var R=0,G=0;pe&&(R|=16),v==="UNIX"?(G=798,R|=(function(ce,ae){var I=ce;return ce||(I=ae?16893:33204),(65535&I)<<16})(D.unixPermissions,pe)):(G=20,R|=(function(ce){return 63&(ce||0)})(D.dosPermissions)),N=ye.getUTCHours(),N<<=6,N|=ye.getUTCMinutes(),N<<=5,N|=ye.getUTCSeconds()/2,S=ye.getUTCFullYear()-1980,S<<=4,S|=ye.getUTCMonth()+1,S<<=5,S|=ye.getUTCDate(),J&&(ie=o(1,1)+o(p(ee),4)+P,se+="up"+o(ie.length,2)+ie),L&&(Z=o(1,1)+o(p(re),4)+B,se+="uc"+o(Z.length,2)+Z);var X="";return X+=`
\0`,X+=o(W,2),X+=K.magic,X+=o(N,2),X+=o(S,2),X+=o(Te.crc32,4),X+=o(Te.compressedSize,4),X+=o(Te.uncompressedSize,4),X+=o(ee.length,2),X+=o(se.length,2),{fileRecord:y.LOCAL_FILE_HEADER+X+ee+se,dirRecord:y.CENTRAL_FILE_HEADER+o(G,2)+X+o(re.length,2)+"\0\0\0\0"+o(R,4)+o(E,4)+ee+se+re}}var l=t("../utils"),h=t("../stream/GenericWorker"),f=t("../utf8"),p=t("../crc32"),y=t("../signature");function b(m,A,_,E){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=_,this.encodeFileName=E,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,h),b.prototype.push=function(m){var A=m.meta.percent||0,_=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,h.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:_?(A+100*(_-E-1))/_:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var A=this.streamFiles&&!m.file.dir;if(A){var _=c(m,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var A=this.streamFiles&&!m.file.dir,_=c(m,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),A)this.push({data:(function(E){return y.DATA_DESCRIPTOR+o(E.crc32,4)+o(E.compressedSize,4)+o(E.uncompressedSize,4)})(m),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var _=this.bytesWritten-m,E=(function(v,C,N,S,D){var K=l.transformTo("string",D(S));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(C,4)+o(N,4)+o(K.length,2)+K})(this.dirRecords.length,_,m,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var A=this;return m.on("data",function(_){A.processChunk(_)}),m.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),m.on("error",function(_){A.error(_)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var A=this._sources;if(!h.prototype.error.call(this,m))return!1;for(var _=0;_<A.length;_++)try{A[_].error(m)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var m=this._sources,A=0;A<m.length;A++)m[A].lock()},i.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,s){var o=t("../compressions"),c=t("./ZipFileWorker");s.generateWorker=function(l,h,f){var p=new c(h.streamFiles,f,h.platform,h.encodeFileName),y=0;try{l.forEach(function(b,m){y++;var A=(function(C,N){var S=C||N,D=o[S];if(!D)throw new Error(S+" is not a valid compression method !");return D})(m.options.compression,h.compression),_=m.options.compressionOptions||h.compressionOptions||{},E=m.dir,v=m.date;m._compressWorker(A,_).withStreamInfo("file",{name:b,dir:E,date:v,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(p)}),p.entriesCount=y}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var l in this)typeof this[l]!="function"&&(c[l]=this[l]);return c}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(c,l){return new o().loadAsync(c,l)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,s){var o=t("./utils"),c=t("./external"),l=t("./utf8"),h=t("./zipEntries"),f=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function y(b){return new c.Promise(function(m,A){var _=b.decompressed.getContentWorker().pipe(new f);_.on("error",function(E){A(E)}).on("end",function(){_.streamInfo.crc32!==b.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(b,m){var A=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),p.isNode&&p.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(_){var E=new h(m);return E.load(_),E}).then(function(_){var E=[c.Promise.resolve(_)],v=_.files;if(m.checkCRC32)for(var C=0;C<v.length;C++)E.push(y(v[C]));return c.Promise.all(E)}).then(function(_){for(var E=_.shift(),v=E.files,C=0;C<v.length;C++){var N=v[C],S=N.fileNameStr,D=o.resolve(N.fileNameStr);A.file(D,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:m.createFolders}),N.dir||(A.file(D).unsafeOriginalName=S)}return E.zipComment.length&&(A.comment=E.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,s){var o=t("../utils"),c=t("../stream/GenericWorker");function l(h,f){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}o.inherits(l,c),l.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(p){f.push({data:p,meta:{percent:0}})}).on("error",function(p){f.isPaused?this.generatedError=p:f.error(p)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,s){var o=t("readable-stream").Readable;function c(l,h,f){o.call(this,h),this._helper=l;var p=this;l.on("data",function(y,b){p.push(y)||p._helper.pause(),f&&f(b)}).on("error",function(y){p.emit("error",y)}).on("end",function(){p.push(null)})}t("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,s){function o(D,K,$){var ee,P=l.getTypeOf(K),fe=l.extend($||{},p);fe.date=fe.date||new Date,fe.compression!==null&&(fe.compression=fe.compression.toUpperCase()),typeof fe.unixPermissions=="string"&&(fe.unixPermissions=parseInt(fe.unixPermissions,8)),fe.unixPermissions&&16384&fe.unixPermissions&&(fe.dir=!0),fe.dosPermissions&&16&fe.dosPermissions&&(fe.dir=!0),fe.dir&&(D=v(D)),fe.createFolders&&(ee=E(D))&&C.call(this,ee,!0);var re=P==="string"&&fe.binary===!1&&fe.base64===!1;$&&$.binary!==void 0||(fe.binary=!re),(K instanceof y&&K.uncompressedSize===0||fe.dir||!K||K.length===0)&&(fe.base64=!1,fe.binary=!0,K="",fe.compression="STORE",P="string");var B=null;B=K instanceof y||K instanceof h?K:A.isNode&&A.isStream(K)?new _(D,K):l.prepareContent(D,K,fe.binary,fe.optimizedBinaryString,fe.base64);var J=new b(D,B,fe);this.files[D]=J}var c=t("./utf8"),l=t("./utils"),h=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),p=t("./defaults"),y=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),A=t("./nodejsUtils"),_=t("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var K=D.lastIndexOf("/");return 0<K?D.substring(0,K):""},v=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},C=function(D,K){return K=K!==void 0?K:p.createFolders,D=v(D),this.files[D]||o.call(this,D,null,{dir:!0,createFolders:K}),this.files[D]};function N(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var K,$,ee;for(K in this.files)ee=this.files[K],($=K.slice(this.root.length,K.length))&&K.slice(0,this.root.length)===this.root&&D($,ee)},filter:function(D){var K=[];return this.forEach(function($,ee){D($,ee)&&K.push(ee)}),K},file:function(D,K,$){if(arguments.length!==1)return D=this.root+D,o.call(this,D,K,$),this;if(N(D)){var ee=D;return this.filter(function(fe,re){return!re.dir&&ee.test(fe)})}var P=this.files[this.root+D];return P&&!P.dir?P:null},folder:function(D){if(!D)return this;if(N(D))return this.filter(function(P,fe){return fe.dir&&D.test(P)});var K=this.root+D,$=C.call(this,K),ee=this.clone();return ee.root=$.name,ee},remove:function(D){D=this.root+D;var K=this.files[D];if(K||(D.slice(-1)!=="/"&&(D+="/"),K=this.files[D]),K&&!K.dir)delete this.files[D];else for(var $=this.filter(function(P,fe){return fe.name.slice(0,D.length)===D}),ee=0;ee<$.length;ee++)delete this.files[$[ee].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var K,$={};try{if(($=l.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");l.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var ee=$.comment||this.comment||"";K=m.generateWorker(this,$,ee)}catch(P){(K=new h("error")).error(P)}return new f(K,$.type||"string",$.mimeType)},generateAsync:function(D,K){return this.generateInternalStream(D).accumulate(K)},generateNodeStream:function(D,K){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(K)}};i.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,s){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,s){var o=t("./DataReader");function c(l){o.call(this,l);for(var h=0;h<this.data.length;h++)l[h]=255&l[h]}t("../utils").inherits(c,o),c.prototype.byteAt=function(l){return this.data[this.zero+l]},c.prototype.lastIndexOfSignature=function(l){for(var h=l.charCodeAt(0),f=l.charCodeAt(1),p=l.charCodeAt(2),y=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===f&&this.data[b+2]===p&&this.data[b+3]===y)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(l){var h=l.charCodeAt(0),f=l.charCodeAt(1),p=l.charCodeAt(2),y=l.charCodeAt(3),b=this.readData(4);return h===b[0]&&f===b[1]&&p===b[2]&&y===b[3]},c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,i,s){var o=t("../utils");function c(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var h,f=0;for(this.checkOffset(l),h=this.index+l-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=l,f},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=c},{"../utils":32}],19:[function(t,i,s){var o=t("./Uint8ArrayReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.readData=function(l){this.checkOffset(l);var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,s){var o=t("./DataReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},c.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},c.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},c.prototype.readData=function(l){this.checkOffset(l);var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,i,s){var o=t("./ArrayReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,s){var o=t("../utils"),c=t("../support"),l=t("./ArrayReader"),h=t("./StringReader"),f=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");i.exports=function(y){var b=o.getTypeOf(y);return o.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new f(y):c.uint8array?new p(o.transformTo("uint8array",y)):new l(o.transformTo("array",y)):new h(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,s){var o=t("./GenericWorker"),c=t("../utils");function l(h){o.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(l,o),l.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,s){var o=t("./GenericWorker"),c=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,s){var o=t("../utils"),c=t("./GenericWorker");function l(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}o.inherits(l,c),l.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}c.prototype.processChunk.call(this,h)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,s){var o=t("../utils"),c=t("./GenericWorker");function l(h){c.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(p){f.dataIsReady=!0,f.data=p,f.max=p&&p.length||0,f.type=o.getTypeOf(p),f.isPaused||f._tickAndRepeat()},function(p){f.error(p)})}o.inherits(l,c),l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,s){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,l){return this._listeners[c].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,l){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,l)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var l=this;return c.on("data",function(h){l.processChunk(h)}),c.on("end",function(){l.end()}),c.on("error",function(h){l.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,l){return this.extraStreamInfo[c]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=o},{}],29:[function(t,i,s){var o=t("../utils"),c=t("./ConvertWorker"),l=t("./GenericWorker"),h=t("../base64"),f=t("../support"),p=t("../external"),y=null;if(f.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(A,_){return new p.Promise(function(E,v){var C=[],N=A._internalType,S=A._outputType,D=A._mimeType;A.on("data",function(K,$){C.push(K),_&&_($)}).on("error",function(K){C=[],v(K)}).on("end",function(){try{var K=(function($,ee,P){switch($){case"blob":return o.newBlob(o.transformTo("arraybuffer",ee),P);case"base64":return h.encode(ee);default:return o.transformTo($,ee)}})(S,(function($,ee){var P,fe=0,re=null,B=0;for(P=0;P<ee.length;P++)B+=ee[P].length;switch($){case"string":return ee.join("");case"array":return Array.prototype.concat.apply([],ee);case"uint8array":for(re=new Uint8Array(B),P=0;P<ee.length;P++)re.set(ee[P],fe),fe+=ee[P].length;return re;case"nodebuffer":return Buffer.concat(ee);default:throw new Error("concat : unsupported type '"+$+"'")}})(N,C),D);E(K)}catch($){v($)}C=[]}).resume()})}function m(A,_,E){var v=_;switch(_){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=_,this._mimeType=E,o.checkSupport(v),this._worker=A.pipe(new c(v)),A.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(A){return b(this,A)},on:function(A,_){var E=this;return A==="data"?this._worker.on(A,function(v){_.call(E,v.data,v.meta)}):this._worker.on(A,function(){o.delay(_,arguments,E)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},A)}},i.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,s){for(var o=t("./utils"),c=t("./support"),l=t("./nodejsUtils"),h=t("./stream/GenericWorker"),f=new Array(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;f[254]=f[254]=1;function y(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}s.utf8encode=function(m){return c.nodebuffer?l.newBufferFrom(m,"utf-8"):(function(A){var _,E,v,C,N,S=A.length,D=0;for(C=0;C<S;C++)(64512&(E=A.charCodeAt(C)))==55296&&C+1<S&&(64512&(v=A.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(v-56320),C++),D+=E<128?1:E<2048?2:E<65536?3:4;for(_=c.uint8array?new Uint8Array(D):new Array(D),C=N=0;N<D;C++)(64512&(E=A.charCodeAt(C)))==55296&&C+1<S&&(64512&(v=A.charCodeAt(C+1)))==56320&&(E=65536+(E-55296<<10)+(v-56320),C++),E<128?_[N++]=E:(E<2048?_[N++]=192|E>>>6:(E<65536?_[N++]=224|E>>>12:(_[N++]=240|E>>>18,_[N++]=128|E>>>12&63),_[N++]=128|E>>>6&63),_[N++]=128|63&E);return _})(m)},s.utf8decode=function(m){return c.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):(function(A){var _,E,v,C,N=A.length,S=new Array(2*N);for(_=E=0;_<N;)if((v=A[_++])<128)S[E++]=v;else if(4<(C=f[v]))S[E++]=65533,_+=C-1;else{for(v&=C===2?31:C===3?15:7;1<C&&_<N;)v=v<<6|63&A[_++],C--;1<C?S[E++]=65533:v<65536?S[E++]=v:(v-=65536,S[E++]=55296|v>>10&1023,S[E++]=56320|1023&v)}return S.length!==E&&(S.subarray?S=S.subarray(0,E):S.length=E),o.applyFromCharCode(S)})(m=o.transformTo(c.uint8array?"uint8array":"array",m))},o.inherits(y,h),y.prototype.processChunk=function(m){var A=o.transformTo(c.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var _=A;(A=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),A.set(_,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var E=(function(C,N){var S;for((N=N||C.length)>C.length&&(N=C.length),S=N-1;0<=S&&(192&C[S])==128;)S--;return S<0||S===0?N:S+f[C[S]]>N?S:N})(A),v=A;E!==A.length&&(c.uint8array?(v=A.subarray(0,E),this.leftOver=A.subarray(E,A.length)):(v=A.slice(0,E),this.leftOver=A.slice(E,A.length))),this.push({data:s.utf8decode(v),meta:m.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=y,o.inherits(b,h),b.prototype.processChunk=function(m){this.push({data:s.utf8encode(m.data),meta:m.meta})},s.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,s){var o=t("./support"),c=t("./base64"),l=t("./nodejsUtils"),h=t("./external");function f(_){return _}function p(_,E){for(var v=0;v<_.length;++v)E[v]=255&_.charCodeAt(v);return E}t("setimmediate"),s.newBlob=function(_,E){s.checkSupport("blob");try{return new Blob([_],{type:E})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(_),v.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(_,E,v){var C=[],N=0,S=_.length;if(S<=v)return String.fromCharCode.apply(null,_);for(;N<S;)E==="array"||E==="nodebuffer"?C.push(String.fromCharCode.apply(null,_.slice(N,Math.min(N+v,S)))):C.push(String.fromCharCode.apply(null,_.subarray(N,Math.min(N+v,S)))),N+=v;return C.join("")},stringifyByChar:function(_){for(var E="",v=0;v<_.length;v++)E+=String.fromCharCode(_[v]);return E},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function b(_){var E=65536,v=s.getTypeOf(_),C=!0;if(v==="uint8array"?C=y.applyCanBeUsed.uint8array:v==="nodebuffer"&&(C=y.applyCanBeUsed.nodebuffer),C)for(;1<E;)try{return y.stringifyByChunk(_,v,E)}catch{E=Math.floor(E/2)}return y.stringifyByChar(_)}function m(_,E){for(var v=0;v<_.length;v++)E[v]=_[v];return E}s.applyFromCharCode=b;var A={};A.string={string:f,array:function(_){return p(_,new Array(_.length))},arraybuffer:function(_){return A.string.uint8array(_).buffer},uint8array:function(_){return p(_,new Uint8Array(_.length))},nodebuffer:function(_){return p(_,l.allocBuffer(_.length))}},A.array={string:b,array:f,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return l.newBufferFrom(_)}},A.arraybuffer={string:function(_){return b(new Uint8Array(_))},array:function(_){return m(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:f,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return l.newBufferFrom(new Uint8Array(_))}},A.uint8array={string:b,array:function(_){return m(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:f,nodebuffer:function(_){return l.newBufferFrom(_)}},A.nodebuffer={string:b,array:function(_){return m(_,new Array(_.length))},arraybuffer:function(_){return A.nodebuffer.uint8array(_).buffer},uint8array:function(_){return m(_,new Uint8Array(_.length))},nodebuffer:f},s.transformTo=function(_,E){if(E=E||"",!_)return E;s.checkSupport(_);var v=s.getTypeOf(E);return A[v][_](E)},s.resolve=function(_){for(var E=_.split("/"),v=[],C=0;C<E.length;C++){var N=E[C];N==="."||N===""&&C!==0&&C!==E.length-1||(N===".."?v.pop():v.push(N))}return v.join("/")},s.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(_)?"nodebuffer":o.uint8array&&_ instanceof Uint8Array?"uint8array":o.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(_){if(!o[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(_){var E,v,C="";for(v=0;v<(_||"").length;v++)C+="\\x"+((E=_.charCodeAt(v))<16?"0":"")+E.toString(16).toUpperCase();return C},s.delay=function(_,E,v){setImmediate(function(){_.apply(v||null,E||[])})},s.inherits=function(_,E){function v(){}v.prototype=E.prototype,_.prototype=new v},s.extend=function(){var _,E,v={};for(_=0;_<arguments.length;_++)for(E in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],E)&&v[E]===void 0&&(v[E]=arguments[_][E]);return v},s.prepareContent=function(_,E,v,C,N){return h.Promise.resolve(E).then(function(S){return o.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new h.Promise(function(D,K){var $=new FileReader;$.onload=function(ee){D(ee.target.result)},$.onerror=function(ee){K(ee.target.error)},$.readAsArrayBuffer(S)}):S}).then(function(S){var D=s.getTypeOf(S);return D?(D==="arraybuffer"?S=s.transformTo("uint8array",S):D==="string"&&(N?S=c.decode(S):v&&C!==!0&&(S=(function(K){return p(K,o.uint8array?new Uint8Array(K.length):new Array(K.length))})(S))),S):h.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,s){var o=t("./reader/readerFor"),c=t("./utils"),l=t("./signature"),h=t("./zipEntry"),f=t("./support");function p(y){this.files=[],this.loadOptions=y}p.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(y)+")")}},isSignature:function(y,b){var m=this.reader.index;this.reader.setIndex(y);var A=this.reader.readString(4)===b;return this.reader.setIndex(m),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),b=f.uint8array?"uint8array":"array",m=c.transformTo(b,y);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,b,m,A=this.zip64EndOfCentralSize-44;0<A;)y=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[y]={id:y,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,b;for(y=0;y<this.files.length;y++)b=this.files[y],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(y=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var b=y;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var A=b-m;if(0<A)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(y){this.reader=o(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,s){var o=t("./reader/readerFor"),c=t("./utils"),l=t("./compressedObject"),h=t("./crc32"),f=t("./utf8"),p=t("./compressions"),y=t("./support");function b(m,A){this.options=m,this.loadOptions=A}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var A,_;if(m.skip(22),this.fileNameLength=m.readInt(2),_=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=(function(E){for(var v in p)if(Object.prototype.hasOwnProperty.call(p,v)&&p[v].magic===E)return p[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,A,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var A=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(A),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var A,_,E,v=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<v;)A=m.readInt(2),_=m.readInt(2),E=m.readData(_),this.extraFields[A]={id:A,length:_,value:E};m.setIndex(v)},handleUTF8:function(){var m=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var _=c.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var v=c.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var A=o(m.value);return A.readInt(1)!==1||h(this.fileName)!==A.readInt(4)?null:f.utf8decode(A.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var A=o(m.value);return A.readInt(1)!==1||h(this.fileComment)!==A.readInt(4)?null:f.utf8decode(A.readData(m.length-5))}return null}},i.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,s){function o(A,_,E){this.name=A,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=_,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var c=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),h=t("./utf8"),f=t("./compressedObject"),p=t("./stream/GenericWorker");o.prototype={internalStream:function(A){var _=null,E="string";try{if(!A)throw new Error("No output type specified.");var v=(E=A.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),_=this._decompressWorker();var C=!this._dataBinary;C&&!v&&(_=_.pipe(new h.Utf8EncodeWorker)),!C&&v&&(_=_.pipe(new h.Utf8DecodeWorker))}catch(N){(_=new p("error")).error(N)}return new c(_,E,"")},async:function(A,_){return this.internalStream(A).accumulate(_)},nodeStream:function(A,_){return this.internalStream(A||"nodebuffer").toNodejsStream(_)},_compressWorker:function(A,_){if(this._data instanceof f&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(E,A,_)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof p?this._data:new l(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<y.length;m++)o.prototype[y[m]]=b;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,s){(function(o){var c,l,h=o.MutationObserver||o.WebKitMutationObserver;if(h){var f=0,p=new h(A),y=o.document.createTextNode("");p.observe(y,{characterData:!0}),c=function(){y.data=f=++f%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var _=o.document.createElement("script");_.onreadystatechange=function(){A(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:function(){setTimeout(A,0)};else{var b=new o.MessageChannel;b.port1.onmessage=A,c=function(){b.port2.postMessage(0)}}var m=[];function A(){var _,E;l=!0;for(var v=m.length;v;){for(E=m,m=[],_=-1;++_<v;)E[_]();v=m.length}l=!1}i.exports=function(_){m.push(_)!==1||l||c()}}).call(this,typeof Po<"u"?Po:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,s){var o=t("immediate");function c(){}var l={},h=["REJECTED"],f=["FULFILLED"],p=["PENDING"];function y(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,v!==c&&_(this,v)}function b(v,C,N){this.promise=v,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function m(v,C,N){o(function(){var S;try{S=C(N)}catch(D){return l.reject(v,D)}S===v?l.reject(v,new TypeError("Cannot resolve promise with itself")):l.resolve(v,S)})}function A(v){var C=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof C=="function")return function(){C.apply(v,arguments)}}function _(v,C){var N=!1;function S($){N||(N=!0,l.reject(v,$))}function D($){N||(N=!0,l.resolve(v,$))}var K=E(function(){C(D,S)});K.status==="error"&&S(K.value)}function E(v,C){var N={};try{N.value=v(C),N.status="success"}catch(S){N.status="error",N.value=S}return N}(i.exports=y).prototype.finally=function(v){if(typeof v!="function")return this;var C=this.constructor;return this.then(function(N){return C.resolve(v()).then(function(){return N})},function(N){return C.resolve(v()).then(function(){throw N})})},y.prototype.catch=function(v){return this.then(null,v)},y.prototype.then=function(v,C){if(typeof v!="function"&&this.state===f||typeof C!="function"&&this.state===h)return this;var N=new this.constructor(c);return this.state!==p?m(N,this.state===f?v:C,this.outcome):this.queue.push(new b(N,v,C)),N},b.prototype.callFulfilled=function(v){l.resolve(this.promise,v)},b.prototype.otherCallFulfilled=function(v){m(this.promise,this.onFulfilled,v)},b.prototype.callRejected=function(v){l.reject(this.promise,v)},b.prototype.otherCallRejected=function(v){m(this.promise,this.onRejected,v)},l.resolve=function(v,C){var N=E(A,C);if(N.status==="error")return l.reject(v,N.value);var S=N.value;if(S)_(v,S);else{v.state=f,v.outcome=C;for(var D=-1,K=v.queue.length;++D<K;)v.queue[D].callFulfilled(C)}return v},l.reject=function(v,C){v.state=h,v.outcome=C;for(var N=-1,S=v.queue.length;++N<S;)v.queue[N].callRejected(C);return v},y.resolve=function(v){return v instanceof this?v:l.resolve(new this(c),v)},y.reject=function(v){var C=new this(c);return l.reject(C,v)},y.all=function(v){var C=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=v.length,S=!1;if(!N)return this.resolve([]);for(var D=new Array(N),K=0,$=-1,ee=new this(c);++$<N;)P(v[$],$);return ee;function P(fe,re){C.resolve(fe).then(function(B){D[re]=B,++K!==N||S||(S=!0,l.resolve(ee,D))},function(B){S||(S=!0,l.reject(ee,B))})}},y.race=function(v){var C=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=v.length,S=!1;if(!N)return this.resolve([]);for(var D=-1,K=new this(c);++D<N;)$=v[D],C.resolve($).then(function(ee){S||(S=!0,l.resolve(K,ee))},function(ee){S||(S=!0,l.reject(K,ee))});var $;return K}},{immediate:36}],38:[function(t,i,s){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,s){var o=t("./zlib/deflate"),c=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=Object.prototype.toString,y=0,b=-1,m=0,A=8;function _(v){if(!(this instanceof _))return new _(v);this.options=c.assign({level:b,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},v||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var N=o.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(N!==y)throw new Error(h[N]);if(C.header&&o.deflateSetHeader(this.strm,C.header),C.dictionary){var S;if(S=typeof C.dictionary=="string"?l.string2buf(C.dictionary):p.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(N=o.deflateSetDictionary(this.strm,S))!==y)throw new Error(h[N]);this._dict_set=!0}}function E(v,C){var N=new _(C);if(N.push(v,!0),N.err)throw N.msg||h[N.err];return N.result}_.prototype.push=function(v,C){var N,S,D=this.strm,K=this.options.chunkSize;if(this.ended)return!1;S=C===~~C?C:C===!0?4:0,typeof v=="string"?D.input=l.string2buf(v):p.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new c.Buf8(K),D.next_out=0,D.avail_out=K),(N=o.deflate(D,S))!==1&&N!==y)return this.onEnd(N),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(c.shrinkBuf(D.output,D.next_out))):this.onData(c.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&N!==1);return S===4?(N=o.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===y):S!==2||(this.onEnd(y),!(D.avail_out=0))},_.prototype.onData=function(v){this.chunks.push(v)},_.prototype.onEnd=function(v){v===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},s.Deflate=_,s.deflate=E,s.deflateRaw=function(v,C){return(C=C||{}).raw=!0,E(v,C)},s.gzip=function(v,C){return(C=C||{}).gzip=!0,E(v,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,s){var o=t("./zlib/inflate"),c=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/constants"),f=t("./zlib/messages"),p=t("./zlib/zstream"),y=t("./zlib/gzheader"),b=Object.prototype.toString;function m(_){if(!(this instanceof m))return new m(_);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},_||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||_&&_.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,E.windowBits);if(v!==h.Z_OK)throw new Error(f[v]);this.header=new y,o.inflateGetHeader(this.strm,this.header)}function A(_,E){var v=new m(E);if(v.push(_,!0),v.err)throw v.msg||f[v.err];return v.result}m.prototype.push=function(_,E){var v,C,N,S,D,K,$=this.strm,ee=this.options.chunkSize,P=this.options.dictionary,fe=!1;if(this.ended)return!1;C=E===~~E?E:E===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof _=="string"?$.input=l.binstring2buf(_):b.call(_)==="[object ArrayBuffer]"?$.input=new Uint8Array(_):$.input=_,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new c.Buf8(ee),$.next_out=0,$.avail_out=ee),(v=o.inflate($,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&P&&(K=typeof P=="string"?l.string2buf(P):b.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,v=o.inflateSetDictionary(this.strm,K)),v===h.Z_BUF_ERROR&&fe===!0&&(v=h.Z_OK,fe=!1),v!==h.Z_STREAM_END&&v!==h.Z_OK)return this.onEnd(v),!(this.ended=!0);$.next_out&&($.avail_out!==0&&v!==h.Z_STREAM_END&&($.avail_in!==0||C!==h.Z_FINISH&&C!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border($.output,$.next_out),S=$.next_out-N,D=l.buf2string($.output,N),$.next_out=S,$.avail_out=ee-S,S&&c.arraySet($.output,$.output,N,S,0),this.onData(D)):this.onData(c.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(fe=!0)}while((0<$.avail_in||$.avail_out===0)&&v!==h.Z_STREAM_END);return v===h.Z_STREAM_END&&(C=h.Z_FINISH),C===h.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===h.Z_OK):C!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!($.avail_out=0))},m.prototype.onData=function(_){this.chunks.push(_)},m.prototype.onEnd=function(_){_===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},s.Inflate=m,s.inflate=A,s.inflateRaw=function(_,E){return(E=E||{}).raw=!0,A(_,E)},s.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var p=f.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var y in p)p.hasOwnProperty(y)&&(h[y]=p[y])}}return h},s.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var c={arraySet:function(h,f,p,y,b){if(f.subarray&&h.subarray)h.set(f.subarray(p,p+y),b);else for(var m=0;m<y;m++)h[b+m]=f[p+m]},flattenChunks:function(h){var f,p,y,b,m,A;for(f=y=0,p=h.length;f<p;f++)y+=h[f].length;for(A=new Uint8Array(y),f=b=0,p=h.length;f<p;f++)m=h[f],A.set(m,b),b+=m.length;return A}},l={arraySet:function(h,f,p,y,b){for(var m=0;m<y;m++)h[b+m]=f[p+m]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,c)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(o)},{}],42:[function(t,i,s){var o=t("./common"),c=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var h=new o.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function p(y,b){if(b<65537&&(y.subarray&&l||!y.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(y,b));for(var m="",A=0;A<b;A++)m+=String.fromCharCode(y[A]);return m}h[254]=h[254]=1,s.string2buf=function(y){var b,m,A,_,E,v=y.length,C=0;for(_=0;_<v;_++)(64512&(m=y.charCodeAt(_)))==55296&&_+1<v&&(64512&(A=y.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),_++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new o.Buf8(C),_=E=0;E<C;_++)(64512&(m=y.charCodeAt(_)))==55296&&_+1<v&&(64512&(A=y.charCodeAt(_+1)))==56320&&(m=65536+(m-55296<<10)+(A-56320),_++),m<128?b[E++]=m:(m<2048?b[E++]=192|m>>>6:(m<65536?b[E++]=224|m>>>12:(b[E++]=240|m>>>18,b[E++]=128|m>>>12&63),b[E++]=128|m>>>6&63),b[E++]=128|63&m);return b},s.buf2binstring=function(y){return p(y,y.length)},s.binstring2buf=function(y){for(var b=new o.Buf8(y.length),m=0,A=b.length;m<A;m++)b[m]=y.charCodeAt(m);return b},s.buf2string=function(y,b){var m,A,_,E,v=b||y.length,C=new Array(2*v);for(m=A=0;m<v;)if((_=y[m++])<128)C[A++]=_;else if(4<(E=h[_]))C[A++]=65533,m+=E-1;else{for(_&=E===2?31:E===3?15:7;1<E&&m<v;)_=_<<6|63&y[m++],E--;1<E?C[A++]=65533:_<65536?C[A++]=_:(_-=65536,C[A++]=55296|_>>10&1023,C[A++]=56320|1023&_)}return p(C,A)},s.utf8border=function(y,b){var m;for((b=b||y.length)>y.length&&(b=y.length),m=b-1;0<=m&&(192&y[m])==128;)m--;return m<0||m===0?b:m+h[y[m]]>b?m:b}},{"./common":41}],43:[function(t,i,s){i.exports=function(o,c,l,h){for(var f=65535&o|0,p=o>>>16&65535|0,y=0;l!==0;){for(l-=y=2e3<l?2e3:l;p=p+(f=f+c[h++]|0)|0,--y;);f%=65521,p%=65521}return f|p<<16|0}},{}],44:[function(t,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,s){var o=(function(){for(var c,l=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;l[h]=c}return l})();i.exports=function(c,l,h,f){var p=o,y=f+h;c^=-1;for(var b=f;b<y;b++)c=c>>>8^p[255&(c^l[b])];return-1^c}},{}],46:[function(t,i,s){var o,c=t("../utils/common"),l=t("./trees"),h=t("./adler32"),f=t("./crc32"),p=t("./messages"),y=0,b=4,m=0,A=-2,_=-1,E=4,v=2,C=8,N=9,S=286,D=30,K=19,$=2*S+1,ee=15,P=3,fe=258,re=fe+P+1,B=42,J=113,L=1,se=2,ie=3,Z=4;function pe(z,te){return z.msg=p[te],te}function ye(z){return(z<<1)-(4<z?9:0)}function Te(z){for(var te=z.length;0<=--te;)z[te]=0}function W(z){var te=z.state,q=te.pending;q>z.avail_out&&(q=z.avail_out),q!==0&&(c.arraySet(z.output,te.pending_buf,te.pending_out,q,z.next_out),z.next_out+=q,te.pending_out+=q,z.total_out+=q,z.avail_out-=q,te.pending-=q,te.pending===0&&(te.pending_out=0))}function R(z,te){l._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,te),z.block_start=z.strstart,W(z.strm)}function G(z,te){z.pending_buf[z.pending++]=te}function X(z,te){z.pending_buf[z.pending++]=te>>>8&255,z.pending_buf[z.pending++]=255&te}function ce(z,te){var q,T,O=z.max_chain_length,M=z.strstart,ve=z.prev_length,xe=z.nice_match,we=z.strstart>z.w_size-re?z.strstart-(z.w_size-re):0,je=z.window,qe=z.w_mask,Me=z.prev,Ke=z.strstart+fe,at=je[M+ve-1],ht=je[M+ve];z.prev_length>=z.good_match&&(O>>=2),xe>z.lookahead&&(xe=z.lookahead);do if(je[(q=te)+ve]===ht&&je[q+ve-1]===at&&je[q]===je[M]&&je[++q]===je[M+1]){M+=2,q++;do;while(je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&je[++M]===je[++q]&&M<Ke);if(T=fe-(Ke-M),M=Ke-fe,ve<T){if(z.match_start=te,xe<=(ve=T))break;at=je[M+ve-1],ht=je[M+ve]}}while((te=Me[te&qe])>we&&--O!=0);return ve<=z.lookahead?ve:z.lookahead}function ae(z){var te,q,T,O,M,ve,xe,we,je,qe,Me=z.w_size;do{if(O=z.window_size-z.lookahead-z.strstart,z.strstart>=Me+(Me-re)){for(c.arraySet(z.window,z.window,Me,Me,0),z.match_start-=Me,z.strstart-=Me,z.block_start-=Me,te=q=z.hash_size;T=z.head[--te],z.head[te]=Me<=T?T-Me:0,--q;);for(te=q=Me;T=z.prev[--te],z.prev[te]=Me<=T?T-Me:0,--q;);O+=Me}if(z.strm.avail_in===0)break;if(ve=z.strm,xe=z.window,we=z.strstart+z.lookahead,je=O,qe=void 0,qe=ve.avail_in,je<qe&&(qe=je),q=qe===0?0:(ve.avail_in-=qe,c.arraySet(xe,ve.input,ve.next_in,qe,we),ve.state.wrap===1?ve.adler=h(ve.adler,xe,qe,we):ve.state.wrap===2&&(ve.adler=f(ve.adler,xe,qe,we)),ve.next_in+=qe,ve.total_in+=qe,qe),z.lookahead+=q,z.lookahead+z.insert>=P)for(M=z.strstart-z.insert,z.ins_h=z.window[M],z.ins_h=(z.ins_h<<z.hash_shift^z.window[M+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[M+P-1])&z.hash_mask,z.prev[M&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=M,M++,z.insert--,!(z.lookahead+z.insert<P)););}while(z.lookahead<re&&z.strm.avail_in!==0)}function I(z,te){for(var q,T;;){if(z.lookahead<re){if(ae(z),z.lookahead<re&&te===y)return L;if(z.lookahead===0)break}if(q=0,z.lookahead>=P&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+P-1])&z.hash_mask,q=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),q!==0&&z.strstart-q<=z.w_size-re&&(z.match_length=ce(z,q)),z.match_length>=P)if(T=l._tr_tally(z,z.strstart-z.match_start,z.match_length-P),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=P){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+P-1])&z.hash_mask,q=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else T=l._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(T&&(R(z,!1),z.strm.avail_out===0))return L}return z.insert=z.strstart<P-1?z.strstart:P-1,te===b?(R(z,!0),z.strm.avail_out===0?ie:Z):z.last_lit&&(R(z,!1),z.strm.avail_out===0)?L:se}function U(z,te){for(var q,T,O;;){if(z.lookahead<re){if(ae(z),z.lookahead<re&&te===y)return L;if(z.lookahead===0)break}if(q=0,z.lookahead>=P&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+P-1])&z.hash_mask,q=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=P-1,q!==0&&z.prev_length<z.max_lazy_match&&z.strstart-q<=z.w_size-re&&(z.match_length=ce(z,q),z.match_length<=5&&(z.strategy===1||z.match_length===P&&4096<z.strstart-z.match_start)&&(z.match_length=P-1)),z.prev_length>=P&&z.match_length<=z.prev_length){for(O=z.strstart+z.lookahead-P,T=l._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-P),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=O&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+P-1])&z.hash_mask,q=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=P-1,z.strstart++,T&&(R(z,!1),z.strm.avail_out===0))return L}else if(z.match_available){if((T=l._tr_tally(z,0,z.window[z.strstart-1]))&&R(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return L}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(T=l._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<P-1?z.strstart:P-1,te===b?(R(z,!0),z.strm.avail_out===0?ie:Z):z.last_lit&&(R(z,!1),z.strm.avail_out===0)?L:se}function ne(z,te,q,T,O){this.good_length=z,this.max_lazy=te,this.nice_length=q,this.max_chain=T,this.func=O}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*$),this.dyn_dtree=new c.Buf16(2*(2*D+1)),this.bl_tree=new c.Buf16(2*(2*K+1)),Te(this.dyn_ltree),Te(this.dyn_dtree),Te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(ee+1),this.heap=new c.Buf16(2*S+1),Te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*S+1),Te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(z){var te;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=v,(te=z.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?B:J,z.adler=te.wrap===2?0:1,te.last_flush=y,l._tr_init(te),m):pe(z,A)}function ue(z){var te=Q(z);return te===m&&(function(q){q.window_size=2*q.w_size,Te(q.head),q.max_lazy_match=o[q.level].max_lazy,q.good_match=o[q.level].good_length,q.nice_match=o[q.level].nice_length,q.max_chain_length=o[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=P-1,q.match_available=0,q.ins_h=0})(z.state),te}function ke(z,te,q,T,O,M){if(!z)return A;var ve=1;if(te===_&&(te=6),T<0?(ve=0,T=-T):15<T&&(ve=2,T-=16),O<1||N<O||q!==C||T<8||15<T||te<0||9<te||M<0||E<M)return pe(z,A);T===8&&(T=9);var xe=new oe;return(z.state=xe).strm=z,xe.wrap=ve,xe.gzhead=null,xe.w_bits=T,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=O+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+P-1)/P),xe.window=new c.Buf8(2*xe.w_size),xe.head=new c.Buf16(xe.hash_size),xe.prev=new c.Buf16(xe.w_size),xe.lit_bufsize=1<<O+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new c.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=te,xe.strategy=M,xe.method=q,ue(z)}o=[new ne(0,0,0,0,function(z,te){var q=65535;for(q>z.pending_buf_size-5&&(q=z.pending_buf_size-5);;){if(z.lookahead<=1){if(ae(z),z.lookahead===0&&te===y)return L;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var T=z.block_start+q;if((z.strstart===0||z.strstart>=T)&&(z.lookahead=z.strstart-T,z.strstart=T,R(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-re&&(R(z,!1),z.strm.avail_out===0))return L}return z.insert=0,te===b?(R(z,!0),z.strm.avail_out===0?ie:Z):(z.strstart>z.block_start&&(R(z,!1),z.strm.avail_out),L)}),new ne(4,4,8,4,I),new ne(4,5,16,8,I),new ne(4,6,32,32,I),new ne(4,4,16,16,U),new ne(8,16,32,32,U),new ne(8,16,128,128,U),new ne(8,32,128,256,U),new ne(32,128,258,1024,U),new ne(32,258,258,4096,U)],s.deflateInit=function(z,te){return ke(z,te,C,15,8,0)},s.deflateInit2=ke,s.deflateReset=ue,s.deflateResetKeep=Q,s.deflateSetHeader=function(z,te){return z&&z.state?z.state.wrap!==2?A:(z.state.gzhead=te,m):A},s.deflate=function(z,te){var q,T,O,M;if(!z||!z.state||5<te||te<0)return z?pe(z,A):A;if(T=z.state,!z.output||!z.input&&z.avail_in!==0||T.status===666&&te!==b)return pe(z,z.avail_out===0?-5:A);if(T.strm=z,q=T.last_flush,T.last_flush=te,T.status===B)if(T.wrap===2)z.adler=0,G(T,31),G(T,139),G(T,8),T.gzhead?(G(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),G(T,255&T.gzhead.time),G(T,T.gzhead.time>>8&255),G(T,T.gzhead.time>>16&255),G(T,T.gzhead.time>>24&255),G(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),G(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(G(T,255&T.gzhead.extra.length),G(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(z.adler=f(z.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(G(T,0),G(T,0),G(T,0),G(T,0),G(T,0),G(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),G(T,3),T.status=J);else{var ve=C+(T.w_bits-8<<4)<<8;ve|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(ve|=32),ve+=31-ve%31,T.status=J,X(T,ve),T.strstart!==0&&(X(T,z.adler>>>16),X(T,65535&z.adler)),z.adler=1}if(T.status===69)if(T.gzhead.extra){for(O=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),W(z),O=T.pending,T.pending!==T.pending_buf_size));)G(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){O=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),W(z),O=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,G(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),M===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){O=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),W(z),O=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,G(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>O&&(z.adler=f(z.adler,T.pending_buf,T.pending-O,O)),M===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&W(z),T.pending+2<=T.pending_buf_size&&(G(T,255&z.adler),G(T,z.adler>>8&255),z.adler=0,T.status=J)):T.status=J),T.pending!==0){if(W(z),z.avail_out===0)return T.last_flush=-1,m}else if(z.avail_in===0&&ye(te)<=ye(q)&&te!==b)return pe(z,-5);if(T.status===666&&z.avail_in!==0)return pe(z,-5);if(z.avail_in!==0||T.lookahead!==0||te!==y&&T.status!==666){var xe=T.strategy===2?(function(we,je){for(var qe;;){if(we.lookahead===0&&(ae(we),we.lookahead===0)){if(je===y)return L;break}if(we.match_length=0,qe=l._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,qe&&(R(we,!1),we.strm.avail_out===0))return L}return we.insert=0,je===b?(R(we,!0),we.strm.avail_out===0?ie:Z):we.last_lit&&(R(we,!1),we.strm.avail_out===0)?L:se})(T,te):T.strategy===3?(function(we,je){for(var qe,Me,Ke,at,ht=we.window;;){if(we.lookahead<=fe){if(ae(we),we.lookahead<=fe&&je===y)return L;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=P&&0<we.strstart&&(Me=ht[Ke=we.strstart-1])===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]){at=we.strstart+fe;do;while(Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Me===ht[++Ke]&&Ke<at);we.match_length=fe-(at-Ke),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=P?(qe=l._tr_tally(we,1,we.match_length-P),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(qe=l._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),qe&&(R(we,!1),we.strm.avail_out===0))return L}return we.insert=0,je===b?(R(we,!0),we.strm.avail_out===0?ie:Z):we.last_lit&&(R(we,!1),we.strm.avail_out===0)?L:se})(T,te):o[T.level].func(T,te);if(xe!==ie&&xe!==Z||(T.status=666),xe===L||xe===ie)return z.avail_out===0&&(T.last_flush=-1),m;if(xe===se&&(te===1?l._tr_align(T):te!==5&&(l._tr_stored_block(T,0,0,!1),te===3&&(Te(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),W(z),z.avail_out===0))return T.last_flush=-1,m}return te!==b?m:T.wrap<=0?1:(T.wrap===2?(G(T,255&z.adler),G(T,z.adler>>8&255),G(T,z.adler>>16&255),G(T,z.adler>>24&255),G(T,255&z.total_in),G(T,z.total_in>>8&255),G(T,z.total_in>>16&255),G(T,z.total_in>>24&255)):(X(T,z.adler>>>16),X(T,65535&z.adler)),W(z),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?m:1)},s.deflateEnd=function(z){var te;return z&&z.state?(te=z.state.status)!==B&&te!==69&&te!==73&&te!==91&&te!==103&&te!==J&&te!==666?pe(z,A):(z.state=null,te===J?pe(z,-3):m):A},s.deflateSetDictionary=function(z,te){var q,T,O,M,ve,xe,we,je,qe=te.length;if(!z||!z.state||(M=(q=z.state).wrap)===2||M===1&&q.status!==B||q.lookahead)return A;for(M===1&&(z.adler=h(z.adler,te,qe,0)),q.wrap=0,qe>=q.w_size&&(M===0&&(Te(q.head),q.strstart=0,q.block_start=0,q.insert=0),je=new c.Buf8(q.w_size),c.arraySet(je,te,qe-q.w_size,q.w_size,0),te=je,qe=q.w_size),ve=z.avail_in,xe=z.next_in,we=z.input,z.avail_in=qe,z.next_in=0,z.input=te,ae(q);q.lookahead>=P;){for(T=q.strstart,O=q.lookahead-(P-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[T+P-1])&q.hash_mask,q.prev[T&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=T,T++,--O;);q.strstart=T,q.lookahead=P-1,ae(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=P-1,q.match_available=0,z.next_in=xe,z.input=we,z.avail_in=ve,q.wrap=M,m},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,s){i.exports=function(o,c){var l,h,f,p,y,b,m,A,_,E,v,C,N,S,D,K,$,ee,P,fe,re,B,J,L,se;l=o.state,h=o.next_in,L=o.input,f=h+(o.avail_in-5),p=o.next_out,se=o.output,y=p-(c-o.avail_out),b=p+(o.avail_out-257),m=l.dmax,A=l.wsize,_=l.whave,E=l.wnext,v=l.window,C=l.hold,N=l.bits,S=l.lencode,D=l.distcode,K=(1<<l.lenbits)-1,$=(1<<l.distbits)-1;e:do{N<15&&(C+=L[h++]<<N,N+=8,C+=L[h++]<<N,N+=8),ee=S[C&K];t:for(;;){if(C>>>=P=ee>>>24,N-=P,(P=ee>>>16&255)===0)se[p++]=65535&ee;else{if(!(16&P)){if((64&P)==0){ee=S[(65535&ee)+(C&(1<<P)-1)];continue t}if(32&P){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}fe=65535&ee,(P&=15)&&(N<P&&(C+=L[h++]<<N,N+=8),fe+=C&(1<<P)-1,C>>>=P,N-=P),N<15&&(C+=L[h++]<<N,N+=8,C+=L[h++]<<N,N+=8),ee=D[C&$];r:for(;;){if(C>>>=P=ee>>>24,N-=P,!(16&(P=ee>>>16&255))){if((64&P)==0){ee=D[(65535&ee)+(C&(1<<P)-1)];continue r}o.msg="invalid distance code",l.mode=30;break e}if(re=65535&ee,N<(P&=15)&&(C+=L[h++]<<N,(N+=8)<P&&(C+=L[h++]<<N,N+=8)),m<(re+=C&(1<<P)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=P,N-=P,(P=p-y)<re){if(_<(P=re-P)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(J=v,(B=0)===E){if(B+=A-P,P<fe){for(fe-=P;se[p++]=v[B++],--P;);B=p-re,J=se}}else if(E<P){if(B+=A+E-P,(P-=E)<fe){for(fe-=P;se[p++]=v[B++],--P;);if(B=0,E<fe){for(fe-=P=E;se[p++]=v[B++],--P;);B=p-re,J=se}}}else if(B+=E-P,P<fe){for(fe-=P;se[p++]=v[B++],--P;);B=p-re,J=se}for(;2<fe;)se[p++]=J[B++],se[p++]=J[B++],se[p++]=J[B++],fe-=3;fe&&(se[p++]=J[B++],1<fe&&(se[p++]=J[B++]))}else{for(B=p-re;se[p++]=se[B++],se[p++]=se[B++],se[p++]=se[B++],2<(fe-=3););fe&&(se[p++]=se[B++],1<fe&&(se[p++]=se[B++]))}break}}break}}while(h<f&&p<b);h-=fe=N>>3,C&=(1<<(N-=fe<<3))-1,o.next_in=h,o.next_out=p,o.avail_in=h<f?f-h+5:5-(h-f),o.avail_out=p<b?b-p+257:257-(p-b),l.hold=C,l.bits=N}},{}],49:[function(t,i,s){var o=t("../utils/common"),c=t("./adler32"),l=t("./crc32"),h=t("./inffast"),f=t("./inftrees"),p=1,y=2,b=0,m=-2,A=1,_=852,E=592;function v(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(B){var J;return B&&B.state?(J=B.state,B.total_in=B.total_out=J.total=0,B.msg="",J.wrap&&(B.adler=1&J.wrap),J.mode=A,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new o.Buf32(_),J.distcode=J.distdyn=new o.Buf32(E),J.sane=1,J.back=-1,b):m}function S(B){var J;return B&&B.state?((J=B.state).wsize=0,J.whave=0,J.wnext=0,N(B)):m}function D(B,J){var L,se;return B&&B.state?(se=B.state,J<0?(L=0,J=-J):(L=1+(J>>4),J<48&&(J&=15)),J&&(J<8||15<J)?m:(se.window!==null&&se.wbits!==J&&(se.window=null),se.wrap=L,se.wbits=J,S(B))):m}function K(B,J){var L,se;return B?(se=new C,(B.state=se).window=null,(L=D(B,J))!==b&&(B.state=null),L):m}var $,ee,P=!0;function fe(B){if(P){var J;for($=new o.Buf32(512),ee=new o.Buf32(32),J=0;J<144;)B.lens[J++]=8;for(;J<256;)B.lens[J++]=9;for(;J<280;)B.lens[J++]=7;for(;J<288;)B.lens[J++]=8;for(f(p,B.lens,0,288,$,0,B.work,{bits:9}),J=0;J<32;)B.lens[J++]=5;f(y,B.lens,0,32,ee,0,B.work,{bits:5}),P=!1}B.lencode=$,B.lenbits=9,B.distcode=ee,B.distbits=5}function re(B,J,L,se){var ie,Z=B.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new o.Buf8(Z.wsize)),se>=Z.wsize?(o.arraySet(Z.window,J,L-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(se<(ie=Z.wsize-Z.wnext)&&(ie=se),o.arraySet(Z.window,J,L-se,ie,Z.wnext),(se-=ie)?(o.arraySet(Z.window,J,L-se,se,0),Z.wnext=se,Z.whave=Z.wsize):(Z.wnext+=ie,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=ie))),0}s.inflateReset=S,s.inflateReset2=D,s.inflateResetKeep=N,s.inflateInit=function(B){return K(B,15)},s.inflateInit2=K,s.inflate=function(B,J){var L,se,ie,Z,pe,ye,Te,W,R,G,X,ce,ae,I,U,ne,oe,Q,ue,ke,z,te,q,T,O=0,M=new o.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return m;(L=B.state).mode===12&&(L.mode=13),pe=B.next_out,ie=B.output,Te=B.avail_out,Z=B.next_in,se=B.input,ye=B.avail_in,W=L.hold,R=L.bits,G=ye,X=Te,te=b;e:for(;;)switch(L.mode){case A:if(L.wrap===0){L.mode=13;break}for(;R<16;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(2&L.wrap&&W===35615){M[L.check=0]=255&W,M[1]=W>>>8&255,L.check=l(L.check,M,2,0),R=W=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&W)<<8)+(W>>8))%31){B.msg="incorrect header check",L.mode=30;break}if((15&W)!=8){B.msg="unknown compression method",L.mode=30;break}if(R-=4,z=8+(15&(W>>>=4)),L.wbits===0)L.wbits=z;else if(z>L.wbits){B.msg="invalid window size",L.mode=30;break}L.dmax=1<<z,B.adler=L.check=1,L.mode=512&W?10:12,R=W=0;break;case 2:for(;R<16;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(L.flags=W,(255&L.flags)!=8){B.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){B.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=W>>8&1),512&L.flags&&(M[0]=255&W,M[1]=W>>>8&255,L.check=l(L.check,M,2,0)),R=W=0,L.mode=3;case 3:for(;R<32;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.head&&(L.head.time=W),512&L.flags&&(M[0]=255&W,M[1]=W>>>8&255,M[2]=W>>>16&255,M[3]=W>>>24&255,L.check=l(L.check,M,4,0)),R=W=0,L.mode=4;case 4:for(;R<16;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.head&&(L.head.xflags=255&W,L.head.os=W>>8),512&L.flags&&(M[0]=255&W,M[1]=W>>>8&255,L.check=l(L.check,M,2,0)),R=W=0,L.mode=5;case 5:if(1024&L.flags){for(;R<16;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.length=W,L.head&&(L.head.extra_len=W),512&L.flags&&(M[0]=255&W,M[1]=W>>>8&255,L.check=l(L.check,M,2,0)),R=W=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(ye<(ce=L.length)&&(ce=ye),ce&&(L.head&&(z=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),o.arraySet(L.head.extra,se,Z,ce,z)),512&L.flags&&(L.check=l(L.check,se,ce,Z)),ye-=ce,Z+=ce,L.length-=ce),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(ye===0)break e;for(ce=0;z=se[Z+ce++],L.head&&z&&L.length<65536&&(L.head.name+=String.fromCharCode(z)),z&&ce<ye;);if(512&L.flags&&(L.check=l(L.check,se,ce,Z)),ye-=ce,Z+=ce,z)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(ye===0)break e;for(ce=0;z=se[Z+ce++],L.head&&z&&L.length<65536&&(L.head.comment+=String.fromCharCode(z)),z&&ce<ye;);if(512&L.flags&&(L.check=l(L.check,se,ce,Z)),ye-=ce,Z+=ce,z)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;R<16;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(W!==(65535&L.check)){B.msg="header crc mismatch",L.mode=30;break}R=W=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),B.adler=L.check=0,L.mode=12;break;case 10:for(;R<32;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}B.adler=L.check=v(W),R=W=0,L.mode=11;case 11:if(L.havedict===0)return B.next_out=pe,B.avail_out=Te,B.next_in=Z,B.avail_in=ye,L.hold=W,L.bits=R,2;B.adler=L.check=1,L.mode=12;case 12:if(J===5||J===6)break e;case 13:if(L.last){W>>>=7&R,R-=7&R,L.mode=27;break}for(;R<3;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}switch(L.last=1&W,R-=1,3&(W>>>=1)){case 0:L.mode=14;break;case 1:if(fe(L),L.mode=20,J!==6)break;W>>>=2,R-=2;break e;case 2:L.mode=17;break;case 3:B.msg="invalid block type",L.mode=30}W>>>=2,R-=2;break;case 14:for(W>>>=7&R,R-=7&R;R<32;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if((65535&W)!=(W>>>16^65535)){B.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&W,R=W=0,L.mode=15,J===6)break e;case 15:L.mode=16;case 16:if(ce=L.length){if(ye<ce&&(ce=ye),Te<ce&&(ce=Te),ce===0)break e;o.arraySet(ie,se,Z,ce,pe),ye-=ce,Z+=ce,Te-=ce,pe+=ce,L.length-=ce;break}L.mode=12;break;case 17:for(;R<14;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(L.nlen=257+(31&W),W>>>=5,R-=5,L.ndist=1+(31&W),W>>>=5,R-=5,L.ncode=4+(15&W),W>>>=4,R-=4,286<L.nlen||30<L.ndist){B.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;R<3;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.lens[ve[L.have++]]=7&W,W>>>=3,R-=3}for(;L.have<19;)L.lens[ve[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,q={bits:L.lenbits},te=f(0,L.lens,0,19,L.lencode,0,L.work,q),L.lenbits=q.bits,te){B.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;ne=(O=L.lencode[W&(1<<L.lenbits)-1])>>>16&255,oe=65535&O,!((U=O>>>24)<=R);){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(oe<16)W>>>=U,R-=U,L.lens[L.have++]=oe;else{if(oe===16){for(T=U+2;R<T;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(W>>>=U,R-=U,L.have===0){B.msg="invalid bit length repeat",L.mode=30;break}z=L.lens[L.have-1],ce=3+(3&W),W>>>=2,R-=2}else if(oe===17){for(T=U+3;R<T;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}R-=U,z=0,ce=3+(7&(W>>>=U)),W>>>=3,R-=3}else{for(T=U+7;R<T;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}R-=U,z=0,ce=11+(127&(W>>>=U)),W>>>=7,R-=7}if(L.have+ce>L.nlen+L.ndist){B.msg="invalid bit length repeat",L.mode=30;break}for(;ce--;)L.lens[L.have++]=z}}if(L.mode===30)break;if(L.lens[256]===0){B.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,q={bits:L.lenbits},te=f(p,L.lens,0,L.nlen,L.lencode,0,L.work,q),L.lenbits=q.bits,te){B.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,q={bits:L.distbits},te=f(y,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,q),L.distbits=q.bits,te){B.msg="invalid distances set",L.mode=30;break}if(L.mode=20,J===6)break e;case 20:L.mode=21;case 21:if(6<=ye&&258<=Te){B.next_out=pe,B.avail_out=Te,B.next_in=Z,B.avail_in=ye,L.hold=W,L.bits=R,h(B,X),pe=B.next_out,ie=B.output,Te=B.avail_out,Z=B.next_in,se=B.input,ye=B.avail_in,W=L.hold,R=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;ne=(O=L.lencode[W&(1<<L.lenbits)-1])>>>16&255,oe=65535&O,!((U=O>>>24)<=R);){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(ne&&(240&ne)==0){for(Q=U,ue=ne,ke=oe;ne=(O=L.lencode[ke+((W&(1<<Q+ue)-1)>>Q)])>>>16&255,oe=65535&O,!(Q+(U=O>>>24)<=R);){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}W>>>=Q,R-=Q,L.back+=Q}if(W>>>=U,R-=U,L.back+=U,L.length=oe,ne===0){L.mode=26;break}if(32&ne){L.back=-1,L.mode=12;break}if(64&ne){B.msg="invalid literal/length code",L.mode=30;break}L.extra=15&ne,L.mode=22;case 22:if(L.extra){for(T=L.extra;R<T;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.length+=W&(1<<L.extra)-1,W>>>=L.extra,R-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;ne=(O=L.distcode[W&(1<<L.distbits)-1])>>>16&255,oe=65535&O,!((U=O>>>24)<=R);){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if((240&ne)==0){for(Q=U,ue=ne,ke=oe;ne=(O=L.distcode[ke+((W&(1<<Q+ue)-1)>>Q)])>>>16&255,oe=65535&O,!(Q+(U=O>>>24)<=R);){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}W>>>=Q,R-=Q,L.back+=Q}if(W>>>=U,R-=U,L.back+=U,64&ne){B.msg="invalid distance code",L.mode=30;break}L.offset=oe,L.extra=15&ne,L.mode=24;case 24:if(L.extra){for(T=L.extra;R<T;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}L.offset+=W&(1<<L.extra)-1,W>>>=L.extra,R-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){B.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(Te===0)break e;if(ce=X-Te,L.offset>ce){if((ce=L.offset-ce)>L.whave&&L.sane){B.msg="invalid distance too far back",L.mode=30;break}ae=ce>L.wnext?(ce-=L.wnext,L.wsize-ce):L.wnext-ce,ce>L.length&&(ce=L.length),I=L.window}else I=ie,ae=pe-L.offset,ce=L.length;for(Te<ce&&(ce=Te),Te-=ce,L.length-=ce;ie[pe++]=I[ae++],--ce;);L.length===0&&(L.mode=21);break;case 26:if(Te===0)break e;ie[pe++]=L.length,Te--,L.mode=21;break;case 27:if(L.wrap){for(;R<32;){if(ye===0)break e;ye--,W|=se[Z++]<<R,R+=8}if(X-=Te,B.total_out+=X,L.total+=X,X&&(B.adler=L.check=L.flags?l(L.check,ie,X,pe-X):c(L.check,ie,X,pe-X)),X=Te,(L.flags?W:v(W))!==L.check){B.msg="incorrect data check",L.mode=30;break}R=W=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;R<32;){if(ye===0)break e;ye--,W+=se[Z++]<<R,R+=8}if(W!==(4294967295&L.total)){B.msg="incorrect length check",L.mode=30;break}R=W=0}L.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;default:return m}return B.next_out=pe,B.avail_out=Te,B.next_in=Z,B.avail_in=ye,L.hold=W,L.bits=R,(L.wsize||X!==B.avail_out&&L.mode<30&&(L.mode<27||J!==4))&&re(B,B.output,B.next_out,X-B.avail_out)?(L.mode=31,-4):(G-=B.avail_in,X-=B.avail_out,B.total_in+=G,B.total_out+=X,L.total+=X,L.wrap&&X&&(B.adler=L.check=L.flags?l(L.check,ie,X,B.next_out-X):c(L.check,ie,X,B.next_out-X)),B.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(G==0&&X===0||J===4)&&te===b&&(te=-5),te)},s.inflateEnd=function(B){if(!B||!B.state)return m;var J=B.state;return J.window&&(J.window=null),B.state=null,b},s.inflateGetHeader=function(B,J){var L;return B&&B.state?(2&(L=B.state).wrap)==0?m:((L.head=J).done=!1,b):m},s.inflateSetDictionary=function(B,J){var L,se=J.length;return B&&B.state?(L=B.state).wrap!==0&&L.mode!==11?m:L.mode===11&&c(1,J,se,0)!==L.check?-3:re(B,J,se,se)?(L.mode=31,-4):(L.havedict=1,b):m},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,s){var o=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(p,y,b,m,A,_,E,v){var C,N,S,D,K,$,ee,P,fe,re=v.bits,B=0,J=0,L=0,se=0,ie=0,Z=0,pe=0,ye=0,Te=0,W=0,R=null,G=0,X=new o.Buf16(16),ce=new o.Buf16(16),ae=null,I=0;for(B=0;B<=15;B++)X[B]=0;for(J=0;J<m;J++)X[y[b+J]]++;for(ie=re,se=15;1<=se&&X[se]===0;se--);if(se<ie&&(ie=se),se===0)return A[_++]=20971520,A[_++]=20971520,v.bits=1,0;for(L=1;L<se&&X[L]===0;L++);for(ie<L&&(ie=L),B=ye=1;B<=15;B++)if(ye<<=1,(ye-=X[B])<0)return-1;if(0<ye&&(p===0||se!==1))return-1;for(ce[1]=0,B=1;B<15;B++)ce[B+1]=ce[B]+X[B];for(J=0;J<m;J++)y[b+J]!==0&&(E[ce[y[b+J]]++]=J);if($=p===0?(R=ae=E,19):p===1?(R=c,G-=257,ae=l,I-=257,256):(R=h,ae=f,-1),B=L,K=_,pe=J=W=0,S=-1,D=(Te=1<<(Z=ie))-1,p===1&&852<Te||p===2&&592<Te)return 1;for(;;){for(ee=B-pe,fe=E[J]<$?(P=0,E[J]):E[J]>$?(P=ae[I+E[J]],R[G+E[J]]):(P=96,0),C=1<<B-pe,L=N=1<<Z;A[K+(W>>pe)+(N-=C)]=ee<<24|P<<16|fe|0,N!==0;);for(C=1<<B-1;W&C;)C>>=1;if(C!==0?(W&=C-1,W+=C):W=0,J++,--X[B]==0){if(B===se)break;B=y[b+E[J]]}if(ie<B&&(W&D)!==S){for(pe===0&&(pe=ie),K+=L,ye=1<<(Z=B-pe);Z+pe<se&&!((ye-=X[Z+pe])<=0);)Z++,ye<<=1;if(Te+=1<<Z,p===1&&852<Te||p===2&&592<Te)return 1;A[S=W&D]=ie<<24|Z<<16|K-_|0}}return W!==0&&(A[K+W]=B-pe<<24|64<<16|0),v.bits=ie,0}},{"../utils/common":41}],51:[function(t,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,s){var o=t("../utils/common"),c=0,l=1;function h(O){for(var M=O.length;0<=--M;)O[M]=0}var f=0,p=29,y=256,b=y+1+p,m=30,A=19,_=2*b+1,E=15,v=16,C=7,N=256,S=16,D=17,K=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(b+2));h(re);var B=new Array(2*m);h(B);var J=new Array(512);h(J);var L=new Array(256);h(L);var se=new Array(p);h(se);var ie,Z,pe,ye=new Array(m);function Te(O,M,ve,xe,we){this.static_tree=O,this.extra_bits=M,this.extra_base=ve,this.elems=xe,this.max_length=we,this.has_stree=O&&O.length}function W(O,M){this.dyn_tree=O,this.max_code=0,this.stat_desc=M}function R(O){return O<256?J[O]:J[256+(O>>>7)]}function G(O,M){O.pending_buf[O.pending++]=255&M,O.pending_buf[O.pending++]=M>>>8&255}function X(O,M,ve){O.bi_valid>v-ve?(O.bi_buf|=M<<O.bi_valid&65535,G(O,O.bi_buf),O.bi_buf=M>>v-O.bi_valid,O.bi_valid+=ve-v):(O.bi_buf|=M<<O.bi_valid&65535,O.bi_valid+=ve)}function ce(O,M,ve){X(O,ve[2*M],ve[2*M+1])}function ae(O,M){for(var ve=0;ve|=1&O,O>>>=1,ve<<=1,0<--M;);return ve>>>1}function I(O,M,ve){var xe,we,je=new Array(E+1),qe=0;for(xe=1;xe<=E;xe++)je[xe]=qe=qe+ve[xe-1]<<1;for(we=0;we<=M;we++){var Me=O[2*we+1];Me!==0&&(O[2*we]=ae(je[Me]++,Me))}}function U(O){var M;for(M=0;M<b;M++)O.dyn_ltree[2*M]=0;for(M=0;M<m;M++)O.dyn_dtree[2*M]=0;for(M=0;M<A;M++)O.bl_tree[2*M]=0;O.dyn_ltree[2*N]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function ne(O){8<O.bi_valid?G(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function oe(O,M,ve,xe){var we=2*M,je=2*ve;return O[we]<O[je]||O[we]===O[je]&&xe[M]<=xe[ve]}function Q(O,M,ve){for(var xe=O.heap[ve],we=ve<<1;we<=O.heap_len&&(we<O.heap_len&&oe(M,O.heap[we+1],O.heap[we],O.depth)&&we++,!oe(M,xe,O.heap[we],O.depth));)O.heap[ve]=O.heap[we],ve=we,we<<=1;O.heap[ve]=xe}function ue(O,M,ve){var xe,we,je,qe,Me=0;if(O.last_lit!==0)for(;xe=O.pending_buf[O.d_buf+2*Me]<<8|O.pending_buf[O.d_buf+2*Me+1],we=O.pending_buf[O.l_buf+Me],Me++,xe===0?ce(O,we,M):(ce(O,(je=L[we])+y+1,M),(qe=$[je])!==0&&X(O,we-=se[je],qe),ce(O,je=R(--xe),ve),(qe=ee[je])!==0&&X(O,xe-=ye[je],qe)),Me<O.last_lit;);ce(O,N,M)}function ke(O,M){var ve,xe,we,je=M.dyn_tree,qe=M.stat_desc.static_tree,Me=M.stat_desc.has_stree,Ke=M.stat_desc.elems,at=-1;for(O.heap_len=0,O.heap_max=_,ve=0;ve<Ke;ve++)je[2*ve]!==0?(O.heap[++O.heap_len]=at=ve,O.depth[ve]=0):je[2*ve+1]=0;for(;O.heap_len<2;)je[2*(we=O.heap[++O.heap_len]=at<2?++at:0)]=1,O.depth[we]=0,O.opt_len--,Me&&(O.static_len-=qe[2*we+1]);for(M.max_code=at,ve=O.heap_len>>1;1<=ve;ve--)Q(O,je,ve);for(we=Ke;ve=O.heap[1],O.heap[1]=O.heap[O.heap_len--],Q(O,je,1),xe=O.heap[1],O.heap[--O.heap_max]=ve,O.heap[--O.heap_max]=xe,je[2*we]=je[2*ve]+je[2*xe],O.depth[we]=(O.depth[ve]>=O.depth[xe]?O.depth[ve]:O.depth[xe])+1,je[2*ve+1]=je[2*xe+1]=we,O.heap[1]=we++,Q(O,je,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],(function(ht,dt){var Rt,mt,Sr,bt,Je,lt,_t=dt.dyn_tree,Et=dt.max_code,Jt=dt.stat_desc.static_tree,wt=dt.stat_desc.has_stree,Ut=dt.stat_desc.extra_bits,yr=dt.stat_desc.extra_base,Mt=dt.stat_desc.max_length,gt=0;for(bt=0;bt<=E;bt++)ht.bl_count[bt]=0;for(_t[2*ht.heap[ht.heap_max]+1]=0,Rt=ht.heap_max+1;Rt<_;Rt++)Mt<(bt=_t[2*_t[2*(mt=ht.heap[Rt])+1]+1]+1)&&(bt=Mt,gt++),_t[2*mt+1]=bt,Et<mt||(ht.bl_count[bt]++,Je=0,yr<=mt&&(Je=Ut[mt-yr]),lt=_t[2*mt],ht.opt_len+=lt*(bt+Je),wt&&(ht.static_len+=lt*(Jt[2*mt+1]+Je)));if(gt!==0){do{for(bt=Mt-1;ht.bl_count[bt]===0;)bt--;ht.bl_count[bt]--,ht.bl_count[bt+1]+=2,ht.bl_count[Mt]--,gt-=2}while(0<gt);for(bt=Mt;bt!==0;bt--)for(mt=ht.bl_count[bt];mt!==0;)Et<(Sr=ht.heap[--Rt])||(_t[2*Sr+1]!==bt&&(ht.opt_len+=(bt-_t[2*Sr+1])*_t[2*Sr],_t[2*Sr+1]=bt),mt--)}})(O,M),I(je,at,O.bl_count)}function z(O,M,ve){var xe,we,je=-1,qe=M[1],Me=0,Ke=7,at=4;for(qe===0&&(Ke=138,at=3),M[2*(ve+1)+1]=65535,xe=0;xe<=ve;xe++)we=qe,qe=M[2*(xe+1)+1],++Me<Ke&&we===qe||(Me<at?O.bl_tree[2*we]+=Me:we!==0?(we!==je&&O.bl_tree[2*we]++,O.bl_tree[2*S]++):Me<=10?O.bl_tree[2*D]++:O.bl_tree[2*K]++,je=we,at=(Me=0)===qe?(Ke=138,3):we===qe?(Ke=6,3):(Ke=7,4))}function te(O,M,ve){var xe,we,je=-1,qe=M[1],Me=0,Ke=7,at=4;for(qe===0&&(Ke=138,at=3),xe=0;xe<=ve;xe++)if(we=qe,qe=M[2*(xe+1)+1],!(++Me<Ke&&we===qe)){if(Me<at)for(;ce(O,we,O.bl_tree),--Me!=0;);else we!==0?(we!==je&&(ce(O,we,O.bl_tree),Me--),ce(O,S,O.bl_tree),X(O,Me-3,2)):Me<=10?(ce(O,D,O.bl_tree),X(O,Me-3,3)):(ce(O,K,O.bl_tree),X(O,Me-11,7));je=we,at=(Me=0)===qe?(Ke=138,3):we===qe?(Ke=6,3):(Ke=7,4)}}h(ye);var q=!1;function T(O,M,ve,xe){X(O,(f<<1)+(xe?1:0),3),(function(we,je,qe,Me){ne(we),G(we,qe),G(we,~qe),o.arraySet(we.pending_buf,we.window,je,qe,we.pending),we.pending+=qe})(O,M,ve)}s._tr_init=function(O){q||((function(){var M,ve,xe,we,je,qe=new Array(E+1);for(we=xe=0;we<p-1;we++)for(se[we]=xe,M=0;M<1<<$[we];M++)L[xe++]=we;for(L[xe-1]=we,we=je=0;we<16;we++)for(ye[we]=je,M=0;M<1<<ee[we];M++)J[je++]=we;for(je>>=7;we<m;we++)for(ye[we]=je<<7,M=0;M<1<<ee[we]-7;M++)J[256+je++]=we;for(ve=0;ve<=E;ve++)qe[ve]=0;for(M=0;M<=143;)re[2*M+1]=8,M++,qe[8]++;for(;M<=255;)re[2*M+1]=9,M++,qe[9]++;for(;M<=279;)re[2*M+1]=7,M++,qe[7]++;for(;M<=287;)re[2*M+1]=8,M++,qe[8]++;for(I(re,b+1,qe),M=0;M<m;M++)B[2*M+1]=5,B[2*M]=ae(M,5);ie=new Te(re,$,y+1,b,E),Z=new Te(B,ee,0,m,E),pe=new Te(new Array(0),P,0,A,C)})(),q=!0),O.l_desc=new W(O.dyn_ltree,ie),O.d_desc=new W(O.dyn_dtree,Z),O.bl_desc=new W(O.bl_tree,pe),O.bi_buf=0,O.bi_valid=0,U(O)},s._tr_stored_block=T,s._tr_flush_block=function(O,M,ve,xe){var we,je,qe=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=(function(Me){var Ke,at=4093624447;for(Ke=0;Ke<=31;Ke++,at>>>=1)if(1&at&&Me.dyn_ltree[2*Ke]!==0)return c;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return l;for(Ke=32;Ke<y;Ke++)if(Me.dyn_ltree[2*Ke]!==0)return l;return c})(O)),ke(O,O.l_desc),ke(O,O.d_desc),qe=(function(Me){var Ke;for(z(Me,Me.dyn_ltree,Me.l_desc.max_code),z(Me,Me.dyn_dtree,Me.d_desc.max_code),ke(Me,Me.bl_desc),Ke=A-1;3<=Ke&&Me.bl_tree[2*fe[Ke]+1]===0;Ke--);return Me.opt_len+=3*(Ke+1)+5+5+4,Ke})(O),we=O.opt_len+3+7>>>3,(je=O.static_len+3+7>>>3)<=we&&(we=je)):we=je=ve+5,ve+4<=we&&M!==-1?T(O,M,ve,xe):O.strategy===4||je===we?(X(O,2+(xe?1:0),3),ue(O,re,B)):(X(O,4+(xe?1:0),3),(function(Me,Ke,at,ht){var dt;for(X(Me,Ke-257,5),X(Me,at-1,5),X(Me,ht-4,4),dt=0;dt<ht;dt++)X(Me,Me.bl_tree[2*fe[dt]+1],3);te(Me,Me.dyn_ltree,Ke-1),te(Me,Me.dyn_dtree,at-1)})(O,O.l_desc.max_code+1,O.d_desc.max_code+1,qe+1),ue(O,O.dyn_ltree,O.dyn_dtree)),U(O),xe&&ne(O)},s._tr_tally=function(O,M,ve){return O.pending_buf[O.d_buf+2*O.last_lit]=M>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&M,O.pending_buf[O.l_buf+O.last_lit]=255&ve,O.last_lit++,M===0?O.dyn_ltree[2*ve]++:(O.matches++,M--,O.dyn_ltree[2*(L[ve]+y+1)]++,O.dyn_dtree[2*R(M)]++),O.last_lit===O.lit_bufsize-1},s._tr_align=function(O){X(O,2,3),ce(O,N,re),(function(M){M.bi_valid===16?(G(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)})(O)}},{"../utils/common":41}],53:[function(t,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,s){(function(o){(function(c,l){if(!c.setImmediate){var h,f,p,y,b=1,m={},A=!1,_=c.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(c);E=E&&E.setTimeout?E:c,h={}.toString.call(c.process)==="[object process]"?function(S){hr.nextTick(function(){C(S)})}:(function(){if(c.postMessage&&!c.importScripts){var S=!0,D=c.onmessage;return c.onmessage=function(){S=!1},c.postMessage("","*"),c.onmessage=D,S}})()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",N,!1):c.attachEvent("onmessage",N),function(S){c.postMessage(y+S,"*")}):c.MessageChannel?((p=new MessageChannel).port1.onmessage=function(S){C(S.data)},function(S){p.port2.postMessage(S)}):_&&"onreadystatechange"in _.createElement("script")?(f=_.documentElement,function(S){var D=_.createElement("script");D.onreadystatechange=function(){C(S),D.onreadystatechange=null,f.removeChild(D),D=null},f.appendChild(D)}):function(S){setTimeout(C,0,S)},E.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var D=new Array(arguments.length-1),K=0;K<D.length;K++)D[K]=arguments[K+1];var $={callback:S,args:D};return m[b]=$,h(b),b++},E.clearImmediate=v}function v(S){delete m[S]}function C(S){if(A)setTimeout(C,0,S);else{var D=m[S];if(D){A=!0;try{(function(K){var $=K.callback,ee=K.args;switch(ee.length){case 0:$();break;case 1:$(ee[0]);break;case 2:$(ee[0],ee[1]);break;case 3:$(ee[0],ee[1],ee[2]);break;default:$.apply(l,ee)}})(D)}finally{v(S),A=!1}}}}function N(S){S.source===c&&typeof S.data=="string"&&S.data.indexOf(y)===0&&C(+S.data.slice(y.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Po<"u"?Po:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(J1)),J1.exports}var B7=D7();const I7=a4(B7);var Bf={exports:{}},Z1,fx;function U7(){if(fx)return Z1;fx=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(i,s){return r[s]}):t}return Z1=e,Z1}var dx;function M7(){if(dx)return Bf.exports;dx=1;var r=U7(),e=Hv().Stream,t="    ";function i(f,p){typeof p!="object"&&(p={indent:p});var y=p.stream?new e:null,b="",m=!1,A=p.indent?p.indent===!0?t:p.indent:"",_=!0;function E(D){_?hr.nextTick(D):D()}function v(D,K){if(K!==void 0&&(b+=K),D&&!m&&(y=y||new e,m=!0),D&&m){var $=b;E(function(){y.emit("data",$)}),b=""}}function C(D,K){l(v,c(D,A,A?1:0),K)}function N(){if(y){var D=b;E(function(){y.emit("data",D),y.emit("end"),y.readable=!1,y.emit("close")})}}function S(D){var K=D.encoding||"UTF-8",$={version:"1.0",encoding:K};D.standalone&&($.standalone=D.standalone),C({"?xml":{_attr:$}}),b=b.replace("/>","?>")}return E(function(){_=!1}),p.declaration&&S(p.declaration),f&&f.forEach?f.forEach(function(D,K){var $;K+1===f.length&&($=N),C(D,$)}):C(f,N),y?(y.readable=!0,y):b}function s(){var f=Array.prototype.slice.call(arguments),p={_elem:c(f)};return p.push=function(y){if(!this.append)throw new Error("not assigned to a parent!");var b=this,m=this._elem.indent;l(this.append,c(y,m,this._elem.icount+(m?1:0)),function(){b.append(!0)})},p.close=function(y){y!==void 0&&this.push(y),this.end&&this.end()},p}function o(f,p){return new Array(p||0).join(f||"")}function c(f,p,y){y=y||0;var b=o(p,y),m,A=f,_=!1;if(typeof f=="object"){var E=Object.keys(f);if(m=E[0],A=f[m],A&&A._elem)return A._elem.name=m,A._elem.icount=y,A._elem.indent=p,A._elem.indents=b,A._elem.interrupt=A,A._elem}var v=[],C=[],N;function S(D){var K=Object.keys(D);K.forEach(function($){v.push(h($,D[$]))})}switch(typeof A){case"object":if(A===null)break;A._attr&&S(A._attr),A._cdata&&C.push(("<![CDATA["+A._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),A.forEach&&(N=!1,C.push(""),A.forEach(function(D){if(typeof D=="object"){var K=Object.keys(D)[0];K=="_attr"?S(D._attr):C.push(c(D,p,y+1))}else C.pop(),N=!0,C.push(r(D))}),N||C.push(""));break;default:C.push(r(A))}return{name:m,interrupt:_,attributes:v,content:C,icount:y,indents:b,indent:p}}function l(f,p,y){if(typeof p!="object")return f(!1,p);var b=p.interrupt?1:p.content.length;function m(){for(;p.content.length;){var _=p.content.shift();if(_!==void 0){if(A(_))return;l(f,_)}}f(!1,(b>1?p.indents:"")+(p.name?"</"+p.name+">":"")+(p.indent&&!y?`
`:"")),y&&y()}function A(_){return _.interrupt?(_.interrupt.append=f,_.interrupt.end=m,_.interrupt=!1,f(!0),!0):!1}if(f(!1,p.indents+(p.name?"<"+p.name:"")+(p.attributes.length?" "+p.attributes.join(" "):"")+(b?p.name?">":"":p.name?"/>":"")+(p.indent&&b>1?`
`:"")),!b)return f(!1,p.indent?`
`:"");A(p)||m()}function h(f,p){return f+'="'+r(p)+'"'}return Bf.exports=i,Bf.exports.element=Bf.exports.Element=s,Bf.exports}var F7=M7();const Un=a4(F7),If=0,Q1=32,z7=32,q7=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==z7)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const s=t.replace(/(..)/g,"$1 ").trim().split(" ").map(h=>parseInt(h,16));s.reverse();const c=r.slice(If,Q1).map((h,f)=>h^s[f%s.length]),l=new Uint8Array(If+c.length+Math.max(0,r.length-Q1));return l.set(r.slice(0,If)),l.set(c,If),l.set(r.slice(Q1),If+c.length),l};class H7{format(e,t={stack:[]}){const i=e.prepForXml(t);if(i)return i;throw Error("XMLComponent did not format correctly")}}class $7{replace(e,t,i){let s=e;return t.forEach((o,c)=>{s=s.replace(new RegExp(`{${o.fileName}}`,"g"),(i+c).toString())}),s}getMediaData(e,t){return t.Array.filter(i=>e.search(`{${i.fileName}}`)>0)}}class G7{replace(e,t){let i=e;for(const s of t)i=i.replace(new RegExp(`{${s.reference}-${s.instance}}`,"g"),s.numId.toString());return i}}class W7{constructor(){rt(this,"formatter"),rt(this,"imageReplacer"),rt(this,"numberingReplacer"),this.formatter=new H7,this.imageReplacer=new $7,this.numberingReplacer=new G7}compile(e,t,i=[]){const s=new I7,o=this.xmlifyFile(e,t),c=new Map(Object.entries(o));for(const[,l]of c)if(Array.isArray(l))for(const h of l)s.file(h.path,h.data);else s.file(l.path,l.data);for(const l of i)s.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?s.file(`word/media/${l.fileName}`,l.data):(s.file(`word/media/${l.fileName}`,l.data),s.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:h,fontKey:f}of e.FontTable.fontOptionsWithKey){const[p]=h.split(".");s.file(`word/fonts/${p}.odttf`,q7(l,f))}return s}xmlifyFile(e,t){const i=e.Document.Relationships.RelationshipCount+1,s=Un(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=e.Comments.Relationships.RelationshipCount+1,c=Un(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(s,e.Media),h=this.imageReplacer.getMediaData(c,e.Media);return{Relationships:{data:(l.forEach((f,p)=>{e.Document.Relationships.createRelationship(i+p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Un(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(s,l,i);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Un(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Un(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Un(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Un(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((f,p)=>{const y=Un(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(y,e.Media).forEach((m,A)=>{f.Relationships.createRelationship(A,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Un(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${p+1}.xml.rels`}}),FooterRelationships:e.Footers.map((f,p)=>{const y=Un(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(y,e.Media).forEach((m,A)=>{f.Relationships.createRelationship(A,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${m.fileName}`)}),{data:Un(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${p+1}.xml.rels`}}),Headers:e.Headers.map((f,p)=>{const y=Un(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(y,e.Media),m=this.imageReplacer.replace(y,b,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/header${p+1}.xml`}}),Footers:e.Footers.map((f,p)=>{const y=Un(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),b=this.imageReplacer.getMediaData(y,e.Media),m=this.imageReplacer.replace(y,b,0);return{data:this.numberingReplacer.replace(m,e.Numbering.ConcreteNumbering),path:`word/footer${p+1}.xml`}}),ContentTypes:{data:Un(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Un(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Un(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Un(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Un(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Un(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(c,h,o);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(h.forEach((f,p)=>{e.Comments.Relationships.createRelationship(o+p,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Un(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Un(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Un(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const V7={WITH_2_BLANKS:"  "},px=r=>r===!0?V7.WITH_2_BLANKS:r===!1?void 0:r,q4=class ph{static pack(e,t,i){return xN(this,arguments,function*(s,o,c,l=[]){return this.compiler.compile(s,px(c),l).generateAsync({type:o,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,i=[]){return ph.pack(e,"string",t,i)}static toBuffer(e,t,i=[]){return ph.pack(e,"nodebuffer",t,i)}static toBase64String(e,t,i=[]){return ph.pack(e,"base64",t,i)}static toBlob(e,t,i=[]){return ph.pack(e,"blob",t,i)}static toArrayBuffer(e,t,i=[]){return ph.pack(e,"arraybuffer",t,i)}static toStream(e,t,i=[]){const s=new P7.Stream;return this.compiler.compile(e,px(t),i).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(c=>{s.emit("data",c),s.emit("end")}),s}};rt(q4,"compiler",new W7);let K7=q4;function bl(r,e=0){const t=i=>" ".repeat(i*3);if(typeof r=="string"||typeof r=="number")return String(r).split(`
`).map(i=>t(e)+i).join(`
`);if(Array.isArray(r))return r.map(i=>bl(i,e+1)).join(`
`);if(typeof r=="object"&&r!==null){let i="";for(const[s,o]of Object.entries(r))i+=t(e)+s+`:
`,i+=bl(o,e+1)+`
`;return i.trim()}return t(e)+String(r)}const l0=(r,e,t=0)=>{const i=s=>" ".repeat(s*3);if(typeof e=="string"||typeof e=="number"){let s=String(e).trim();return s=s.replace(/\*{2,}/g,"").replace(/\*/g,"").replace(/`+/g,"").replace(/#+/g,"").replace(/_/g,"").replace(/\[(.*?)\]\((.*?)\)/g,"$1").replace(/\!\[(.*?)\]\((.*?)\)/g,"$1").replace(/<[^>]+>/g,"").replace(/^-\s+/gm,"").replace(/\n{2,}/g,`
`),s.split(`
`).map(o=>i(t)+o).join(`
`)}else{if(Array.isArray(e))return e.map(s=>l0("",s,t+1)).join(`
`);if(typeof e=="object"&&e!==null){let s="";for(const[o,c]of Object.entries(e))s+=i(t)+o+`:
`,s+=l0("",c,t+1)+`
`;return s.trim()}}return String(e)},ic=r=>new Date(r).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});function B0(r){function e(t){if(console.log("Parsing note:",t),typeof t?.soapNote_text=="string"){let i=t.soapNote_text.replace(/^"+|"+$/g,"").replace(/""/g,'"').replace(/,(\s*[}\]])/g,"$1").replace(/[\u0000-\u001F\u007F-\u009F\u00A0]/g," ");try{t.soapNote_text=JSON.parse(i)}catch(s){console.error("Failed to parse soapNote_text:",s,i),t.soapNote_text={error:"Invalid SOAP note format",raw:i}}}return t}return Array.isArray(r)?r.map(e):r&&typeof r=="object"?e(r):r}const Y7=()=>{const r=Ja();Sv();const[e,t]=Ne.useState({}),[i,s]=Ne.useState(0),[o,c]=Ne.useState({}),[l,h]=Ne.useState(0),[f,p]=Ne.useState([]),[y,b]=Ne.useState([]),[m,A]=Ne.useState(()=>typeof window<"u"&&localStorage.getItem("dashboardActiveTab")||"encounters"),[_,E]=Ne.useState(!0),[v,C]=Ne.useState(null),N=[{key:"encounters",label:"Patient Encounters",icon:""},{key:"soap",label:"SOAP Notes",icon:""}],S=Ne.useCallback(async()=>{try{const P=await q3();c(P),h(Object.keys(P).length);const fe=Object.values(P).slice(0,5);return b(fe),P}catch(P){console.error("Error loading patient encounters:",P),P.message?.includes("401")||P.message?.includes("not logged in")?r("/login"):C("Error loading patient encounters: "+(P.message||P))}},[r]),D=Ne.useCallback(async()=>{if(!Gr()){r("/login");return}try{const fe=await z3(),re=B0(fe);t(re),s(Object.keys(re).length);const B=Object.values(re).slice(0,5);return p(B),fe}catch(fe){console.error("Error loading SOAP notes:",fe),fe.message?.includes("401")||fe.message?.includes("not logged in")?r("/login"):C("Error loading SOAP notes: "+(fe.message||fe))}},[r]);Ne.useEffect(()=>{if(!Gr()){r("/login");return}(async()=>(E(!0),await Promise.all([D(),S()]),E(!1)))()},[D,S,r]);const K=P=>{A(P),typeof window<"u"&&localStorage.setItem("dashboardActiveTab",P)},$=P=>{r(`/edit-soap-note?id=${P}`)},ee=P=>{r(`/edit-patient-encounter?id=${P}`)};return _?H.jsx("div",{className:"dashboard-container",children:H.jsx("p",{children:"Loading dashboard..."})}):H.jsxs("div",{className:"dashboard-container",style:{padding:"20px",width:"100%"},children:[v&&H.jsx("div",{style:{color:"#d32f2f",marginBottom:"20px",padding:"10px",backgroundColor:"#ffebee",borderRadius:"4px"},children:v}),H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[H.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:0},children:"Dashboard"}),H.jsx("button",{onClick:()=>r("/new-patient-encounter"),style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"600",fontSize:"0.95rem"},children:"+ New Patient Encounter"})]}),H.jsx("div",{style:{display:"flex",borderBottom:"2px solid #e0e0e0",marginBottom:"30px",backgroundColor:"#f8f9fa"},children:N.map(P=>H.jsxs("button",{onClick:()=>K(P.key),style:{flex:1,padding:"15px 20px",border:"none",backgroundColor:m===P.key?"#007bff":"transparent",color:m===P.key?"white":"#495057",cursor:"pointer",fontSize:"16px",fontWeight:m===P.key?"600":"500",borderBottom:m===P.key?"3px solid #0056b3":"3px solid transparent",transition:"all 0.3s ease"},onMouseEnter:fe=>{m!==P.key&&(fe.target.style.backgroundColor="#e9ecef")},onMouseLeave:fe=>{m!==P.key&&(fe.target.style.backgroundColor="transparent")},children:[P.icon," ",P.label," (",P.key==="encounters"?l:i,")"]},P.key))}),m==="encounters"&&H.jsxs("div",{children:[H.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",fontWeight:"600"},children:"Recent Patient Encounters"}),H.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",width:"100%"},children:y.length===0?H.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px 20px",backgroundColor:"#f9f9f9",borderRadius:"8px"},children:[H.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:""}),H.jsx("div",{style:{color:"#666",fontSize:"1.1rem"},children:"No patient encounters yet"})]}):y.map(P=>H.jsxs("div",{onClick:()=>ee(P.id),style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:fe=>{fe.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",fe.currentTarget.style.transform="translateY(-4px) scale(1.02)"},onMouseLeave:fe=>{fe.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",fe.currentTarget.style.transform="none"},children:[H.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:""}),H.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"1.05rem"},children:P.name||"Unnamed Encounter"}),H.jsx("div",{style:{color:"#666",fontSize:"0.9rem"},children:ic(P.created_at)})]},P.id))})]}),m==="soap"&&H.jsxs("div",{children:[H.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",fontWeight:"600"},children:"Recent SOAP Notes"}),H.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",width:"100%"},children:f.length===0?H.jsxs("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px 20px",backgroundColor:"#f9f9f9",borderRadius:"8px"},children:[H.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:""}),H.jsx("div",{style:{color:"#666",fontSize:"1.1rem"},children:"No SOAP notes yet"})]}):f.map(P=>H.jsxs("div",{onClick:()=>$(P.id),style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:fe=>{fe.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",fe.currentTarget.style.transform="translateY(-4px) scale(1.02)"},onMouseLeave:fe=>{fe.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",fe.currentTarget.style.transform="none"},children:[H.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:""}),H.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px",fontSize:"1.05rem"},children:"SOAP Note"}),H.jsx("div",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"12px"},children:ic(P.created_at)}),H.jsx("div",{style:{color:"#888",fontSize:"0.85rem",lineHeight:"1.4"},children:P.soapNote_text?.soapNote?.subjective?P.soapNote_text.soapNote.subjective.substring(0,150)+"...":"No content"})]},P.id))})]})]})};function X7(){const[r,e]=Ne.useState(!1),[t,i]=Ne.useState(!1),[s,o]=Ne.useState(!1),[c,l]=Ne.useState(null),h=Ne.useRef(null),f=Ne.useRef(!1),p=Ne.useRef(0),y=Ne.useRef(null);Ne.useEffect(()=>{e(typeof navigator<"u"&&"wakeLock"in navigator)},[]);const b=()=>{y.current&&(clearTimeout(y.current),y.current=null)},m=Ne.useRef(null),[A,_]=Ne.useState(!1),E=()=>{try{const D=new Blob([],{type:"video/webm"}),K=URL.createObjectURL(D),$=document.createElement("video");return $.muted=!0,$.loop=!0,$.playsInline=!0,$.src=K,$.style.width="1px",$.style.height="1px",$.style.position="fixed",$.style.bottom="0",$.style.right="0",$.style.opacity="0",$.setAttribute("aria-hidden","true"),{video:$,url:K}}catch(D){return console.warn("createSilentVideo failed:",D),null}},v=Ne.useCallback(async()=>{try{if(typeof document>"u")return!1;if(m.current)return!0;const D=E();if(!D)return!1;const{video:K,url:$}=D;return document.body.appendChild(K),await K.play(),m.current={video:K,url:$},_(!0),console.debug("fallback keep-awake active"),!0}catch(D){return console.warn("fallback acquire failed:",D),_(!1),!1}},[]),C=Ne.useCallback(async()=>{try{if(!m.current)return;const{video:D,url:K}=m.current;try{D.pause()}catch{}try{D.parentNode&&D.parentNode.removeChild(D)}catch{}try{URL.revokeObjectURL(K)}catch{}}finally{m.current=null,_(!1)}},[]),N=Ne.useCallback(async()=>{if(typeof navigator>"u"||!("wakeLock"in navigator))return e(!1),l("Wake Lock API not supported"),i(!1),o(!1),await v().catch(()=>!1);o(!0),p.current=0;try{f.current=!0;const D=await navigator.wakeLock.request("screen");h.current=D,i(!0),o(!1),l(null),console.debug("wakeLock acquired",D);const K=()=>{console.warn("wakeLock release event fired"),i(!1),f.current&&(p.current=0,b(),y.current=setTimeout(async function $(){p.current++;const ee=Math.min(5e3*p.current,3e4);console.debug(`wakeLock retry #${p.current}, backoff=${ee}ms`);try{!await N()&&p.current<5&&(y.current=setTimeout($,ee))}catch(P){console.error("wakeLock retry failed:",P),p.current<5&&(y.current=setTimeout($,ee))}},1e3))};return D.addEventListener("release",K),!0}catch(D){return console.error("Failed to acquire wake lock:",D),l(D?.message||"Failed to acquire wake lock"),i(!1),o(!1),await v().catch(()=>!1)}},[v]),S=Ne.useCallback(async()=>{try{f.current=!1,b(),h.current&&typeof h.current.release=="function"&&await h.current.release()}catch(D){console.warn("Error releasing wake lock:",D)}finally{h.current=null,i(!1),o(!1)}},[]);return Ne.useEffect(()=>{const D=()=>{console.debug("visibilitychange ->",document.visibilityState),document.visibilityState==="visible"&&f.current&&!h.current&&N().catch($=>console.warn("re-acquire on visibility failed:",$))},K=()=>{f.current&&!h.current&&N().catch($=>console.warn("re-acquire on focus failed:",$))};return document.addEventListener("visibilitychange",D),window.addEventListener("focus",K),()=>{document.removeEventListener("visibilitychange",D),window.removeEventListener("focus",K),S().catch(()=>{})}},[N,S]),{isSupportedWakeLock:r,isWakeLockActive:t,isWakeLockPending:s,wakeLockError:c,acquireWakeLock:N,releaseWakeLock:S,isFallbackWakeLockActive:A,acquireFallbackWakeLock:v,releaseFallbackWakeLock:C}}function I0(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(r);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(r,i[s])&&(t[i[s]]=r[i[s]]);return t}function J7(r,e,t,i){function s(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function l(p){try{f(i.next(p))}catch(y){c(y)}}function h(p){try{f(i.throw(p))}catch(y){c(y)}}function f(p){p.done?o(p.value):s(p.value).then(l,h)}f((i=i.apply(r,e||[])).next())})}const Z7=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Jv extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class Q7 extends Jv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mx extends Jv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gx extends Jv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Jy;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Jy||(Jy={}));class eO{constructor(e,{headers:t={},customFetch:i,region:s=Jy.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Z7(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J7(this,arguments,void 0,function*(t,i={}){var s;let o,c;try{const{headers:l,method:h,body:f,signal:p,timeout:y}=i;let b={},{region:m}=i;m||(m=this.region);const A=new URL(`${this.url}/${t}`);m&&m!=="any"&&(b["x-region"]=m,A.searchParams.set("forceFunctionRegion",m));let _;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=f):typeof f=="string"?(b["Content-Type"]="text/plain",_=f):typeof FormData<"u"&&f instanceof FormData?_=f:(b["Content-Type"]="application/json",_=JSON.stringify(f)):_=f;let E=p;y&&(c=new AbortController,o=setTimeout(()=>c.abort(),y),p?(E=c.signal,p.addEventListener("abort",()=>c.abort())):E=c.signal);const v=yield this.fetch(A.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),l),body:_,signal:E}).catch(D=>{throw new Q7(D)}),C=v.headers.get("x-relay-error");if(C&&C==="true")throw new mx(v);if(!v.ok)throw new gx(v);let N=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return N==="application/json"?S=yield v.json():N==="application/octet-stream"||N==="application/pdf"?S=yield v.blob():N==="text/event-stream"?S=v:N==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof gx||l instanceof mx?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var tO=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},rO=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,l=null,h=null,f=o.status,p=o.statusText;if(o.ok){var y,b;if(t.method!=="HEAD"){var m;const v=await o.text();v===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((m=t.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const _=(y=t.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),E=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");_&&E&&E.length>1&&(h=parseInt(E[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(l)&&(l.length>1?(c={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,h=null,f=406,p="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var A;const _=await o.text();try{c=JSON.parse(_),Array.isArray(c)&&o.status===404&&(l=[],c=null,f=200,p="OK")}catch{o.status===404&&_===""?(f=204,p="No Content"):c={message:_}}if(c&&t.isMaybeSingle&&(!(c==null||(A=c.details)===null||A===void 0)&&A.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&t.shouldThrowOnError)throw new tO(c)}return{error:c,data:l,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var c;let l="";const h=o?.cause;if(h){var f,p,y,b;const A=(f=h?.message)!==null&&f!==void 0?f:"",_=(p=h?.code)!==null&&p!==void 0?p:"";l=`${(y=o?.name)!==null&&y!==void 0?y:"FetchError"}: ${o?.message}`,l+=`

Caused by: ${(b=h?.name)!==null&&b!==void 0?b:"Error"}: ${A}`,_&&(l+=` (${_})`),h?.stack&&(l+=`
${h.stack}`)}else{var m;l=(m=o?.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(r,e)}returns(){return this}overrideTypes(){return this}},nO=class extends rO{select(r){let e=!1;const t=(r??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:i=t}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var c;const l=[r?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const yx=new RegExp("[,()]");var mh=class extends nO{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&yx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&yx.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${s}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},iO=class{constructor(r,{headers:e={},schema:t,fetch:i}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=i}select(r,e){const{head:t=!1,count:i}=e??{},s=t?"HEAD":"GET";let o=!1;const c=(r??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new mh({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var i;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),t||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const o=r.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(o.length>0){const c=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new mh({method:s,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(l.length>0){const h=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new mh({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(r,{count:e}={}){var t;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new mh({method:i,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new mh({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},aO=class H4{constructor(e,{headers:t={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iO(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new H4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:s=!1,count:o}={}){var c;let l;const h=new URL(`${this.url}/rpc/${e}`);let f;i||s?(l=i?"HEAD":"GET",Object.entries(t).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{h.searchParams.append(y,b)})):(l="POST",f=t);const p=new Headers(this.headers);return o&&p.set("Prefer",`count=${o}`),new mh({method:l,url:h,headers:p,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class sO{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const oO="2.88.0",lO=`realtime-js/${oO}`,$4="1.0.0",uO="2.0.0",vx=$4,Zy=1e4,cO=1e3,hO=100;var su;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(su||(su={}));var wi;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(wi||(wi={}));var Qs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Qs||(Qs={}));var Qy;(function(r){r.websocket="websocket"})(Qy||(Qy={}));var Gu;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Gu||(Gu={}));class fO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var t,i;const s=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,i){var s,o;const c=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+l.length+c.length+f.length+y.length,m=new ArrayBuffer(this.HEADER_LENGTH+b);let A=new DataView(m),_=0;A.setUint8(_++,this.KINDS.userBroadcastPush),A.setUint8(_++,h.length),A.setUint8(_++,l.length),A.setUint8(_++,c.length),A.setUint8(_++,f.length),A.setUint8(_++,y.length),A.setUint8(_++,t),Array.from(h,v=>A.setUint8(_++,v.charCodeAt(0))),Array.from(l,v=>A.setUint8(_++,v.charCodeAt(0))),Array.from(c,v=>A.setUint8(_++,v.charCodeAt(0))),Array.from(f,v=>A.setUint8(_++,v.charCodeAt(0))),Array.from(y,v=>A.setUint8(_++,v.charCodeAt(0)));var E=new Uint8Array(m.byteLength+i.byteLength);return E.set(new Uint8Array(m),0),E.set(new Uint8Array(i),m.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,o,c,l,h]=i;return t({join_ref:s,ref:o,topic:c,event:l,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,s)}_decodeUserBroadcast(e,t,i){const s=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),l=t.getUint8(4);let h=this.HEADER_LENGTH+4;const f=i.decode(e.slice(h,h+s));h=h+s;const p=i.decode(e.slice(h,h+o));h=h+o;const y=i.decode(e.slice(h,h+c));h=h+c;const b=e.slice(h,e.byteLength),m=l===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,A={type:this.BROADCAST_EVENT,event:p,payload:m};return c>0&&(A.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class G4{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ln;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ln||(ln={}));const bx=(r,e,t={})=>{var i;const s=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=dO(c,r,e,s),o),{}):{}},dO=(r,e,t,i)=>{const s=e.find(l=>l.name===r),o=s?.type,c=t[r];return o&&!i.includes(o)?W4(o,c):ev(c)},W4=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return yO(e,t)}switch(r){case ln.bool:return pO(e);case ln.float4:case ln.float8:case ln.int2:case ln.int4:case ln.int8:case ln.numeric:case ln.oid:return mO(e);case ln.json:case ln.jsonb:return gO(e);case ln.timestamp:return vO(e);case ln.abstime:case ln.date:case ln.daterange:case ln.int4range:case ln.int8range:case ln.money:case ln.reltime:case ln.text:case ln.time:case ln.timestamptz:case ln.timetz:case ln.tsrange:case ln.tstzrange:return ev(e);default:return ev(e)}},ev=r=>r,pO=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},mO=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},gO=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},yO=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let o;const c=r.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(l=>W4(e,l))}return r},vO=r=>typeof r=="string"?r.replace(" ","T"):r,V4=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ey{constructor(e,t,i={},s=Zy){this.channel=e,this.event=t,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wx;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(wx||(wx={}));class Wf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:c,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wf.syncState(this.state,s,o,c),this.pendingDiffs.forEach(h=>{this.state=Wf.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wf.syncDiff(this.state,s,o,c),l())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,s){const o=this.cloneDeep(e),c=this.transformState(t),l={},h={};return this.map(o,(f,p)=>{c[f]||(h[f]=p)}),this.map(c,(f,p)=>{const y=o[f];if(y){const b=p.map(E=>E.presence_ref),m=y.map(E=>E.presence_ref),A=p.filter(E=>m.indexOf(E.presence_ref)<0),_=y.filter(E=>b.indexOf(E.presence_ref)<0);A.length>0&&(l[f]=A),_.length>0&&(h[f]=_)}else l[f]=p}),this.syncDiff(o,{joins:l,leaves:h},i,s)}static syncDiff(e,t,i,s){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(l,h)=>{var f;const p=(f=e[l])!==null&&f!==void 0?f:[];if(e[l]=this.cloneDeep(h),p.length>0){const y=e[l].map(m=>m.presence_ref),b=p.filter(m=>y.indexOf(m.presence_ref)<0);e[l].unshift(...b)}i(l,p,h)}),this.map(c,(l,h)=>{let f=e[l];if(!f)return;const p=h.map(y=>y.presence_ref);f=f.filter(y=>p.indexOf(y.presence_ref)<0),e[l]=f,s(l,f,h),f.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const s=e[i];return"metas"in s?t[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _x;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(_x||(_x={}));var Vf;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Vf||(Vf={}));var yl;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(yl||(yl={}));class _h{constructor(e,t={config:{}},i){var s,o;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=wi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ey(this,Qs.join,this.params,this.timeout),this.rejoinTimer=new G4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wi.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=wi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=wi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qs.reply,{},(c,l)=>{this._trigger(this._replyEventName(l),c)}),this.presence=new Wf(this),this.broadcastEndpointURL=V4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==wi.closed){const{config:{broadcast:c,presence:l,private:h}}=this.params,f=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(m=>m.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[Vf.PRESENCE]&&this.bindings[Vf.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(m=>e?.(yl.CHANNEL_ERROR,m)),this._onClose(()=>e?.(yl.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:m})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e?.(yl.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(A=_?.length)!==null&&A!==void 0?A:0,v=[];for(let C=0;C<E;C++){const N=_[C],{filter:{event:S,schema:D,table:K,filter:$}}=N,ee=m&&m[C];if(ee&&ee.event===S&&_h.isFilterValueEqual(ee.schema,D)&&_h.isFilterValueEqual(ee.table,K)&&_h.isFilterValueEqual(ee.filter,$))v.push(Object.assign(Object.assign({},N),{id:ee.id}));else{this.unsubscribe(),this.state=wi.errored,e?.(yl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(yl.SUBSCRIBED);return}}).receive("error",m=>{this.state=wi.errored,e?.(yl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e?.(yl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===wi.joined&&e===Vf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var s;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let h=l.statusText;try{const f=await l.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,l,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(l=(c=this.params)===null||c===void 0?void 0:c.config)===null||l===void 0?void 0:l.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wi.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qs.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new ey(this,Qs.leave,{},e),i.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wi.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),c}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ey(this,e,t,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>hO){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var s,o;const c=e.toLocaleLowerCase(),{close:l,error:h,leave:f,join:p}=Qs;if(i&&[l,h,f,p].indexOf(c)>=0&&i!==this._joinRef())return;let b=this._onMessage(c,t,i);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var A,_,E;return((A=m.filter)===null||A===void 0?void 0:A.event)==="*"||((E=(_=m.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(m=>m.callback(b,i)):(o=this.bindings[c])===null||o===void 0||o.filter(m=>{var A,_,E,v,C,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in m){const S=m.id,D=(A=m.filter)===null||A===void 0?void 0:A.event;return S&&((_=t.ids)===null||_===void 0?void 0:_.includes(S))&&(D==="*"||D?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const S=(C=(v=m?.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return S==="*"||S===((N=t?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===c}).map(m=>{if(typeof b=="object"&&"ids"in b){const A=b.data,{schema:_,table:E,commit_timestamp:v,type:C,errors:N}=A;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:v,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(A))}m.callback(b,i)})}_isClosed(){return this.state===wi.closed}_isJoined(){return this.state===wi.joined}_isJoining(){return this.state===wi.joining}_isLeaving(){return this.state===wi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&_h.isEqual(s.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qs.close,{},e)}_onError(e){this._on(Qs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=bx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=bx(e.columns,e.old_record)),t}}const ty=()=>{},Np={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},bO=[1e3,2e3,5e3,1e4],wO=1e4,_O=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xO{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zy,this.transport=null,this.heartbeatIntervalMs=Np.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ty,this.ref=0,this.reconnectTimer=null,this.vsn=vx,this.logger=ty,this.conn=null,this.sendBuffer=[],this.serializer=new fO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Qy.websocket}`,this.httpEndpoint=V4(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sO.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case su.connecting:return Gu.Connecting;case su.open:return Gu.Open;case su.closing:return Gu.Closing;default:return Gu.Closed}}isConnected(){return this.connectionState()===Gu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new _h(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:i,payload:s,ref:o}=e,c=()=>{this.encode(e,l=>{var h;(h=this.conn)===null||h===void 0||h.send(l)})};this.log("push",`${t} ${i} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cO,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Np.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:o,ref:c}=t,l=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${s} ${l}`.trim(),o),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(s,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===su.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===su.open||this.conn.readyState===su.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${i}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([_O],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const o={access_token:t,version:lO};t&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Qs.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new G4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Np.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,s,o,c,l,h,f,p,y,b,m;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Zy,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Np.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:ty,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:vx,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(A=>bO[A-1]||wO),this.vsn){case $4:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((A,_)=>_(JSON.stringify(A))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((A,_)=>_(JSON.parse(A)));break;case uO:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Qf=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function SO(r,e,t){const i=new URL(e,r);if(t)for(const[s,o]of Object.entries(t))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function AO(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function EO(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:s,body:o,headers:c}){const l=SO(r.baseUrl,i,s),h=await AO(r.auth),f=await e(l,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),p=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),b=y&&p?JSON.parse(p):p;if(!f.ok){const m=y?b:void 0,A=m?.error;throw new Qf(A?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:A?.type,icebergCode:A?.code,details:m})}return{status:f.status,headers:f.headers,data:b}}}}function Tp(r){return r.join("")}var kO=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:Tp(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tp(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tp(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tp(r.namespace)}`}),!0}catch(e){if(e instanceof Qf&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Qf&&t.status===409)return;throw t}}};function ah(r){return r.join("")}var NO=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ah(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Qf&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Qf&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},TO=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=EO({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new kO(this.client,e),this.tableOps=new NO(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},U0=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Tn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var RO=class extends U0{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tv=class extends U0{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Zv=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),CO=()=>Response,rv=r=>{if(Array.isArray(r))return r.map(t=>rv(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=rv(i)}),e},OO=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},LO=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ed(r){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(r)}function jO(r,e){if(ed(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function PO(r){var e=jO(r,"string");return ed(e)=="symbol"?e:e+""}function DO(r,e,t){return(e=PO(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xx(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function Gt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(t),!0).forEach(function(i){DO(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xx(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const ry=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},BO=async(r,e,t)=>{r instanceof await CO()&&!t?.noResolveJson?r.json().then(i=>{const s=r.status||500,o=i?.statusCode||s+"";e(new RO(ry(i),s,o))}).catch(i=>{e(new tv(ry(i),i))}):e(new tv(ry(r),r))},IO=(r,e,t,i)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"||!i?s:(OO(i)?(s.headers=Gt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(i)):s.body=i,e?.duplex&&(s.duplex=e.duplex),Gt(Gt({},s),t))};async function yd(r,e,t,i,s,o){return new Promise((c,l)=>{r(t,IO(e,i,s,o)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>BO(h,l,i))})}async function td(r,e,t,i){return yd(r,"GET",e,t,i)}async function Zs(r,e,t,i,s){return yd(r,"POST",e,i,s,t)}async function nv(r,e,t,i,s){return yd(r,"PUT",e,i,s,t)}async function UO(r,e,t,i){return yd(r,"HEAD",e,Gt(Gt({},t),{},{noResolveJson:!0}),i)}async function Qv(r,e,t,i,s){return yd(r,"DELETE",e,i,s,t)}var MO=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}}};let K4;K4=Symbol.toStringTag;var FO=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[K4]="BlobDownloadBuilder",this.promise=null}asStream(){return new MO(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tn(e))return{data:null,error:e};throw e}}};const zO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qO=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=Zv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,i){var s=this;try{let o;const c=Gt(Gt({},Sx),i);let l=Gt(Gt({},s.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",s.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(h))):(o=t,l["cache-control"]=`max-age=${c.cacheControl}`,l["content-type"]=c.contentType,h&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(l=Gt(Gt({},l),i.headers));const f=s._removeEmptyFolders(e),p=s._getFinalPath(f),y=await(r=="PUT"?nv:Zs)(s.fetch,`${s.url}/object/${p}`,o,Gt({headers:l},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:y.Id,fullPath:y.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Tn(o))return{data:null,error:o};throw o}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,i){var s=this;const o=s._removeEmptyFolders(r),c=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${c}`);l.searchParams.set("token",e);try{let h;const f=Gt({upsert:Sx.upsert},i),p=Gt(Gt({},s.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",f.cacheControl)):(h=t,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType),{data:{path:o,fullPath:(await nv(s.fetch,l.toString(),h,{headers:p})).Key},error:null}}catch(h){if(s.shouldThrowOnError)throw h;if(Tn(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(r,e){var t=this;try{let i=t._getFinalPath(r);const s=Gt({},t.headers);e?.upsert&&(s["x-upsert"]="true");const o=await Zs(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(t.url+o.url),l=c.searchParams.get("token");if(!l)throw new U0("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:l},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var i=this;try{return{data:await Zs(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}}async copy(r,e,t){var i=this;try{return{data:{path:(await Zs(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}}async createSignedUrl(r,e,t){var i=this;try{let s=i._getFinalPath(r),o=await Zs(i.fetch,`${i.url}/object/sign/${s}`,Gt({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:i.headers});const c=t?.download?`&download=${t.download===!0?"":t.download}`:"";return o={signedUrl:encodeURI(`${i.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}}async createSignedUrls(r,e,t){var i=this;try{const s=await Zs(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:r},{headers:i.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{data:s.map(c=>Gt(Gt({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}}download(r,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",o=this._getFinalPath(r),c=()=>td(this.fetch,`${this.url}/${t}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new FO(c,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:rv(await td(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await UO(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Tn(i)&&i instanceof tv){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,e){const t=this._getFinalPath(r),i=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const o=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${l}`)}}}async remove(r){var e=this;try{return{data:await Qv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async list(r,e,t){var i=this;try{const s=Gt(Gt(Gt({},zO),e),{},{prefix:r||""});return{data:await Zs(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},t),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Tn(s))return{data:null,error:s};throw s}}async listV2(r,e){var t=this;try{const i=Gt({},r);return{data:await Zs(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const Y4="2.88.0",X4={"X-Client-Info":`storage-js/${Y4}`};var HO=class{constructor(r,e={},t,i){this.shouldThrowOnError=!1;const s=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Gt(Gt({},X4),e),this.fetch=Zv(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await td(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await td(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await Zs(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}async updateBucket(r,e){var t=this;try{return{data:await nv(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Tn(i))return{data:null,error:i};throw i}}async emptyBucket(r){var e=this;try{return{data:await Zs(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Qv(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},$O=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Gt(Gt({},X4),e),this.fetch=Zv(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Zs(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;r?.limit!==void 0&&t.set("limit",r.limit.toString()),r?.offset!==void 0&&t.set("offset",r.offset.toString()),r?.sortColumn&&t.set("sortColumn",r.sortColumn),r?.sortOrder&&t.set("sortOrder",r.sortOrder),r?.search&&t.set("search",r.search);const i=t.toString(),s=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await td(e.fetch,s,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Qv(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tn(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!LO(r))throw new U0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new TO({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(s,o){const c=s[o];return typeof c!="function"?c:async(...l)=>{try{return{data:await c.apply(s,l),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const eb={"X-Client-Info":`storage-js/${Y4}`,"Content-Type":"application/json"};var J4=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ka(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var ny=class extends J4{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},GO=class extends J4{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const tb=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),WO=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ax=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),VO=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const i=r.status||500,s=r;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||i+"";e(new ny(Ax(o),i,c))}).catch(()=>{const o=i+"";e(new ny(s.statusText||`HTTP ${i} error`,i,o))});else{const o=i+"";e(new ny(s.statusText||`HTTP ${i} error`,i,o))}}else e(new GO(Ax(r),r))},KO=(r,e,t,i)=>{const s={method:r,headers:e?.headers||{}};return i?(WO(i)?(s.headers=Gt({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(i)):s.body=i,Gt(Gt({},s),t)):s};async function YO(r,e,t,i,s,o){return new Promise((c,l)=>{r(t,KO(e,i,s,o)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>VO(h,l,i))})}async function Ya(r,e,t,i,s){return YO(r,"POST",e,i,s,t)}var XO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Gt(Gt({},eb),e),this.fetch=tb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ka(i))return{data:null,error:i};throw i}}async listIndexes(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await Ya(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Ka(i))return{data:null,error:i};throw i}}},JO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Gt(Gt({},eb),e),this.fetch=tb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ya(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Ya(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ya(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}},ZO=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Gt(Gt({},eb),e),this.fetch=tb(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Ya(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ka(t))return{data:null,error:t};throw t}}},QO=class extends ZO{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new eL(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},eL=class extends XO{constructor(r,e,t,i){super(r,e,i),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new tL(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},tL=class extends JO{constructor(r,e,t,i,s){super(r,e,s),this.vectorBucketName=t,this.indexName=i}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,Gt(Gt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},rL=class extends HO{constructor(r,e={},t,i){super(r,e,t,i)}from(r){return new qO(this.url,this.headers,r,this.fetch)}get vectors(){return new QO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $O(this.url+"/iceberg",this.headers,this.fetch)}};const Z4="2.88.0",gh=30*1e3,iv=3,iy=iv*gh,nL="http://localhost:9999",iL="supabase.auth.token",aL={"X-Client-Info":`gotrue-js/${Z4}`},av="X-Supabase-Api-Version",Q4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oL=600*1e3;class rd extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function jt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class lL extends rd{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function uL(r){return jt(r)&&r.name==="AuthApiError"}class Wu extends rd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class xl extends rd{constructor(e,t,i,s){super(e,i,s),this.name=t,this.status=i}}class Wa extends xl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cL(r){return jt(r)&&r.name==="AuthSessionMissingError"}class sh extends xl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rp extends xl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cp extends xl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hL(r){return jt(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ex extends xl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fL extends xl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sv extends xl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ay(r){return jt(r)&&r.name==="AuthRetryableFetchError"}class kx extends xl{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class ov extends xl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nx=` 	
\r=`.split(""),dL=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Nx.length;e+=1)r[Nx[e].charCodeAt(0)]=-2;for(let e=0;e<u0.length;e+=1)r[u0[e].charCodeAt(0)]=e;return r})();function Tx(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(u0[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(u0[i]),e.queuedBits-=6}}function e6(r,e,t){const i=dL[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Rx(r){const e=[],t=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{gL(c,i,t)};for(let c=0;c<r.length;c+=1)e6(r.charCodeAt(c),s,o);return e.join("")}function pL(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function mL(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}pL(i,e)}}function gL(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Nh(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)e6(r.charCodeAt(s),t,i);return new Uint8Array(e)}function yL(r){const e=[];return mL(r,t=>e.push(t)),new Uint8Array(e)}function Ju(r){const e=[],t={queue:0,queuedBits:0},i=s=>{e.push(s)};return r.forEach(s=>Tx(s,t,i)),Tx(null,t,i),e.join("")}function vL(r){return Math.round(Date.now()/1e3)+r}function bL(){return Symbol("auth-callback")}const qi=()=>typeof window<"u"&&typeof document<"u",zu={tested:!1,writable:!1},t6=()=>{if(!qi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zu.tested)return zu.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),zu.tested=!0,zu.writable=!0}catch{zu.tested=!0,zu.writable=!1}return zu.writable};function wL(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((i,s)=>{e[s]=i}),e}const r6=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),_L=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",yh=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},qu=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},zi=async(r,e)=>{await r.removeItem(e)};class M0{constructor(){this.promise=new M0.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}M0.promiseConstructor=Promise;function sy(r){const e=r.split(".");if(e.length!==3)throw new ov("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!sL.test(e[i]))throw new ov("JWT not in base64url format");return{header:JSON.parse(Rx(e[0])),payload:JSON.parse(Rx(e[1])),signature:Nh(e[2]),raw:{header:e[0],payload:e[1]}}}async function xL(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function SL(r,e){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await r(o);if(!e(o,null,c)){i(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function AL(r){return("0"+r.toString(16)).substr(-2)}function EL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,AL).join("")}async function kL(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function NL(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await kL(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oh(r,e,t=!1){const i=EL();let s=i;t&&(s+="/PASSWORD_RECOVERY"),await yh(r,`${e}-code-verifier`,s);const o=await NL(i);return[o,i===o?"plain":"s256"]}const TL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RL(r){const e=r.headers.get(av);if(!e||!e.match(TL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CL(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function OL(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lh(r){if(!LL.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oy(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jL(r,e){return new Proxy(r,{get:(t,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,s)}})}function Cx(r){return JSON.parse(JSON.stringify(r))}const Hu=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),PL=[502,503,504];async function Ox(r){var e;if(!_L(r))throw new sv(Hu(r),0);if(PL.includes(r.status))throw new sv(Hu(r),r.status);let t;try{t=await r.json()}catch(o){throw new Wu(Hu(o),o)}let i;const s=RL(r);if(s&&s.getTime()>=Q4["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new kx(Hu(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Wa}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new kx(Hu(t),r.status,t.weak_password.reasons);throw new lL(Hu(t),r.status||500,i)}const DL=(r,e,t,i)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),t))};async function $t(r,e,t,i){var s;const o=Object.assign({},i?.headers);o[av]||(o[av]=Q4["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const c=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const l=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await BL(r,e,t+l,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function BL(r,e,t,i,s,o){const c=DL(e,i,s,o);let l;try{l=await r(t,Object.assign({},c))}catch(h){throw console.error(h),new sv(Hu(h),0)}if(l.ok||await Ox(l),i?.noResolveJson)return l;try{return await l.json()}catch(h){await Ox(h)}}function Js(r){var e;let t=null;ML(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=vL(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function Lx(r){const e=Js(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function lu(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function IL(r){return{data:r,error:null}}function UL(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o}=r,c=I0(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:i,redirect_to:s,verification_type:o},h=Object.assign({},c);return{data:{properties:l,user:h},error:null}}function jx(r){return r}function ML(r){return r.access_token&&r.refresh_token&&r.expires_in}const ly=["global","local","others"];class FL{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=r6(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=ly[0]){if(ly.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ly.join(", ")}`);try{return await $t(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(jt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await $t(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:lu})}catch(i){if(jt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=I0(e,["options"]),s=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await $t(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:UL,redirectTo:t?.redirectTo})}catch(t){if(jt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $t(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lu})}catch(t){if(jt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,s,o,c,l,h;try{const f={nextPage:null,lastPage:0,total:0},p=await $t(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:jx});if(p.error)throw p.error;const y=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,m=(h=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&h!==void 0?h:[];return m.length>0&&(m.forEach(A=>{const _=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(jt(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){lh(e);try{return await $t(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lu})}catch(t){if(jt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){lh(e);try{return await $t(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:lu})}catch(i){if(jt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){lh(e);try{return await $t(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:lu})}catch(i){if(jt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){lh(e.userId);try{const{data:t,error:i}=await $t(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:i}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){lh(e.userId),lh(e.id);try{return{data:await $t(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,s,o,c,l,h;try{const f={nextPage:null,lastPage:0,total:0},p=await $t(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:jx});if(p.error)throw p.error;const y=await p.json(),b=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,m=(h=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&h!==void 0?h:[];return m.length>0&&(m.forEach(A=>{const _=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);f[`${E}Page`]=_}),f.total=parseInt(b)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(jt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await $t(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await $t(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await $t(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(jt(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await $t(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await $t(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}}function Px(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const uh={debug:!!(globalThis&&t6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zL extends n6{}async function qL(r,e,t){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),uh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new zL(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(uh.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function HL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function i6(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function $L(r){return parseInt(r,16)}function GL(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function WL(r){var e;const{chainId:t,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:l,requestId:h,resources:f,scheme:p,uri:y,version:b}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const m=i6(r.address),A=p?`${p}://${i}`:i,_=r.statement?`${r.statement}
`:"",E=`${A} wants you to sign in with your Ethereum account:
${m}

${_}`;let v=`URI: ${y}
Version: ${b}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),h&&(v+=`
Request ID: ${h}`),f){let C=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);C+=`
- ${N}`}v+=C}return`${E}
${v}`}class ai extends Error{constructor({message:e,code:t,cause:i,name:s}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class c0 extends ai{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function VL({error:r,options:e}){var t,i,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ai({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ai({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ai({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ai({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new ai({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new ai({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ai({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new ai({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(a6(c)){if(o.rp.id!==c)return new ai({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ai({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function KL({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ai({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new ai({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(a6(i)){if(t.rpId!==i)return new ai({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ai({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new ai({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ai({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class YL{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XL=new YL;function JL(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,s=I0(r,["challenge","user","excludeCredentials"]),o=Nh(e).buffer,c=Object.assign(Object.assign({},t),{id:Nh(t.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:c});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];l.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:Nh(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function ZL(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=I0(r,["challenge","allowCredentials"]),s=Nh(e).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const l=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},l),{id:Nh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function QL(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ju(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ju(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ej(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),s=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ju(new Uint8Array(s.authenticatorData)),clientDataJSON:Ju(new Uint8Array(s.clientDataJSON)),signature:Ju(new Uint8Array(s.signature)),userHandle:s.userHandle?Ju(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a6(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Dx(){var r,e;return!!(qi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function tj(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new c0("Browser returned unexpected credential type",e)}:{data:null,error:new c0("Empty credential response",e)}}catch(e){return{data:null,error:VL({error:e,options:r})}}}async function rj(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new c0("Browser returned unexpected credential type",e)}:{data:null,error:new c0("Empty credential response",e)}}catch(e){return{data:null,error:KL({error:e,options:r})}}}const nj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ij={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function h0(...r){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),t=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of r)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))i[o]=c;else if(t(c))i[o]=c;else if(e(c)){const l=i[o];e(l)?i[o]=h0(l,c):i[o]=h0(c)}else i[o]=c}return i}function aj(r,e){return h0(nj,r,e||{})}function sj(r,e){return h0(ij,r,e||{})}class oj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:s},o){try{const{data:c,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:l};const h=s??XL.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${i}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=aj(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:y}=await tj({publicKey:f,signal:h});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const f=sj(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:y}=await rj(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(c){return jt(c)?{data:null,error:c}:{data:null,error:new Wu("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new rd("rpId is required for WebAuthn authentication")};try{if(!Dx())return{data:null,error:new Wu("Browser does not support WebAuthn",null)};const{data:c,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:s},{request:o});if(!c)return{data:null,error:l};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return jt(c)?{data:null,error:c}:{data:null,error:new Wu("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!t)return{data:null,error:new rd("rpId is required for WebAuthn registration")};try{if(!Dx())return{data:null,error:new Wu("Browser does not support WebAuthn",null)};const{data:c,error:l}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:s},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return jt(c)?{data:null,error:c}:{data:null,error:new Wu("Unexpected error in register",c)}}}}HL();const lj={url:nL,storageKey:iL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bx(r,e,t){return await t()}const ch={};class nd{get jwks(){var e,t;return(t=(e=ch[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ch[this.storageKey]=Object.assign(Object.assign({},ch[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ch[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ch[this.storageKey]=Object.assign(Object.assign({},ch[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},lj),e);if(this.storageKey=o.storageKey,this.instanceID=(t=nd.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,nd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&qi()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new FL({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=r6(o.fetch),this.lock=o.lock||Bx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&qi()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=qL:this.lock=Bx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:t6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Px(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Px(this.memoryStorage)),qi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Z4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(qi()&&(t=wL(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),qi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),hL(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",l),await this._saveSession(c),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return jt(t)?this._returnResult({error:t}):this._returnResult({error:new Wu("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,s;try{const o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Js}),{data:c,error:l}=o;if(l||!c)return this._returnResult({data:{user:null,session:null},error:l});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(jt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,i,s;try{let o;if("email"in e){const{email:p,password:y,options:b}=e;let m=null,A=null;this.flowType==="pkce"&&([m,A]=await oh(this.storage,this.storageKey)),o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:p,password:y,data:(t=b?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:m,code_challenge_method:A},xform:Js})}else if("phone"in e){const{phone:p,password:y,options:b}=e;o=await $t(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},channel:(s=b?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Js})}else throw new Rp("You must provide either an email or phone number and a password");const{data:c,error:l}=o;if(l||!c)return await zi(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:l}=e;t=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Lx})}else if("phone"in e){const{phone:o,password:c,options:l}=e;t=await $t(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Lx})}else throw new Rp("You must provide either an email or phone number and a password");const{data:i,error:s}=t;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new sh;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,s,o,c,l,h,f,p,y,b;let m,A;if("message"in e)m=e.message,A=e.signature;else{const{chain:_,wallet:E,statement:v,options:C}=e;let N;if(qi())if(typeof E=="object")N=E;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")N=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=E}const S=new URL((t=C?.url)!==null&&t!==void 0?t:window.location.href),D=await N.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=i6(D[0]);let $=(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!$){const P=await N.request({method:"eth_chainId"});$=$L(P)}const ee={domain:S.host,address:K,statement:v,uri:S.href,version:"1",chainId:$,nonce:(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=C?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.resources};m=WL(ee),A=await N.request({method:"personal_sign",params:[GL(m),K]})}try{const{data:_,error:E}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:A},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Js});if(E)throw E;if(!_||!_.session||!_.user){const v=new sh;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(jt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var t,i,s,o,c,l,h,f,p,y,b,m;let A,_;if("message"in e)A=e.message,_=e.signature;else{const{chain:E,wallet:v,statement:C,options:N}=e;let S;if(qi())if(typeof v=="object")S=v;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))S=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const D=new URL((t=N?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in S&&S.signIn){const K=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),C?{statement:C}:null));let $;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")$=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)$=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)A=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),_=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${D.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(i=N?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=N?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((h=N?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((y=(p=N?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...N.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const K=await S.signMessage(new TextEncoder().encode(A),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=K}}try{const{data:E,error:v}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Ju(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Js});if(v)throw v;if(!E||!E.session||!E.user){const C=new sh;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:v})}catch(E){if(jt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await qu(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new fL;const{data:o,error:c}=await $t(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Js});if(await zi(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const l=new sh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:s,access_token:o,nonce:c}=e,l=await $t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Js}),{data:h,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const p=new sh;return this._returnResult({data:{user:null,session:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,s,o,c;try{if("email"in e){const{email:l,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await oh(this.storage,this.storageKey));const{error:y}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:l,options:h}=e,{data:f,error:p}=await $t(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Rp("You must provide either an email or phone number.")}catch(l){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,i;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:l}=await $t(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Js});if(l)throw l;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(s){if(jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var t,i,s,o,c;try{let l=null,h=null;this.flowType==="pkce"&&([l,h]=await oh(this.storage,this.storageKey));const f=await $t(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:h}),headers:this.headers,xform:IL});return!((o=f.data)===null||o===void 0)&&o.url&&qi()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Wa;const{error:s}=await $t(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(jt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:o}=e,{error:c}=await $t(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:s,options:o}=e,{data:c,error:l}=await $t(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:l})}throw new Rp("You must provide either an email or phone number and a type")}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await qu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<iy:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await qu(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=oy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=jL(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lu}):await this._useSession(async t=>{var i,s,o;const{data:c,error:l}=t;if(l)throw l;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wa}:await $t(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:lu})})}catch(t){if(jt(t))return cL(t)&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Wa;const c=s.session;let l=null,h=null;this.flowType==="pkce"&&e.email!=null&&([l,h]=await oh(this.storage,this.storageKey));const{data:f,error:p}=await $t(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:h}),jwt:c.access_token,xform:lu});if(p)throw p;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wa;const t=Date.now()/1e3;let i=t,s=!0,o=null;const{payload:c}=sy(e.access_token);if(c.exp&&(i=c.exp,s=i<=t),s){const{data:l,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(jt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:c,error:l}=t;if(l)throw l;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Wa;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!qi())throw new Cp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cp("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ex("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:l,expires_at:h,token_type:f}=e;if(!o||!l||!c||!f)throw new Cp("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(l);let b=p+y;h&&(b=parseInt(h));const m=b-p;m*1e3<=gh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${y}s`);const A=b-y;p-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,b,p):p-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,b,p);const{data:_,error:E}=await this._getUser(o);if(E)throw E;const v={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:b,refresh_token:c,token_type:f,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(i){if(jt(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await qu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return this._returnResult({error:o});const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:l}=await this.admin.signOut(c,e);if(l&&!(uL(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=bL(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,s;try{const{data:{session:o},error:c}=t;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await oh(this.storage,this.storageKey,!0));try{return await $t(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:s}=await this._useSession(async o=>{var c,l,h,f,p;const{data:y,error:b}=o;if(b)throw b;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await $t(this.fetch,"GET",m,{headers:this.headers,jwt:(p=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return qi()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(jt(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:s,data:{session:o}}=t;if(s)throw s;const{options:c,provider:l,token:h,access_token:f,nonce:p}=e,y=await $t(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:h,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Js}),{data:b,error:m}=y;return m?this._returnResult({data:{user:null,session:null},error:m}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new sh}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:m}))}catch(s){if(await zi(this.storage,`${this.storageKey}-code-verifier`),jt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:c}=t;if(c)throw c;return await $t(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await SL(async s=>(s>0&&await xL(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await $t(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Js})),(s,o)=>{const c=200*Math.pow(2,s);return o&&ay(o)&&Date.now()+c-i<gh})}catch(i){if(this._debug(t,"error",i),jt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),qi()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await qu(this.storage,this.storageKey);if(s&&this.userStorage){let c=await qu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await yh(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:oy()}else if(s&&!s.user&&!s.user){const c=await qu(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await zi(this.storage,this.storageKey+"-user"),await yh(this.storage,this.storageKey,s)):s.user=oy()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<iy;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${iy}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),ay(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:l}=await this._getUser(s.access_token);!l&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new M0;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Wa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),jt(o)){const c={data:null,error:o};return ay(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zi(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await yh(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const o=Cx(s);await yh(this.storage,this.storageKey,o)}else{const s=Cx(t);await yh(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zi(this.storage,this.storageKey),await zi(this.storage,this.storageKey+"-code-verifier"),await zi(this.storage,this.storageKey+"-user"),this.userStorage&&await zi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&qi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gh);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/gh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gh}ms, refresh threshold is ${iv} ticks`),s<=iv&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof n6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const s=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,c]=await oh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(l.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;return o?this._returnResult({data:null,error:o}):await $t(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,s;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await $t(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QL(e.webauthn.credential_response):ej(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:h}=await $t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:h}))})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:s,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await $t(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:l}=c;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JL(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ZL(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=sy(i.access_token);let c=null;o.aal&&(c=o.aal);let l=c;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?await $t(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wa})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wa});const c=await $t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return c.data&&c.data.redirect_url&&qi()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(jt(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wa});const c=await $t(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return c.data&&c.data.redirect_url&&qi()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(jt(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await $t(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Wa})})}catch(e){if(jt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:s}=t;return s?this._returnResult({data:null,error:s}):i?(await $t(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wa})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(l=>l.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+oL>s)return i;const{data:o,error:c}=await $t(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:m,error:A}=await this.getSession();if(A||!m.session)return this._returnResult({data:null,error:A});i=m.session.access_token}const{header:s,payload:o,signature:c,raw:{header:l,payload:h}}=sy(i);t?.allowExpired||CL(o.exp);const f=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:m}=await this.getUser(i);if(m)throw m;return{data:{claims:o,header:s,signature:c},error:null}}const p=OL(s.alg),y=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,c,yL(`${l}.${h}`)))throw new ov("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(i){if(jt(i))return this._returnResult({data:null,error:i});throw i}}}nd.nextInstanceID={};const uj=nd,cj="2.88.0";let qf="";typeof Deno<"u"?qf="deno":typeof document<"u"?qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qf="react-native":qf="node";const hj={"X-Client-Info":`supabase-js-${qf}/${cj}`},fj={headers:hj},dj={schema:"public"},pj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mj={};function id(r){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(r)}function gj(r,e){if(id(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(id(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yj(r){var e=gj(r,"string");return id(e)=="symbol"?e:e+""}function vj(r,e,t){return(e=yj(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ix(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function zn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(t),!0).forEach(function(i){vj(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ix(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const bj=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),wj=()=>Headers,_j=(r,e,t)=>{const i=bj(t),s=wj();return async(o,c)=>{var l;const h=(l=await e())!==null&&l!==void 0?l:r;let f=new s(c?.headers);return f.has("apikey")||f.set("apikey",r),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(o,zn(zn({},c),{},{headers:f}))}};function xj(r){return r.endsWith("/")?r:r+"/"}function Sj(r,e){var t,i;const{db:s,auth:o,realtime:c,global:l}=r,{db:h,auth:f,realtime:p,global:y}=e,b={db:zn(zn({},h),s),auth:zn(zn({},f),o),realtime:zn(zn({},p),c),storage:{},global:zn(zn(zn({},y),l),{},{headers:zn(zn({},(t=y?.headers)!==null&&t!==void 0?t:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?b.accessToken=r.accessToken:delete b.accessToken,b}function Aj(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ej=class extends uj{constructor(r){super(r)}},kj=class{constructor(r,e,t){var i,s;this.supabaseUrl=r,this.supabaseKey=e;const o=Aj(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:dj,realtime:mj,auth:zn(zn({},pj),{},{storageKey:c}),global:fj},h=Sj(t??{},l);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=_j(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(zn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new aO(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new rL(this.storageUrl.href,this.headers,this.fetch,t?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new eO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:s,storageKey:o,flowType:c,lock:l,debug:h,throwOnError:f},p,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ej({url:this.authUrl.href,headers:zn(zn({},b),p),storageKey:o,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:s,flowType:c,lock:l,debug:h,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new xO(this.realtimeUrl.href,zn(zn({},r),{},{params:zn(zn({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const F0=(r,e,t)=>new kj(r,e,t);function Nj(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Nj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var f0={};function Ux(r,{persistSession:e=!1}={}){return F0(f0.NEXT_PUBLIC_SUPABASE_URL,f0.NEXT_PUBLIC_SUPABASE_ANON_KEY,{auth:{persistSession:e},global:{headers:{Authorization:r||""}}})}function Tj(r){return F0(f0.NEXT_PUBLIC_SUPABASE_URL,f0.NEXT_PUBLIC_SUPABASE_ANON_KEY,{auth:{persistSession:!1},global:{headers:{Authorization:`Bearer ${r}`}}})}function d0({isOpen:r,onClose:e,transcript:t,setTranscript:i,soapSubjective:s,setSoapSubjective:o,soapObjective:c,setSoapObjective:l,soapAssessment:h,setSoapAssessment:f,soapPlan:p,setSoapPlan:y,billingSuggestion:b,setBillingSuggestion:m,patientEncounterName:A,setPatientEncounterName:_,onSave:E,isSaving:v,errorMessage:C,sections:N=["transcript","soapNote","billingSuggestion"],isPatientEncounterNameEditable:S=!0}){const[D,K]=Ne.useState(N[0]),$=Ne.useRef(null),ee=Ne.useRef(null),P=Ne.useRef(null),fe=Ne.useRef(null),re=Ne.useRef(null),B=Ne.useRef(null),L=[{key:"transcript",label:"Transcript"},{key:"soapNote",label:"SOAP Note"},{key:"billingSuggestion",label:"Billing Suggestion"}].filter(W=>N.includes(W.key)),se=Object.fromEntries(L.map(W=>[W.key,!1])),[ie,Z]=Ne.useState(se);Ne.useEffect(()=>{[$,B,ee,P,fe,re].forEach(R=>{R.current&&(R.current.style.height="auto",R.current.style.height=R.current.scrollHeight+"px")})},[t,b,s,c,h,p]);const pe=()=>{if(Z(R=>({...R,[D]:!0})),D==="billingSuggestion"){const R=L.find(G=>!ie[G.key]);if(R&&R.key!=="billingSuggestion"){K(R.key);return}E();return}const W=L.findIndex(R=>R.key===D);W<L.length-1?K(L[W+1].key):E()},ye=()=>{if(D==="billingSuggestion"){const R=L.find(G=>!ie[G.key]);return R&&R.key!=="billingSuggestion"?`Next: ${L.find(G=>G.key===R.key).label}`:"Save"}const W=L.findIndex(R=>R.key===D);return W<L.length-1?`Next: ${L[W+1].label}`:"Save"},Te=()=>{K(L[0]?.key||"transcript"),Z(se),e()};return r?H.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[H.jsx("div",{className:"absolute inset-0 bg-black opacity-50",style:{cursor:"pointer"},onClick:Te}),H.jsxs("div",{className:"relative bg-white rounded-lg h-[85vh] flex flex-col",style:{width:"97vw",maxWidth:"2000px",marginTop:"7rem",marginBottom:"5rem"},onClick:W=>W.stopPropagation(),children:[H.jsxs("div",{className:"flex items-center justify-between p-6",children:[H.jsx("h2",{className:"text-2xl font-bold",children:"Review Changes:"}),H.jsx("button",{onClick:Te,className:"text-gray-500 hover:text-gray-700 text-5xl",children:""})]}),H.jsx("div",{className:"overflow-x-auto whitespace-nowrap px-0.5 pt-2 border-b border-gray-400",children:H.jsx("div",{className:"flex w-full",children:L.map(W=>H.jsx("button",{onClick:()=>K(W.key),className:`flex-1 min-w-50 px-6 py-3 text-center font-medium transition-colors
          border border-gray-400 rounded-t-2xl
          ${D===W.key?"bg-white text-blue-700 border-b-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}
          ${ie[W.key]?"font-semibold":""}
        `,style:{marginBottom:"-1px",zIndex:D===W.key?10:1},children:H.jsxs("span",{className:"flex items-center justify-center gap-2",children:[W.label,ie[W.key]&&H.jsx("span",{className:"text-green-500",children:""})]})},W.key))})}),H.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row h-0 min-h-0",children:[H.jsx("div",{className:"flex-1 p-6  h-full overflow-y-auto min-w-0",children:H.jsxs("div",{className:"h-full",children:[D==="transcript"&&N.includes("transcript")&&H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800 mb-10",style:{minHeight:"10rem",fontFamily:"sans-serif"},children:t}),D==="soapNote"&&N.includes("soapNote")&&H.jsxs("div",{className:"flex flex-col gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subjective"}),H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800",style:{minHeight:"4rem",fontFamily:"sans-serif"},children:s})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objective"}),H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800",style:{minHeight:"4rem",fontFamily:"sans-serif"},children:c})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assessment"}),H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800",style:{minHeight:"4rem",fontFamily:"sans-serif"},children:h})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan"}),H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800 mb-10",style:{minHeight:"4rem",fontFamily:"sans-serif"},children:p})]})]}),D==="billingSuggestion"&&N.includes("billingSuggestion")&&H.jsx("pre",{className:"w-full whitespace-pre-wrap bg-gray-50 rounded-lg px-3 py-2 border text-gray-800 mb-10",style:{minHeight:"10rem",fontFamily:"sans-serif"},children:b}),H.jsx("div",{className:"h-0.5"})]})}),H.jsxs("div",{className:"w-full lg:w-80 p-6 flex flex-col bg-gray-50 border-l border-black",children:[H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Patient Encounter Name"}),H.jsx("input",{type:"text",value:A,onChange:W=>_(W.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter patient encounter name",disabled:v||!S})]}),H.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[H.jsx("button",{onClick:pe,disabled:v,className:`w-full px-6 py-3 rounded-lg font-medium bg-green-600 hover:bg-green-700 text-white ${v?"opacity-50 cursor-not-allowed":""}`,children:v?"Saving...":ye()}),C&&H.jsx("div",{className:"mt-3 text-red-600 text-sm",children:C})]})]})]})]})]}):null}const Rj="modulepreload",Cj=function(r){return"/"+r},Mx={},uy=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let h=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=h(t.map(f=>{if(f=Cj(f),f in Mx)return;Mx[f]=!0;const p=f.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":Rj,p||(b.as="script"),b.crossOrigin="",b.href=f,l&&b.setAttribute("nonce",l),document.head.appendChild(b),p)return new Promise((m,A)=>{b.addEventListener("load",m),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};function $r(r){"@babel/helpers - typeof";return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(r)}var io=Uint8Array,Xa=Uint16Array,rb=Int32Array,nb=new io([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ib=new io([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fx=new io([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s6=function(r,e){for(var t=new Xa(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var s=new rb(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)s[o]=o-t[i]<<5|i;return{b:t,r:s}},o6=s6(nb,2),Oj=o6.b,lv=o6.r;Oj[28]=258,lv[258]=28;var Lj=s6(ib,0),zx=Lj.r,uv=new Xa(32768);for(var gn=0;gn<32768;++gn){var nu=(gn&43690)>>1|(gn&21845)<<1;nu=(nu&52428)>>2|(nu&13107)<<2,nu=(nu&61680)>>4|(nu&3855)<<4,uv[gn]=((nu&65280)>>8|(nu&255)<<8)>>1}var Kf=(function(r,e,t){for(var i=r.length,s=0,o=new Xa(e);s<i;++s)r[s]&&++o[r[s]-1];var c=new Xa(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var l;if(t){l=new Xa(1<<e);var h=15-e;for(s=0;s<i;++s)if(r[s])for(var f=s<<4|r[s],p=e-r[s],y=c[r[s]-1]++<<p,b=y|(1<<p)-1;y<=b;++y)l[uv[y]>>h]=f}else for(l=new Xa(i),s=0;s<i;++s)r[s]&&(l[s]=uv[c[r[s]-1]++]>>15-r[s]);return l}),ac=new io(288);for(var gn=0;gn<144;++gn)ac[gn]=8;for(var gn=144;gn<256;++gn)ac[gn]=9;for(var gn=256;gn<280;++gn)ac[gn]=7;for(var gn=280;gn<288;++gn)ac[gn]=8;var p0=new io(32);for(var gn=0;gn<32;++gn)p0[gn]=5;var jj=Kf(ac,9,0),Pj=Kf(p0,5,0),l6=function(r){return(r+7)/8|0},Dj=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new io(r.subarray(e,t))},dl=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},Uf=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},cy=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var s=t.length,o=t.slice();if(!s)return{t:c6,l:0};if(s==1){var c=new io(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(D,K){return D.f-K.f}),t.push({s:-1,f:25001});var l=t[0],h=t[1],f=0,p=1,y=2;for(t[0]={s:-1,f:l.f+h.f,l,r:h};p!=s-1;)l=t[t[f].f<t[y].f?f++:y++],h=t[f!=p&&t[f].f<t[y].f?f++:y++],t[p++]={s:-1,f:l.f+h.f,l,r:h};for(var b=o[0].s,i=1;i<s;++i)o[i].s>b&&(b=o[i].s);var m=new Xa(b+1),A=cv(t[p-1],m,0);if(A>e){var i=0,_=0,E=A-e,v=1<<E;for(o.sort(function(K,$){return m[$.s]-m[K.s]||K.f-$.f});i<s;++i){var C=o[i].s;if(m[C]>e)_+=v-(1<<A-m[C]),m[C]=e;else break}for(_>>=E;_>0;){var N=o[i].s;m[N]<e?_-=1<<e-m[N]++-1:++i}for(;i>=0&&_;--i){var S=o[i].s;m[S]==e&&(--m[S],++_)}A=e}return{t:new io(m),l:A}},cv=function(r,e,t){return r.s==-1?Math.max(cv(r.l,e,t+1),cv(r.r,e,t+1)):e[r.s]=t},qx=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xa(++e),i=0,s=r[0],o=1,c=function(h){t[i++]=h},l=1;l<=e;++l)if(r[l]==s&&l!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=r[l]}return{c:t.subarray(0,i),n:e}},Mf=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},u6=function(r,e,t){var i=t.length,s=l6(e+2);r[s]=i&255,r[s+1]=i>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<i;++o)r[s+o+4]=t[o];return(s+4+i)*8},Hx=function(r,e,t,i,s,o,c,l,h,f,p){dl(e,p++,t),++s[256];for(var y=cy(s,15),b=y.t,m=y.l,A=cy(o,15),_=A.t,E=A.l,v=qx(b),C=v.c,N=v.n,S=qx(_),D=S.c,K=S.n,$=new Xa(19),ee=0;ee<C.length;++ee)++$[C[ee]&31];for(var ee=0;ee<D.length;++ee)++$[D[ee]&31];for(var P=cy($,7),fe=P.t,re=P.l,B=19;B>4&&!fe[Fx[B-1]];--B);var J=f+5<<3,L=Mf(s,ac)+Mf(o,p0)+c,se=Mf(s,b)+Mf(o,_)+c+14+3*B+Mf($,fe)+2*$[16]+3*$[17]+7*$[18];if(h>=0&&J<=L&&J<=se)return u6(e,p,r.subarray(h,h+f));var ie,Z,pe,ye;if(dl(e,p,1+(se<L)),p+=2,se<L){ie=Kf(b,m,0),Z=b,pe=Kf(_,E,0),ye=_;var Te=Kf(fe,re,0);dl(e,p,N-257),dl(e,p+5,K-1),dl(e,p+10,B-4),p+=14;for(var ee=0;ee<B;++ee)dl(e,p+3*ee,fe[Fx[ee]]);p+=3*B;for(var W=[C,D],R=0;R<2;++R)for(var G=W[R],ee=0;ee<G.length;++ee){var X=G[ee]&31;dl(e,p,Te[X]),p+=fe[X],X>15&&(dl(e,p,G[ee]>>5&127),p+=G[ee]>>12)}}else ie=jj,Z=ac,pe=Pj,ye=p0;for(var ee=0;ee<l;++ee){var ce=i[ee];if(ce>255){var X=ce>>18&31;Uf(e,p,ie[X+257]),p+=Z[X+257],X>7&&(dl(e,p,ce>>23&31),p+=nb[X]);var ae=ce&31;Uf(e,p,pe[ae]),p+=ye[ae],ae>3&&(Uf(e,p,ce>>5&8191),p+=ib[ae])}else Uf(e,p,ie[ce]),p+=Z[ce]}return Uf(e,p,ie[256]),p+Z[256]},Bj=new rb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c6=new io(0),Ij=function(r,e,t,i,s,o){var c=o.z||r.length,l=new io(i+c+5*(1+Math.ceil(c/7e3))+s),h=l.subarray(i,l.length-s),f=o.l,p=(o.r||0)&7;if(e){p&&(h[0]=o.r>>3);for(var y=Bj[e-1],b=y>>13,m=y&8191,A=(1<<t)-1,_=o.p||new Xa(32768),E=o.h||new Xa(A+1),v=Math.ceil(t/3),C=2*v,N=function(z){return(r[z]^r[z+1]<<v^r[z+2]<<C)&A},S=new rb(25e3),D=new Xa(288),K=new Xa(32),$=0,ee=0,P=o.i||0,fe=0,re=o.w||0,B=0;P+2<c;++P){var J=N(P),L=P&32767,se=E[J];if(_[L]=se,E[J]=L,re<=P){var ie=c-P;if(($>7e3||fe>24576)&&(ie>423||!f)){p=Hx(r,h,0,S,D,K,ee,fe,B,P-B,p),fe=$=ee=0,B=P;for(var Z=0;Z<286;++Z)D[Z]=0;for(var Z=0;Z<30;++Z)K[Z]=0}var pe=2,ye=0,Te=m,W=L-se&32767;if(ie>2&&J==N(P-W))for(var R=Math.min(b,ie)-1,G=Math.min(32767,P),X=Math.min(258,ie);W<=G&&--Te&&L!=se;){if(r[P+pe]==r[P+pe-W]){for(var ce=0;ce<X&&r[P+ce]==r[P+ce-W];++ce);if(ce>pe){if(pe=ce,ye=W,ce>R)break;for(var ae=Math.min(W,ce-2),I=0,Z=0;Z<ae;++Z){var U=P-W+Z&32767,ne=_[U],oe=U-ne&32767;oe>I&&(I=oe,se=U)}}}L=se,se=_[L],W+=L-se&32767}if(ye){S[fe++]=268435456|lv[pe]<<18|zx[ye];var Q=lv[pe]&31,ue=zx[ye]&31;ee+=nb[Q]+ib[ue],++D[257+Q],++K[ue],re=P+pe,++$}else S[fe++]=r[P],++D[r[P]]}}for(P=Math.max(P,re);P<c;++P)S[fe++]=r[P],++D[r[P]];p=Hx(r,h,f,S,D,K,ee,fe,B,P-B,p),f||(o.r=p&7|h[p/8|0]<<3,p-=7,o.h=E,o.p=_,o.i=P,o.w=re)}else{for(var P=o.w||0;P<c+f;P+=65535){var ke=P+65535;ke>=c&&(h[p/8|0]=f,ke=c),p=u6(h,p+1,r.subarray(P,ke))}o.i=c}return Dj(l,0,i+l6(p)+s)},h6=function(){var r=1,e=0;return{p:function(t){for(var i=r,s=e,o=t.length|0,c=0;c!=o;){for(var l=Math.min(c+2655,o);c<l;++c)s+=i+=t[c];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}r=i,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Uj=function(r,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new io(o.length+r.length);c.set(o),c.set(r,o.length),r=c,s.w=o.length}return Ij(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,s)},f6=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Mj=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=h6();s.p(e.dictionary),f6(r,2,s.d())}};function hv(r,e){e||(e={});var t=h6();t.p(r);var i=Uj(r,e,e.dictionary?6:2,4);return Mj(i,e),f6(i,i.length-4,t.d()),i}var Fj=typeof TextDecoder<"u"&&new TextDecoder,zj=0;try{Fj.decode(c6,{stream:!0}),zj=1}catch{}function qj(r){if(Array.isArray(r))return r}function Hj(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,s,o,c,l=[],h=!0,f=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(h=(i=o.call(t)).done)&&(l.push(i.value),l.length!==e);h=!0);}catch(p){f=!0,s=p}finally{try{if(!h&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw s}}return l}}function $x(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function $j(r,e){if(r){if(typeof r=="string")return $x(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$x(r,e):void 0}}function Gj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gx(r,e){return qj(r)||Hj(r,e)||$j(r,e)||Gj()}function Wx(r,e="utf8"){return new TextDecoder(e).decode(r)}const Wj=new TextEncoder;function Vj(r){return Wj.encode(r)}const Kj=1024*8,Yj=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),hy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ab{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Kj,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let c=s;(ArrayBuffer.isView(e)||e instanceof ab)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+s),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,s=new Uint8Array(i);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=hy[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+i);if(this.littleEndian===Yj&&t!=="uint8"&&t!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+i));l.reverse();const h=new hy[t](l.buffer);return this.offset+=i,h.reverse(),h}const c=new hy[t](o);return this.offset+=i,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return Wx(this.readBytes(e))}decodeText(e=1,t="utf8"){return Wx(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Vj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Wh(r){let e=r.length;for(;--e>=0;)r[e]=0}const Xj=3,Jj=258,d6=29,Zj=256,Qj=Zj+1+d6,p6=30,e9=512,t9=new Array((Qj+2)*2);Wh(t9);const r9=new Array(p6*2);Wh(r9);const n9=new Array(e9);Wh(n9);const i9=new Array(Jj-Xj+1);Wh(i9);const a9=new Array(d6);Wh(a9);const s9=new Array(p6);Wh(s9);const o9=(r,e,t,i)=>{let s=r&65535|0,o=r>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do s=s+e[i++]|0,o=o+s|0;while(--c);s%=65521,o%=65521}return s|o<<16|0};var fv=o9;const l9=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},u9=new Uint32Array(l9()),c9=(r,e,t,i)=>{const s=u9,o=i+t;r^=-1;for(let c=i;c<o;c++)r=r>>>8^s[(r^e[c])&255];return r^-1};var To=c9,dv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},m6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const h9=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var f9=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)h9(t,i)&&(r[i]=t[i])}}return r},d9=r=>{let e=0;for(let i=0,s=r.length;i<s;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,s=0,o=r.length;i<o;i++){let c=r[i];t.set(c,s),s+=c.length}return t},g6={assign:f9,flattenChunks:d9};let y6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y6=!1}const ad=new Uint8Array(256);for(let r=0;r<256;r++)ad[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ad[254]=ad[254]=1;var p9=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,s,o,c=r.length,l=0;for(s=0;s<c;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<c&&(i=r.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(l),o=0,s=0;o<l;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<c&&(i=r.charCodeAt(s+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const m9=(r,e)=>{if(e<65534&&r.subarray&&y6)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var g9=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,s;const o=new Array(t*2);for(s=0,i=0;i<t;){let c=r[i++];if(c<128){o[s++]=c;continue}let l=ad[c];if(l>4){o[s++]=65533,i+=l-1;continue}for(c&=l===2?31:l===3?15:7;l>1&&i<t;)c=c<<6|r[i++]&63,l--;if(l>1){o[s++]=65533;continue}c<65536?o[s++]=c:(c-=65536,o[s++]=55296|c>>10&1023,o[s++]=56320|c&1023)}return m9(o,s)},y9=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+ad[r[t]]>e?t:e},pv={string2buf:p9,buf2string:g9,utf8border:y9};function v9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var b9=v9;const Op=16209,w9=16191;var _9=function(e,t){let i,s,o,c,l,h,f,p,y,b,m,A,_,E,v,C,N,S,D,K,$,ee,P,fe;const re=e.state;i=e.next_in,P=e.input,s=i+(e.avail_in-5),o=e.next_out,fe=e.output,c=o-(t-e.avail_out),l=o+(e.avail_out-257),h=re.dmax,f=re.wsize,p=re.whave,y=re.wnext,b=re.window,m=re.hold,A=re.bits,_=re.lencode,E=re.distcode,v=(1<<re.lenbits)-1,C=(1<<re.distbits)-1;e:do{A<15&&(m+=P[i++]<<A,A+=8,m+=P[i++]<<A,A+=8),N=_[m&v];t:for(;;){if(S=N>>>24,m>>>=S,A-=S,S=N>>>16&255,S===0)fe[o++]=N&65535;else if(S&16){D=N&65535,S&=15,S&&(A<S&&(m+=P[i++]<<A,A+=8),D+=m&(1<<S)-1,m>>>=S,A-=S),A<15&&(m+=P[i++]<<A,A+=8,m+=P[i++]<<A,A+=8),N=E[m&C];r:for(;;){if(S=N>>>24,m>>>=S,A-=S,S=N>>>16&255,S&16){if(K=N&65535,S&=15,A<S&&(m+=P[i++]<<A,A+=8,A<S&&(m+=P[i++]<<A,A+=8)),K+=m&(1<<S)-1,K>h){e.msg="invalid distance too far back",re.mode=Op;break e}if(m>>>=S,A-=S,S=o-c,K>S){if(S=K-S,S>p&&re.sane){e.msg="invalid distance too far back",re.mode=Op;break e}if($=0,ee=b,y===0){if($+=f-S,S<D){D-=S;do fe[o++]=b[$++];while(--S);$=o-K,ee=fe}}else if(y<S){if($+=f+y-S,S-=y,S<D){D-=S;do fe[o++]=b[$++];while(--S);if($=0,y<D){S=y,D-=S;do fe[o++]=b[$++];while(--S);$=o-K,ee=fe}}}else if($+=y-S,S<D){D-=S;do fe[o++]=b[$++];while(--S);$=o-K,ee=fe}for(;D>2;)fe[o++]=ee[$++],fe[o++]=ee[$++],fe[o++]=ee[$++],D-=3;D&&(fe[o++]=ee[$++],D>1&&(fe[o++]=ee[$++]))}else{$=o-K;do fe[o++]=fe[$++],fe[o++]=fe[$++],fe[o++]=fe[$++],D-=3;while(D>2);D&&(fe[o++]=fe[$++],D>1&&(fe[o++]=fe[$++]))}}else if((S&64)===0){N=E[(N&65535)+(m&(1<<S)-1)];continue r}else{e.msg="invalid distance code",re.mode=Op;break e}break}}else if((S&64)===0){N=_[(N&65535)+(m&(1<<S)-1)];continue t}else if(S&32){re.mode=w9;break e}else{e.msg="invalid literal/length code",re.mode=Op;break e}break}}while(i<s&&o<l);D=A>>3,i-=D,A-=D<<3,m&=(1<<A)-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?5+(s-i):5-(i-s),e.avail_out=o<l?257+(l-o):257-(o-l),re.hold=m,re.bits=A};const hh=15,Vx=852,Kx=592,Yx=0,fy=1,Xx=2,x9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),S9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),A9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),k9=(r,e,t,i,s,o,c,l)=>{const h=l.bits;let f=0,p=0,y=0,b=0,m=0,A=0,_=0,E=0,v=0,C=0,N,S,D,K,$,ee=null,P;const fe=new Uint16Array(hh+1),re=new Uint16Array(hh+1);let B=null,J,L,se;for(f=0;f<=hh;f++)fe[f]=0;for(p=0;p<i;p++)fe[e[t+p]]++;for(m=h,b=hh;b>=1&&fe[b]===0;b--);if(m>b&&(m=b),b===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<b&&fe[y]===0;y++);for(m<y&&(m=y),E=1,f=1;f<=hh;f++)if(E<<=1,E-=fe[f],E<0)return-1;if(E>0&&(r===Yx||b!==1))return-1;for(re[1]=0,f=1;f<hh;f++)re[f+1]=re[f]+fe[f];for(p=0;p<i;p++)e[t+p]!==0&&(c[re[e[t+p]]++]=p);if(r===Yx?(ee=B=c,P=20):r===fy?(ee=x9,B=S9,P=257):(ee=A9,B=E9,P=0),C=0,p=0,f=y,$=o,A=m,_=0,D=-1,v=1<<m,K=v-1,r===fy&&v>Vx||r===Xx&&v>Kx)return 1;for(;;){J=f-_,c[p]+1<P?(L=0,se=c[p]):c[p]>=P?(L=B[c[p]-P],se=ee[c[p]-P]):(L=96,se=0),N=1<<f-_,S=1<<A,y=S;do S-=N,s[$+(C>>_)+S]=J<<24|L<<16|se|0;while(S!==0);for(N=1<<f-1;C&N;)N>>=1;if(N!==0?(C&=N-1,C+=N):C=0,p++,--fe[f]===0){if(f===b)break;f=e[t+c[p]]}if(f>m&&(C&K)!==D){for(_===0&&(_=m),$+=y,A=f-_,E=1<<A;A+_<b&&(E-=fe[A+_],!(E<=0));)A++,E<<=1;if(v+=1<<A,r===fy&&v>Vx||r===Xx&&v>Kx)return 1;D=C&K,s[D]=m<<24|A<<16|$-o|0}}return C!==0&&(s[$+C]=f-_<<24|64<<16|0),l.bits=m,0};var Yf=k9;const N9=0,v6=1,b6=2,{Z_FINISH:Jx,Z_BLOCK:T9,Z_TREES:Lp,Z_OK:sc,Z_STREAM_END:R9,Z_NEED_DICT:C9,Z_STREAM_ERROR:ws,Z_DATA_ERROR:w6,Z_MEM_ERROR:_6,Z_BUF_ERROR:O9,Z_DEFLATED:Zx}=m6,z0=16180,Qx=16181,eS=16182,tS=16183,rS=16184,nS=16185,iS=16186,aS=16187,sS=16188,oS=16189,m0=16190,pl=16191,dy=16192,lS=16193,py=16194,uS=16195,cS=16196,hS=16197,fS=16198,jp=16199,Pp=16200,dS=16201,pS=16202,mS=16203,gS=16204,yS=16205,my=16206,vS=16207,bS=16208,xn=16209,x6=16210,S6=16211,L9=852,j9=592,P9=15,D9=P9,wS=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function B9(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<z0||e.mode>S6?1:0},A6=r=>{if(hc(r))return ws;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=z0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(L9),e.distcode=e.distdyn=new Int32Array(j9),e.sane=1,e.back=-1,sc},E6=r=>{if(hc(r))return ws;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,A6(r)},k6=(r,e)=>{let t;if(hc(r))return ws;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ws:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,E6(r))},N6=(r,e)=>{if(!r)return ws;const t=new B9;r.state=t,t.strm=r,t.window=null,t.mode=z0;const i=k6(r,e);return i!==sc&&(r.state=null),i},I9=r=>N6(r,D9);let _S=!0,gy,yy;const U9=r=>{if(_S){gy=new Int32Array(512),yy=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Yf(v6,r.lens,0,288,gy,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Yf(b6,r.lens,0,32,yy,0,r.work,{bits:5}),_S=!1}r.lencode=gy,r.lenbits=9,r.distcode=yy,r.distbits=5},T6=(r,e,t,i)=>{let s;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),o.window.set(e.subarray(t-i,t-i+s),o.wnext),i-=s,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},M9=(r,e)=>{let t,i,s,o,c,l,h,f,p,y,b,m,A,_,E=0,v,C,N,S,D,K,$,ee;const P=new Uint8Array(4);let fe,re;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(r)||!r.output||!r.input&&r.avail_in!==0)return ws;t=r.state,t.mode===pl&&(t.mode=dy),c=r.next_out,s=r.output,h=r.avail_out,o=r.next_in,i=r.input,l=r.avail_in,f=t.hold,p=t.bits,y=l,b=h,ee=sc;e:for(;;)switch(t.mode){case z0:if(t.wrap===0){t.mode=dy;break}for(;p<16;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=f&255,P[1]=f>>>8&255,t.check=To(t.check,P,2,0),f=0,p=0,t.mode=Qx;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){r.msg="incorrect header check",t.mode=xn;break}if((f&15)!==Zx){r.msg="unknown compression method",t.mode=xn;break}if(f>>>=4,p-=4,$=(f&15)+8,t.wbits===0&&(t.wbits=$),$>15||$>t.wbits){r.msg="invalid window size",t.mode=xn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=f&512?oS:pl,f=0,p=0;break;case Qx:for(;p<16;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(t.flags=f,(t.flags&255)!==Zx){r.msg="unknown compression method",t.mode=xn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=xn;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=To(t.check,P,2,0)),f=0,p=0,t.mode=eS;case eS:for(;p<32;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,P[2]=f>>>16&255,P[3]=f>>>24&255,t.check=To(t.check,P,4,0)),f=0,p=0,t.mode=tS;case tS:for(;p<16;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=To(t.check,P,2,0)),f=0,p=0,t.mode=rS;case rS:if(t.flags&1024){for(;p<16;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(P[0]=f&255,P[1]=f>>>8&255,t.check=To(t.check,P,2,0)),f=0,p=0}else t.head&&(t.head.extra=null);t.mode=nS;case nS:if(t.flags&1024&&(m=t.length,m>l&&(m=l),m&&(t.head&&($=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+m),$)),t.flags&512&&t.wrap&4&&(t.check=To(t.check,i,m,o)),l-=m,o+=m,t.length-=m),t.length))break e;t.length=0,t.mode=iS;case iS:if(t.flags&2048){if(l===0)break e;m=0;do $=i[o+m++],t.head&&$&&t.length<65536&&(t.head.name+=String.fromCharCode($));while($&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=To(t.check,i,m,o)),l-=m,o+=m,$)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=aS;case aS:if(t.flags&4096){if(l===0)break e;m=0;do $=i[o+m++],t.head&&$&&t.length<65536&&(t.head.comment+=String.fromCharCode($));while($&&m<l);if(t.flags&512&&t.wrap&4&&(t.check=To(t.check,i,m,o)),l-=m,o+=m,$)break e}else t.head&&(t.head.comment=null);t.mode=sS;case sS:if(t.flags&512){for(;p<16;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(t.wrap&4&&f!==(t.check&65535)){r.msg="header crc mismatch",t.mode=xn;break}f=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=pl;break;case oS:for(;p<32;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}r.adler=t.check=wS(f),f=0,p=0,t.mode=m0;case m0:if(t.havedict===0)return r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=l,t.hold=f,t.bits=p,C9;r.adler=t.check=1,t.mode=pl;case pl:if(e===T9||e===Lp)break e;case dy:if(t.last){f>>>=p&7,p-=p&7,t.mode=my;break}for(;p<3;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}switch(t.last=f&1,f>>>=1,p-=1,f&3){case 0:t.mode=lS;break;case 1:if(U9(t),t.mode=jp,e===Lp){f>>>=2,p-=2;break e}break;case 2:t.mode=cS;break;case 3:r.msg="invalid block type",t.mode=xn}f>>>=2,p-=2;break;case lS:for(f>>>=p&7,p-=p&7;p<32;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){r.msg="invalid stored block lengths",t.mode=xn;break}if(t.length=f&65535,f=0,p=0,t.mode=py,e===Lp)break e;case py:t.mode=uS;case uS:if(m=t.length,m){if(m>l&&(m=l),m>h&&(m=h),m===0)break e;s.set(i.subarray(o,o+m),c),l-=m,o+=m,h-=m,c+=m,t.length-=m;break}t.mode=pl;break;case cS:for(;p<14;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(t.nlen=(f&31)+257,f>>>=5,p-=5,t.ndist=(f&31)+1,f>>>=5,p-=5,t.ncode=(f&15)+4,f>>>=4,p-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=xn;break}t.have=0,t.mode=hS;case hS:for(;t.have<t.ncode;){for(;p<3;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.lens[B[t.have++]]=f&7,f>>>=3,p-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,fe={bits:t.lenbits},ee=Yf(N9,t.lens,0,19,t.lencode,0,t.work,fe),t.lenbits=fe.bits,ee){r.msg="invalid code lengths set",t.mode=xn;break}t.have=0,t.mode=fS;case fS:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[f&(1<<t.lenbits)-1],v=E>>>24,C=E>>>16&255,N=E&65535,!(v<=p);){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(N<16)f>>>=v,p-=v,t.lens[t.have++]=N;else{if(N===16){for(re=v+2;p<re;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(f>>>=v,p-=v,t.have===0){r.msg="invalid bit length repeat",t.mode=xn;break}$=t.lens[t.have-1],m=3+(f&3),f>>>=2,p-=2}else if(N===17){for(re=v+3;p<re;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}f>>>=v,p-=v,$=0,m=3+(f&7),f>>>=3,p-=3}else{for(re=v+7;p<re;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}f>>>=v,p-=v,$=0,m=11+(f&127),f>>>=7,p-=7}if(t.have+m>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=xn;break}for(;m--;)t.lens[t.have++]=$}}if(t.mode===xn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=xn;break}if(t.lenbits=9,fe={bits:t.lenbits},ee=Yf(v6,t.lens,0,t.nlen,t.lencode,0,t.work,fe),t.lenbits=fe.bits,ee){r.msg="invalid literal/lengths set",t.mode=xn;break}if(t.distbits=6,t.distcode=t.distdyn,fe={bits:t.distbits},ee=Yf(b6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,fe),t.distbits=fe.bits,ee){r.msg="invalid distances set",t.mode=xn;break}if(t.mode=jp,e===Lp)break e;case jp:t.mode=Pp;case Pp:if(l>=6&&h>=258){r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=l,t.hold=f,t.bits=p,_9(r,b),c=r.next_out,s=r.output,h=r.avail_out,o=r.next_in,i=r.input,l=r.avail_in,f=t.hold,p=t.bits,t.mode===pl&&(t.back=-1);break}for(t.back=0;E=t.lencode[f&(1<<t.lenbits)-1],v=E>>>24,C=E>>>16&255,N=E&65535,!(v<=p);){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(C&&(C&240)===0){for(S=v,D=C,K=N;E=t.lencode[K+((f&(1<<S+D)-1)>>S)],v=E>>>24,C=E>>>16&255,N=E&65535,!(S+v<=p);){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}f>>>=S,p-=S,t.back+=S}if(f>>>=v,p-=v,t.back+=v,t.length=N,C===0){t.mode=yS;break}if(C&32){t.back=-1,t.mode=pl;break}if(C&64){r.msg="invalid literal/length code",t.mode=xn;break}t.extra=C&15,t.mode=dS;case dS:if(t.extra){for(re=t.extra;p<re;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=pS;case pS:for(;E=t.distcode[f&(1<<t.distbits)-1],v=E>>>24,C=E>>>16&255,N=E&65535,!(v<=p);){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if((C&240)===0){for(S=v,D=C,K=N;E=t.distcode[K+((f&(1<<S+D)-1)>>S)],v=E>>>24,C=E>>>16&255,N=E&65535,!(S+v<=p);){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}f>>>=S,p-=S,t.back+=S}if(f>>>=v,p-=v,t.back+=v,C&64){r.msg="invalid distance code",t.mode=xn;break}t.offset=N,t.extra=C&15,t.mode=mS;case mS:if(t.extra){for(re=t.extra;p<re;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=xn;break}t.mode=gS;case gS:if(h===0)break e;if(m=b-h,t.offset>m){if(m=t.offset-m,m>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=xn;break}m>t.wnext?(m-=t.wnext,A=t.wsize-m):A=t.wnext-m,m>t.length&&(m=t.length),_=t.window}else _=s,A=c-t.offset,m=t.length;m>h&&(m=h),h-=m,t.length-=m;do s[c++]=_[A++];while(--m);t.length===0&&(t.mode=Pp);break;case yS:if(h===0)break e;s[c++]=t.length,h--,t.mode=Pp;break;case my:if(t.wrap){for(;p<32;){if(l===0)break e;l--,f|=i[o++]<<p,p+=8}if(b-=h,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?To(t.check,s,b,c-b):fv(t.check,s,b,c-b)),b=h,t.wrap&4&&(t.flags?f:wS(f))!==t.check){r.msg="incorrect data check",t.mode=xn;break}f=0,p=0}t.mode=vS;case vS:if(t.wrap&&t.flags){for(;p<32;){if(l===0)break e;l--,f+=i[o++]<<p,p+=8}if(t.wrap&4&&f!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=xn;break}f=0,p=0}t.mode=bS;case bS:ee=R9;break e;case xn:ee=w6;break e;case x6:return _6;case S6:default:return ws}return r.next_out=c,r.avail_out=h,r.next_in=o,r.avail_in=l,t.hold=f,t.bits=p,(t.wsize||b!==r.avail_out&&t.mode<xn&&(t.mode<my||e!==Jx))&&T6(r,r.output,r.next_out,b-r.avail_out),y-=r.avail_in,b-=r.avail_out,r.total_in+=y,r.total_out+=b,t.total+=b,t.wrap&4&&b&&(r.adler=t.check=t.flags?To(t.check,s,b,r.next_out-b):fv(t.check,s,b,r.next_out-b)),r.data_type=t.bits+(t.last?64:0)+(t.mode===pl?128:0)+(t.mode===jp||t.mode===py?256:0),(y===0&&b===0||e===Jx)&&ee===sc&&(ee=O9),ee},F9=r=>{if(hc(r))return ws;let e=r.state;return e.window&&(e.window=null),r.state=null,sc},z9=(r,e)=>{if(hc(r))return ws;const t=r.state;return(t.wrap&2)===0?ws:(t.head=e,e.done=!1,sc)},q9=(r,e)=>{const t=e.length;let i,s,o;return hc(r)||(i=r.state,i.wrap!==0&&i.mode!==m0)?ws:i.mode===m0&&(s=1,s=fv(s,e,t,0),s!==i.check)?w6:(o=T6(r,e,t,t),o?(i.mode=x6,_6):(i.havedict=1,sc))};var H9=E6,$9=k6,G9=A6,W9=I9,V9=N6,K9=M9,Y9=F9,X9=z9,J9=q9,Z9="pako inflate (from Nodeca project)",vl={inflateReset:H9,inflateReset2:$9,inflateResetKeep:G9,inflateInit:W9,inflateInit2:V9,inflate:K9,inflateEnd:Y9,inflateGetHeader:X9,inflateSetDictionary:J9,inflateInfo:Z9};function Q9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var eP=Q9;const R6=Object.prototype.toString,{Z_NO_FLUSH:tP,Z_FINISH:rP,Z_OK:sd,Z_STREAM_END:vy,Z_NEED_DICT:by,Z_STREAM_ERROR:nP,Z_DATA_ERROR:xS,Z_MEM_ERROR:iP}=m6;function vd(r){this.options=g6.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b9,this.strm.avail_out=0;let t=vl.inflateInit2(this.strm,e.windowBits);if(t!==sd)throw new Error(dv[t]);if(this.header=new eP,vl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=pv.string2buf(e.dictionary):R6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=vl.inflateSetDictionary(this.strm,e.dictionary),t!==sd)))throw new Error(dv[t])}vd.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let o,c,l;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?rP:tP,R6.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=vl.inflate(t,c),o===by&&s&&(o=vl.inflateSetDictionary(t,s),o===sd?o=vl.inflate(t,c):o===xS&&(o=by));t.avail_in>0&&o===vy&&t.state.wrap>0&&r[t.next_in]!==0;)vl.inflateReset(t),o=vl.inflate(t,c);switch(o){case nP:case xS:case by:case iP:return this.onEnd(o),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||o===vy))if(this.options.to==="string"){let h=pv.utf8border(t.output,t.next_out),f=t.next_out-h,p=pv.buf2string(t.output,h);t.next_out=f,t.avail_out=i-f,f&&t.output.set(t.output.subarray(h,h+f),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===sd&&l===0)){if(o===vy)return o=vl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};vd.prototype.onData=function(r){this.chunks.push(r)};vd.prototype.onEnd=function(r){r===sd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g6.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function aP(r,e){const t=new vd(e);if(t.push(r),t.err)throw t.msg||dv[t.err];return t.result}var sP=vd,oP=aP,lP={Inflate:sP,inflate:oP};const{Inflate:uP,inflate:cP}=lP;var SS=uP,hP=cP;const C6=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;C6[r]=e}const AS=4294967295;function fP(r,e,t){let i=r;for(let s=0;s<t;s++)i=C6[(i^e[s])&255]^i>>>8;return i}function dP(r,e){return(fP(AS,r,e)^AS)>>>0}function ES(r,e,t){const i=r.readUint32(),s=dP(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${s}`)}function O6(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function L6(r,e,t,i){let s=0;for(;s<i;s++)e[s]=r[s];for(;s<t;s++)e[s]=r[s]+e[s-i]&255}function j6(r,e,t,i){let s=0;if(t.length===0)for(;s<i;s++)e[s]=r[s];else for(;s<i;s++)e[s]=r[s]+t[s]&255}function P6(r,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-s]+t[o]>>1)&255}}function D6(r,e,t,i,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+pP(e[o-s],t[o],t[o-s])&255}}function pP(r,e,t){const i=r+e-t,s=Math.abs(i-r),o=Math.abs(i-e),c=Math.abs(i-t);return s<=o&&s<=c?r:o<=c?e:t}function mP(r,e,t,i,s,o){switch(r){case 0:O6(e,t,s);break;case 1:L6(e,t,s,o);break;case 2:j6(e,t,i,s);break;case 3:P6(e,t,i,s,o);break;case 4:D6(e,t,i,s,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const gP=new Uint16Array([255]),yP=new Uint8Array(gP.buffer),vP=yP[0]===255;function bP(r){const{data:e,width:t,height:i,channels:s,depth:o}=r,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*s,h=new Uint8Array(i*t*l);let f=0;for(let p=0;p<7;p++){const y=c[p],b=Math.ceil((t-y.x)/y.xStep),m=Math.ceil((i-y.y)/y.yStep);if(b<=0||m<=0)continue;const A=b*l,_=new Uint8Array(A);for(let E=0;E<m;E++){const v=e[f++],C=e.subarray(f,f+A);f+=A;const N=new Uint8Array(A);mP(v,C,N,_,A,l),_.set(N);for(let S=0;S<b;S++){const D=y.x+S*y.xStep,K=y.y+E*y.yStep;if(!(D>=t||K>=i))for(let $=0;$<l;$++)h[(K*t+D)*l+$]=N[S*l+$]}}}if(o===16){const p=new Uint16Array(h.buffer);if(vP)for(let y=0;y<p.length;y++)p[y]=wP(p[y]);return p}else return h}function wP(r){return(r&255)<<8|r>>8&255}const _P=new Uint16Array([255]),xP=new Uint8Array(_P.buffer),SP=xP[0]===255,AP=new Uint8Array(0);function kS(r){const{data:e,width:t,height:i,channels:s,depth:o}=r,c=Math.ceil(o/8)*s,l=Math.ceil(o/8*s*t),h=new Uint8Array(i*l);let f=AP,p=0,y,b;for(let m=0;m<i;m++){switch(y=e.subarray(p+1,p+1+l),b=h.subarray(m*l,(m+1)*l),e[p]){case 0:O6(y,b,l);break;case 1:L6(y,b,l,c);break;case 2:j6(y,b,f,l);break;case 3:P6(y,b,f,l,c);break;case 4:D6(y,b,f,l,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}f=b,p+=l+1}if(o===16){const m=new Uint16Array(h.buffer);if(SP)for(let A=0;A<m.length;A++)m[A]=EP(m[A]);return m}else return h}function EP(r){return(r&255)<<8|r>>8&255}const Vp=Uint8Array.of(137,80,78,71,13,10,26,10);function NS(r){if(!kP(r.readBytes(Vp.length)))throw new Error("wrong PNG signature")}function kP(r){if(r.length<Vp.length)return!1;for(let e=0;e<Vp.length;e++)if(r[e]!==Vp[e])return!1;return!0}const NP="tEXt",TP=0,B6=new TextDecoder("latin1");function RP(r){if(OP(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const CP=/^[\u0000-\u00FF]*$/;function OP(r){if(!CP.test(r))throw new Error("invalid latin1 text")}function LP(r,e,t){const i=I6(e);r[i]=jP(e,t-i.length-1)}function I6(r){for(r.mark();r.readByte()!==TP;);const e=r.offset;r.reset();const t=B6.decode(r.readBytes(e-r.offset-1));return r.skip(1),RP(t),t}function jP(r,e){return B6.decode(r.readBytes(e))}const Ga={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},wy={UNKNOWN:-1,DEFLATE:0},TS={UNKNOWN:-1,ADAPTIVE:0},_y={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dp={NONE:0,BACKGROUND:1,PREVIOUS:2},xy={SOURCE:0,OVER:1};class PP extends ab{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new SS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=wy.UNKNOWN,this._filterMethod=TS.UNKNOWN,this._interlaceMethod=_y.UNKNOWN,this._colorType=Ga.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(NS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(NS(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case NP:LP(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ES(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?ES(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=DP(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Ga.GREYSCALE:i=1;break;case Ga.TRUECOLOUR:i=3;break;case Ga.INDEXED_COLOUR:i=1;break;case Ga.GREYSCALE_ALPHA:i=2;break;case Ga.TRUECOLOUR_ALPHA:i=4;break;case Ga.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==wy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<t;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ga.GREYSCALE:case Ga.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ga.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ga.UNKNOWN:case Ga.GREYSCALE_ALPHA:case Ga.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=I6(this),i=this.readUint8();if(i!==wy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:hP(s)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=kS({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(i,s,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case Dp.NONE:break;case Dp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const c=(s*e.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[c+l]=0}break;case Dp.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,s=(o,c)=>{const l=((o+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,h=(o*t.width+c)*this._png.channels;return{index:l,frameIndex:h}};switch(t.blendOp){case xy.SOURCE:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:l,frameIndex:h}=s(o,c);for(let f=0;f<this._png.channels;f++)e.data[l+f]=t.data[h+f]}break;case xy.OVER:for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){const{index:l,frameIndex:h}=s(o,c);for(let f=0;f<this._png.channels;f++){const p=t.data[h+this._png.channels-1]/i,y=f%(this._png.channels-1)===0?1:t.data[h+f],b=Math.floor(p*y+(1-p)*e.data[l+f]);e.data[l+f]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==TS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===_y.NO_INTERLACE)this._png.data=kS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===_y.ADAM7)this._png.data=bP({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dp.NONE,blendOp:xy.SOURCE,data:e}),this._inflator=new SS,this._writingDataChunks=!1}}function DP(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var RS;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(RS||(RS={}));function BP(r,e){return new PP(r,e).decode()}var Kt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Sy(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var on={log:Sy,warn:function(r){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):Sy.call(null,arguments))},error:function(r){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):Sy(r))}};function Ay(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){$u(i.response,e,t)},i.onerror=function(){on.error("could not download file")},i.send()}function CS(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var $u=Kt.saveAs||((typeof window>"u"?"undefined":$r(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Kt.URL||Kt.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?CS(s.href)?Ay(r,e,t):Bp(s,s.target="_blank"):Bp(s)):(s.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Bp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(CS(r))Ay(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){Bp(i)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:$r(o)!=="object"&&(on.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return Ay(r,e,t);var s=r.type==="application/octet-stream",o=/constructor/i.test(Kt.HTMLElement)||Kt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":$r(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},l.readAsDataURL(r)}else{var h=Kt.URL||Kt.webkitURL,f=h.createObjectURL(r);i?i.location=f:location.href=f,i=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});function U6(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,o=t[i].process,c=s.exec(r);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+l+h+f}}var Kp=Kt.atob.bind(Kt),OS=Kt.btoa.bind(Kt);function Ey(r,e){var t=r[0],i=r[1],s=r[2],o=r[3];t=Xi(t,i,s,o,e[0],7,-680876936),o=Xi(o,t,i,s,e[1],12,-389564586),s=Xi(s,o,t,i,e[2],17,606105819),i=Xi(i,s,o,t,e[3],22,-1044525330),t=Xi(t,i,s,o,e[4],7,-176418897),o=Xi(o,t,i,s,e[5],12,1200080426),s=Xi(s,o,t,i,e[6],17,-1473231341),i=Xi(i,s,o,t,e[7],22,-45705983),t=Xi(t,i,s,o,e[8],7,1770035416),o=Xi(o,t,i,s,e[9],12,-1958414417),s=Xi(s,o,t,i,e[10],17,-42063),i=Xi(i,s,o,t,e[11],22,-1990404162),t=Xi(t,i,s,o,e[12],7,1804603682),o=Xi(o,t,i,s,e[13],12,-40341101),s=Xi(s,o,t,i,e[14],17,-1502002290),t=Ji(t,i=Xi(i,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Ji(o,t,i,s,e[6],9,-1069501632),s=Ji(s,o,t,i,e[11],14,643717713),i=Ji(i,s,o,t,e[0],20,-373897302),t=Ji(t,i,s,o,e[5],5,-701558691),o=Ji(o,t,i,s,e[10],9,38016083),s=Ji(s,o,t,i,e[15],14,-660478335),i=Ji(i,s,o,t,e[4],20,-405537848),t=Ji(t,i,s,o,e[9],5,568446438),o=Ji(o,t,i,s,e[14],9,-1019803690),s=Ji(s,o,t,i,e[3],14,-187363961),i=Ji(i,s,o,t,e[8],20,1163531501),t=Ji(t,i,s,o,e[13],5,-1444681467),o=Ji(o,t,i,s,e[2],9,-51403784),s=Ji(s,o,t,i,e[7],14,1735328473),t=Zi(t,i=Ji(i,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Zi(o,t,i,s,e[8],11,-2022574463),s=Zi(s,o,t,i,e[11],16,1839030562),i=Zi(i,s,o,t,e[14],23,-35309556),t=Zi(t,i,s,o,e[1],4,-1530992060),o=Zi(o,t,i,s,e[4],11,1272893353),s=Zi(s,o,t,i,e[7],16,-155497632),i=Zi(i,s,o,t,e[10],23,-1094730640),t=Zi(t,i,s,o,e[13],4,681279174),o=Zi(o,t,i,s,e[0],11,-358537222),s=Zi(s,o,t,i,e[3],16,-722521979),i=Zi(i,s,o,t,e[6],23,76029189),t=Zi(t,i,s,o,e[9],4,-640364487),o=Zi(o,t,i,s,e[12],11,-421815835),s=Zi(s,o,t,i,e[15],16,530742520),t=Qi(t,i=Zi(i,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Qi(o,t,i,s,e[7],10,1126891415),s=Qi(s,o,t,i,e[14],15,-1416354905),i=Qi(i,s,o,t,e[5],21,-57434055),t=Qi(t,i,s,o,e[12],6,1700485571),o=Qi(o,t,i,s,e[3],10,-1894986606),s=Qi(s,o,t,i,e[10],15,-1051523),i=Qi(i,s,o,t,e[1],21,-2054922799),t=Qi(t,i,s,o,e[8],6,1873313359),o=Qi(o,t,i,s,e[15],10,-30611744),s=Qi(s,o,t,i,e[6],15,-1560198380),i=Qi(i,s,o,t,e[13],21,1309151649),t=Qi(t,i,s,o,e[4],6,-145523070),o=Qi(o,t,i,s,e[11],10,-1120210379),s=Qi(s,o,t,i,e[2],15,718787259),i=Qi(i,s,o,t,e[9],21,-343485551),r[0]=cu(t,r[0]),r[1]=cu(i,r[1]),r[2]=cu(s,r[2]),r[3]=cu(o,r[3])}function q0(r,e,t,i,s,o){return e=cu(cu(e,r),cu(i,o)),cu(e<<s|e>>>32-s,t)}function Xi(r,e,t,i,s,o,c){return q0(e&t|~e&i,r,e,s,o,c)}function Ji(r,e,t,i,s,o,c){return q0(e&i|t&~i,r,e,s,o,c)}function Zi(r,e,t,i,s,o,c){return q0(e^t^i,r,e,s,o,c)}function Qi(r,e,t,i,s,o,c){return q0(t^(e|~i),r,e,s,o,c)}function M6(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Ey(i,IP(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Ey(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Ey(i,s),i}function IP(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var LS="0123456789abcdef".split("");function UP(r){for(var e="",t=0;t<4;t++)e+=LS[r>>8*t+4&15]+LS[r>>8*t&15];return e}function MP(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function mv(r){return M6(r).map(MP).join("")}var FP=(function(r){for(var e=0;e<r.length;e++)r[e]=UP(r[e]);return r.join("")})(M6("hello"))!="5d41402abc4b2a76b9719d911017c592";function cu(r,e){if(FP){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function gv(r,e){var t,i,s,o;if(r!==t){for(var c=(s=r,o=1+(256/r.length|0),new Array(o+1).join(s)),l=[],h=0;h<256;h++)l[h]=h;var f=0;for(h=0;h<256;h++){var p=l[h];f=(f+p+c.charCodeAt(h))%256,l[h]=l[f],l[f]=p}t=r,i=l}else l=i;var y=e.length,b=0,m=0,A="";for(h=0;h<y;h++)m=(m+(p=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=p,c=l[(l[b]+l[m])%256],A+=String.fromCharCode(e.charCodeAt(h)^c);return A}var jS={print:4,modify:8,copy:16,"annot-forms":32};function vh(r,e,t,i){this.v=1,this.r=2;var s=192;r.forEach(function(l){if(jS.perm!==void 0)throw new Error("Invalid permission: "+l);s+=jS[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=mv(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=gv(this.encryptionKey,this.padding)}function bh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var s=r.charCodeAt(i);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[i]}return e}function PS(r){if($r(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!s],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(r,i)}catch(l){Kt.console&&on.error("jsPDF PubSub Error",l.message,l)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function g0(r){if(!(this instanceof g0))return new g0(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function F6(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Vu(r,e,t,i,s){if(!(this instanceof Vu))return new Vu(r,e,t,i,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,F6.call(this,i,s)}function xh(r,e,t,i,s){if(!(this instanceof xh))return new xh(r,e,t,i,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,F6.call(this,i,s)}function Pt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],c=[],l=1,h=16,f="S",p=null;$r(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,s=r.format||s,o=r.compress||r.compressPdf||o,(p=r.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(h=r.floatPrecision),f=r.defaultPathOperation||"S"),c=r.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=PS;var A="1.3",_=m.__private__.getPdfVersion=function(){return A};m.__private__.setPdfVersion=function(j){A=j};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return E};var v=m.__private__.getPageFormat=function(j){return E[j]};s=s||"a4";var C="compat",N="advanced",S=C;function D(){this.saveGraphicsState(),te(new Tt(Rt,0,0,-Rt,0,Rs()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),f="n",S=N}function K(){this.restoreGraphicsState(),f="S",S=C}var $=m.__private__.combineFontStyleAndFontWeight=function(j,le){if(j=="bold"&&le=="normal"||j=="bold"&&le==400||j=="normal"&&le=="italic"||j=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(j=le==400||le==="normal"?j==="italic"?"italic":"normal":le!=700&&le!=="bold"||j!=="normal"?(le==700?"bold":le)+""+j:"bold"),j};m.advancedAPI=function(j){var le=S===C;return le&&D.call(this),typeof j!="function"||(j(this),le&&K.call(this)),this},m.compatAPI=function(j){var le=S===N;return le&&K.call(this),typeof j!="function"||(j(this),le&&D.call(this)),this},m.isAdvancedAPI=function(){return S===N};var ee,P=function(j){if(S!==N)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fe=m.roundToPrecision=m.__private__.roundToPrecision=function(j,le){var Ee=e||le;if(isNaN(j)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Ee).replace(/0+$/,"")};ee=m.hpf=m.__private__.hpf=typeof h=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(j,h)}:h==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(j,16)};var re=m.f2=m.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return fe(j,2)},B=m.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return fe(j,3)},J=m.scale=m.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return S===C?j*Rt:S===N?j:void 0},L=function(j){return J((function(le){return S===C?Rs()-le:S===N?le:void 0})(j))};m.__private__.setPrecision=m.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var se,ie="00000000000000000000000000000000",Z=m.__private__.getFileId=function(){return ie},pe=m.__private__.setFileId=function(j){return ie=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Vr=new vh(p.userPermissions,p.userPassword,p.ownerPassword,ie)),ie};m.setFileId=function(j){return pe(j),this},m.getFileId=function(){return Z()};var ye=m.__private__.convertDateToPDFDate=function(j){var le=j.getTimezoneOffset(),Ee=le<0?"+":"-",Ce=Math.floor(Math.abs(le/60)),De=Math.abs(le%60),Ze=[Ee,X(Ce),"'",X(De),"'"].join("");return["D:",j.getFullYear(),X(j.getMonth()+1),X(j.getDate()),X(j.getHours()),X(j.getMinutes()),X(j.getSeconds()),Ze].join("")},Te=m.__private__.convertPDFDateToDate=function(j){var le=parseInt(j.substr(2,4),10),Ee=parseInt(j.substr(6,2),10)-1,Ce=parseInt(j.substr(8,2),10),De=parseInt(j.substr(10,2),10),Ze=parseInt(j.substr(12,2),10),it=parseInt(j.substr(14,2),10);return new Date(le,Ee,Ce,De,Ze,it,0)},W=m.__private__.setCreationDate=function(j){var le;if(j===void 0&&(j=new Date),j instanceof Date)le=ye(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=j}return se=le},R=m.__private__.getCreationDate=function(j){var le=se;return j==="jsDate"&&(le=Te(se)),le};m.setCreationDate=function(j){return W(j),this},m.getCreationDate=function(j){return R(j)};var G,X=m.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},ce=m.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},ae=0,I=[],U=[],ne=0,oe=[],Q=[],ue=!1,ke=U;m.__private__.setCustomOutputDestination=function(j){ue=!0,ke=j};var z=function(j){ue||(ke=j)};m.__private__.resetCustomOutputDestination=function(){ue=!1,ke=U};var te=m.__private__.out=function(j){return j=j.toString(),ne+=j.length+1,ke.push(j),ke},q=m.__private__.write=function(j){return te(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},T=m.__private__.getArrayBuffer=function(j){for(var le=j.length,Ee=new ArrayBuffer(le),Ce=new Uint8Array(Ee);le--;)Ce[le]=j.charCodeAt(le);return Ee},O=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return O};var M=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(j){return M=S===N?j/Rt:j,this};var ve,xe=m.__private__.getFontSize=m.getFontSize=function(){return S===C?M:M*Rt},we=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(j){return we=j,this},m.__private__.getR2L=m.getR2L=function(){return we};var je,qe=m.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))ve=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');ve=j}else ve=parseInt(j,10)};m.__private__.getZoomMode=function(){return ve};var Me,Ke=m.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');je=j};m.__private__.getPageMode=function(){return je};var at=m.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');Me=j};m.__private__.getLayoutMode=function(){return Me},m.__private__.setDisplayMode=m.setDisplayMode=function(j,le,Ee){return qe(j),at(le),Ke(Ee),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(j){if(Object.keys(ht).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[j]},m.__private__.getDocumentProperties=function(){return ht},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(j){for(var le in ht)ht.hasOwnProperty(le)&&j[le]&&(ht[le]=j[le]);return this},m.__private__.setDocumentProperty=function(j,le){if(Object.keys(ht).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[j]=le};var dt,Rt,mt,Sr,bt,Je={},lt={},_t=[],Et={},Jt={},wt={},Ut={},yr=null,Mt=0,gt=[],Xt=new PS(m),qn=r.hotfixes||[],li={},ea={},Ri=[],Tt=function j(le,Ee,Ce,De,Ze,it){if(!(this instanceof j))return new j(le,Ee,Ce,De,Ze,it);isNaN(le)&&(le=1),isNaN(Ee)&&(Ee=0),isNaN(Ce)&&(Ce=0),isNaN(De)&&(De=1),isNaN(Ze)&&(Ze=0),isNaN(it)&&(it=0),this._matrix=[le,Ee,Ce,De,Ze,it]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(j)},Tt.prototype.multiply=function(j){var le=j.sx*this.sx+j.shy*this.shx,Ee=j.sx*this.shy+j.shy*this.sy,Ce=j.shx*this.sx+j.sy*this.shx,De=j.shx*this.shy+j.sy*this.sy,Ze=j.tx*this.sx+j.ty*this.shx+this.tx,it=j.tx*this.shy+j.ty*this.sy+this.ty;return new Tt(le,Ee,Ce,De,Ze,it)},Tt.prototype.decompose=function(){var j=this.sx,le=this.shy,Ee=this.shx,Ce=this.sy,De=this.tx,Ze=this.ty,it=Math.sqrt(j*j+le*le),St=(j/=it)*Ee+(le/=it)*Ce;Ee-=j*St,Ce-=le*St;var Ct=Math.sqrt(Ee*Ee+Ce*Ce);return St/=Ct,j*(Ce/=Ct)<le*(Ee/=Ct)&&(j=-j,le=-le,St=-St,it=-it),{scale:new Tt(it,0,0,Ct,0,0),translate:new Tt(1,0,0,1,De,Ze),rotate:new Tt(j,le,-le,j,0,0),skew:new Tt(1,0,St,1,0,0)}},Tt.prototype.toString=function(j){return this.join(" ")},Tt.prototype.inversed=function(){var j=this.sx,le=this.shy,Ee=this.shx,Ce=this.sy,De=this.tx,Ze=this.ty,it=1/(j*Ce-le*Ee),St=Ce*it,Ct=-le*it,Ht=-Ee*it,Zt=j*it;return new Tt(St,Ct,Ht,Zt,-St*De-Ht*Ze,-Ct*De-Zt*Ze)},Tt.prototype.applyToPoint=function(j){var le=j.x*this.sx+j.y*this.shx+this.tx,Ee=j.x*this.shy+j.y*this.sy+this.ty;return new pa(le,Ee)},Tt.prototype.applyToRectangle=function(j){var le=this.applyToPoint(j),Ee=this.applyToPoint(new pa(j.x+j.w,j.y+j.h));return new As(le.x,le.y,Ee.x-le.x,Ee.y-le.y)},Tt.prototype.clone=function(){var j=this.sx,le=this.shy,Ee=this.shx,Ce=this.sy,De=this.tx,Ze=this.ty;return new Tt(j,le,Ee,Ce,De,Ze)},m.Matrix=Tt;var Ci=m.matrixMult=function(j,le){return le.multiply(j)},ui=new Tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ui;var Oi=function(j,le){if(!Jt[j]){var Ee=(le instanceof Vu?"Sh":"P")+(Object.keys(Et).length+1).toString(10);le.id=Ee,Jt[j]=Ee,Et[Ee]=le,Xt.publish("addPattern",le)}};m.ShadingPattern=Vu,m.TilingPattern=xh,m.addShadingPattern=function(j,le){return P("addShadingPattern()"),Oi(j,le),this},m.beginTilingPattern=function(j){P("beginTilingPattern()"),Ho(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},m.endTilingPattern=function(j,le){P("endTilingPattern()"),le.stream=Q[G].join(`
`),Oi(j,le),Xt.publish("endTilingPattern",le),Ri.pop().restore()};var Li,Wr=m.__private__.newObject=function(){var j=yn();return Rn(j,!0),j},yn=m.__private__.newObjectDeferred=function(){return ae++,I[ae]=function(){return ne},ae},Rn=function(j,le){return le=typeof le=="boolean"&&le,I[j]=ne,le&&te(j+" 0 obj"),j},Za=m.__private__.newAdditionalObject=function(){var j={objId:yn(),content:""};return oe.push(j),j},ci=yn(),jr=yn(),rn=m.__private__.decodeColorString=function(j){var le=j.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length!==5||le[4]!=="k"&&le[4]!=="K"||(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ee=parseFloat(le[0]);le=[Ee,Ee,Ee,"r"]}for(var Ce="#",De=0;De<3;De++)Ce+=("0"+Math.floor(255*parseFloat(le[De])).toString(16)).slice(-2);return Ce},Zn=m.__private__.encodeColorString=function(j){var le;typeof j=="string"&&(j={ch1:j});var Ee=j.ch1,Ce=j.ch2,De=j.ch3,Ze=j.ch4,it=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var St=new U6(Ee);if(St.ok)Ee=St.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Ct=parseInt(Ee.substr(1),16);Ee=Ct>>16&255,Ce=Ct>>8&255,De=255&Ct}if(Ce===void 0||Ze===void 0&&Ee===Ce&&Ce===De)le=typeof Ee=="string"?Ee+" "+it[0]:j.precision===2?re(Ee/255)+" "+it[0]:B(Ee/255)+" "+it[0];else if(Ze===void 0||$r(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return["1.","1.","1.",it[1]].join(" ");le=typeof Ee=="string"?[Ee,Ce,De,it[1]].join(" "):j.precision===2?[re(Ee/255),re(Ce/255),re(De/255),it[1]].join(" "):[B(Ee/255),B(Ce/255),B(De/255),it[1]].join(" ")}else le=typeof Ee=="string"?[Ee,Ce,De,Ze,it[2]].join(" "):j.precision===2?[re(Ee),re(Ce),re(De),re(Ze),it[2]].join(" "):[B(Ee),B(Ce),B(De),B(Ze),it[2]].join(" ");return le},ji=m.__private__.getFilters=function(){return c},Gi=m.__private__.putStream=function(j){var le=(j=j||{}).data||"",Ee=j.filters||ji(),Ce=j.alreadyAppliedFilters||[],De=j.addLength1||!1,Ze=le.length,it=j.objectId,St=function($n){return $n};if(p!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(St=Vr.encryptor(it,0));var Ct={};Ee===!0&&(Ee=["FlateEncode"]);var Ht=j.additionalKeyValues||[],Zt=(Ct=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(le,Ee):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Ct.data.length!==0&&(Ht.push({key:"Length",value:Ct.data.length}),De===!0&&Ht.push({key:"Length1",value:Ze})),Zt.length!=0)if(Zt.split("/").length-1==1)Ht.push({key:"Filter",value:Zt});else{Ht.push({key:"Filter",value:"["+Zt+"]"});for(var wr=0;wr<Ht.length;wr+=1)if(Ht[wr].key==="DecodeParms"){for(var cn=[],Sn=0;Sn<Ct.reverseChain.split("/").length-1;Sn+=1)cn.push("null");cn.push(Ht[wr].value),Ht[wr].value="["+cn.join(" ")+"]"}}te("<<");for(var Kr=0;Kr<Ht.length;Kr++)te("/"+Ht[Kr].key+" "+Ht[Kr].value);te(">>"),Ct.data.length!==0&&(te("stream"),te(St(Ct.data)),te("endstream"))},Qa=m.__private__.putPage=function(j){var le=j.number,Ee=j.data,Ce=j.objId,De=j.contentsObjId;Rn(Ce,!0),te("<</Type /Page"),te("/Parent "+j.rootDictionaryObjId+" 0 R"),te("/Resources "+j.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(ee(j.mediaBox.bottomLeftX))+" "+parseFloat(ee(j.mediaBox.bottomLeftY))+" "+ee(j.mediaBox.topRightX)+" "+ee(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&te("/CropBox ["+ee(j.cropBox.bottomLeftX)+" "+ee(j.cropBox.bottomLeftY)+" "+ee(j.cropBox.topRightX)+" "+ee(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&te("/BleedBox ["+ee(j.bleedBox.bottomLeftX)+" "+ee(j.bleedBox.bottomLeftY)+" "+ee(j.bleedBox.topRightX)+" "+ee(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&te("/TrimBox ["+ee(j.trimBox.bottomLeftX)+" "+ee(j.trimBox.bottomLeftY)+" "+ee(j.trimBox.topRightX)+" "+ee(j.trimBox.topRightY)+"]"),j.artBox!==null&&te("/ArtBox ["+ee(j.artBox.bottomLeftX)+" "+ee(j.artBox.bottomLeftY)+" "+ee(j.artBox.topRightX)+" "+ee(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&te("/UserUnit "+j.userUnit),Xt.publish("putPage",{objId:Ce,pageContext:gt[le],pageNumber:le,page:Ee}),te("/Contents "+De+" 0 R"),te(">>"),te("endobj");var Ze=Ee.join(`
`);return S===N&&(Ze+=`
Q`),Rn(De,!0),Gi({data:Ze,filters:ji(),objectId:De}),te("endobj"),Ce},ta=m.__private__.putPages=function(){var j,le,Ee=[];for(j=1;j<=Mt;j++)gt[j].objId=yn(),gt[j].contentsObjId=yn();for(j=1;j<=Mt;j++)Ee.push(Qa({number:j,data:Q[j],objId:gt[j].objId,contentsObjId:gt[j].contentsObjId,mediaBox:gt[j].mediaBox,cropBox:gt[j].cropBox,bleedBox:gt[j].bleedBox,trimBox:gt[j].trimBox,artBox:gt[j].artBox,userUnit:gt[j].userUnit,rootDictionaryObjId:ci,resourceDictionaryObjId:jr}));Rn(ci,!0),te("<</Type /Pages");var Ce="/Kids [";for(le=0;le<Mt;le++)Ce+=Ee[le]+" 0 R ";te(Ce+"]"),te("/Count "+Mt),te(">>"),te("endobj"),Xt.publish("postPutPages")},ra=function(j){Xt.publish("putFont",{font:j,out:te,newObject:Wr,putStream:Gi}),j.isAlreadyPutted!==!0&&(j.objectNumber=Wr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+bh(j.postScriptName)),te("/Subtype /Type1"),typeof j.encoding=="string"&&te("/Encoding /"+j.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},es=function(j){j.objectNumber=Wr();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[ee(j.x),ee(j.y),ee(j.x+j.width),ee(j.y+j.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Ee=j.pages[1].join(`
`);Gi({data:Ee,additionalKeyValues:le,objectId:j.objectNumber}),te("endobj")},na=function(j,le){le||(le=21);var Ee=Wr(),Ce=(function(it,St){var Ct,Ht=[],Zt=1/(St-1);for(Ct=0;Ct<1;Ct+=Zt)Ht.push(Ct);if(Ht.push(1),it[0].offset!=0){var wr={offset:0,color:it[0].color};it.unshift(wr)}if(it[it.length-1].offset!=1){var cn={offset:1,color:it[it.length-1].color};it.push(cn)}for(var Sn="",Kr=0,$n=0;$n<Ht.length;$n++){for(Ct=Ht[$n];Ct>it[Kr+1].offset;)Kr++;var On=it[Kr].offset,fi=(Ct-On)/(it[Kr+1].offset-On),Cs=it[Kr].color,Ba=it[Kr+1].color;Sn+=ce(Math.round((1-fi)*Cs[0]+fi*Ba[0]).toString(16))+ce(Math.round((1-fi)*Cs[1]+fi*Ba[1]).toString(16))+ce(Math.round((1-fi)*Cs[2]+fi*Ba[2]).toString(16))}return Sn.trim()})(j.colors,le),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+le+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gi({data:Ce,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),te("endobj"),j.objectNumber=Wr(),te("<< /ShadingType "+j.type),te("/ColorSpace /DeviceRGB");var Ze="/Coords ["+ee(parseFloat(j.coords[0]))+" "+ee(parseFloat(j.coords[1]))+" ";j.type===2?Ze+=ee(parseFloat(j.coords[2]))+" "+ee(parseFloat(j.coords[3])):Ze+=ee(parseFloat(j.coords[2]))+" "+ee(parseFloat(j.coords[3]))+" "+ee(parseFloat(j.coords[4]))+" "+ee(parseFloat(j.coords[5])),te(Ze+="]"),j.matrix&&te("/Matrix ["+j.matrix.toString()+"]"),te("/Function "+Ee+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},ia=function(j,le){var Ee=yn(),Ce=Wr();le.push({resourcesOid:Ee,objectOid:Ce}),j.objectNumber=Ce;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+j.boundingBox.map(ee).join(" ")+"]"}),De.push({key:"XStep",value:ee(j.xStep)}),De.push({key:"YStep",value:ee(j.yStep)}),De.push({key:"Resources",value:Ee+" 0 R"}),j.matrix&&De.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Gi({data:j.stream,additionalKeyValues:De,objectId:j.objectNumber}),te("endobj")},ts=function(j){for(var le in j.objectNumber=Wr(),te("<<"),j)switch(le){case"opacity":te("/ca "+re(j[le]));break;case"stroke-opacity":te("/CA "+re(j[le]))}te(">>"),te("endobj")},fa=function(j){Rn(j.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var le in te("/Font <<"),Je)Je.hasOwnProperty(le)&&(y===!1||y===!0&&b.hasOwnProperty(le))&&te("/"+le+" "+Je[le].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(Et).length>0){for(var le in te("/Shading <<"),Et)Et.hasOwnProperty(le)&&Et[le]instanceof Vu&&Et[le].objectNumber>=0&&te("/"+le+" "+Et[le].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),te(">>")}})(),(function(le){if(Object.keys(Et).length>0){for(var Ee in te("/Pattern <<"),Et)Et.hasOwnProperty(Ee)&&Et[Ee]instanceof m.TilingPattern&&Et[Ee].objectNumber>=0&&Et[Ee].objectNumber<le&&te("/"+Ee+" "+Et[Ee].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),te(">>")}})(j.objectOid),(function(){if(Object.keys(wt).length>0){var le;for(le in te("/ExtGState <<"),wt)wt.hasOwnProperty(le)&&wt[le].objectNumber>=0&&te("/"+le+" "+wt[le].objectNumber+" 0 R");Xt.publish("putGStateDict"),te(">>")}})(),(function(){for(var le in te("/XObject <<"),li)li.hasOwnProperty(le)&&li[le].objectNumber>=0&&te("/"+le+" "+li[le].objectNumber+" 0 R");Xt.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},un=function(j){lt[j.fontName]=lt[j.fontName]||{},lt[j.fontName][j.fontStyle]=j.id},_s=function(j,le,Ee,Ce,De){var Ze={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:j,fontName:le,fontStyle:Ee,encoding:Ce,isStandardFont:De||!1,metadata:{}};return Xt.publish("addFont",{font:Ze,instance:this}),Je[Ze.id]=Ze,un(Ze),Ze.id},$e=m.__private__.pdfEscape=m.pdfEscape=function(j,le){return(function(Ee,Ce){var De,Ze,it,St,Ct,Ht,Zt,wr,cn;if(it=(Ce=Ce||{}).sourceEncoding||"Unicode",Ct=Ce.outputEncoding,(Ce.autoencode||Ct)&&Je[dt].metadata&&Je[dt].metadata[it]&&Je[dt].metadata[it].encoding&&(St=Je[dt].metadata[it].encoding,!Ct&&Je[dt].encoding&&(Ct=Je[dt].encoding),!Ct&&St.codePages&&(Ct=St.codePages[0]),typeof Ct=="string"&&(Ct=St[Ct]),Ct)){for(Zt=!1,Ht=[],De=0,Ze=Ee.length;De<Ze;De++)(wr=Ct[Ee.charCodeAt(De)])?Ht.push(String.fromCharCode(wr)):Ht.push(Ee[De]),Ht[De].charCodeAt(0)>>8&&(Zt=!0);Ee=Ht.join("")}for(De=Ee.length;Zt===void 0&&De!==0;)Ee.charCodeAt(De-1)>>8&&(Zt=!0),De--;if(!Zt)return Ee;for(Ht=Ce.noBOM?[]:[254,255],De=0,Ze=Ee.length;De<Ze;De++){if((cn=(wr=Ee.charCodeAt(De))>>8)>>8)throw new Error("Character at position "+De+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(cn),Ht.push(wr-(cn<<8))}return String.fromCharCode.apply(void 0,Ht)})(j,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ct=m.__private__.beginPage=function(j){Q[++Mt]=[],gt[Mt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},cr(Mt),z(Q[G])},pt=function(j,le){var Ee,Ce,De;switch(t=le||t,typeof j=="string"&&(Ee=v(j.toLowerCase()),Array.isArray(Ee)&&(Ce=Ee[0],De=Ee[1])),Array.isArray(j)&&(Ce=j[0]*Rt,De=j[1]*Rt),isNaN(Ce)&&(Ce=s[0],De=s[1]),(Ce>14400||De>14400)&&(on.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),De=Math.min(14400,De)),s=[Ce,De],t.substr(0,1)){case"l":De>Ce&&(s=[De,Ce]);break;case"p":Ce>De&&(s=[De,Ce])}ct(s),Ft(Fo),te(sa),Al!==0&&te(Al+" J"),ei!==0&&te(ei+" j"),Xt.publish("addPage",{pageNumber:Mt})},Lt=function(j){j>0&&j<=Mt&&(Q.splice(j,1),gt.splice(j,1),Mt--,G>Mt&&(G=Mt),this.setPage(G))},cr=function(j){j>0&&j<=Mt&&(G=j)},Wt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Q.length-1},rr=function(j,le,Ee){var Ce,De=void 0;return Ee=Ee||{},j=j!==void 0?j:Je[dt].fontName,le=le!==void 0?le:Je[dt].fontStyle,Ce=j.toLowerCase(),lt[Ce]!==void 0&&lt[Ce][le]!==void 0?De=lt[Ce][le]:lt[j]!==void 0&&lt[j][le]!==void 0?De=lt[j][le]:Ee.disableWarning===!1&&on.warn("Unable to look up font label for font '"+j+"', '"+le+"'. Refer to getFontList() for available fonts."),De||Ee.noFallback||(De=lt.times[le])==null&&(De=lt.times.normal),De},ar=m.__private__.putInfo=function(){var j=Wr(),le=function(Ce){return Ce};for(var Ee in p!==null&&(le=Vr.encryptor(j,0)),te("<<"),te("/Producer ("+$e(le("jsPDF "+Pt.version))+")"),ht)ht.hasOwnProperty(Ee)&&ht[Ee]&&te("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+$e(le(ht[Ee]))+")");te("/CreationDate ("+$e(le(se))+")"),te(">>"),te("endobj")},Pr=m.__private__.putCatalog=function(j){var le=(j=j||{}).rootDictionaryObjId||ci;switch(Wr(),te("<<"),te("/Type /Catalog"),te("/Pages "+le+" 0 R"),ve||(ve="fullwidth"),ve){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+ve;Ee.substr(Ee.length-1)==="%"&&(ve=parseInt(ve)/100),typeof ve=="number"&&te("/OpenAction [3 0 R /XYZ null null "+re(ve)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}je&&te("/PageMode /"+je),Xt.publish("putCatalog"),te(">>"),te("endobj")},dr=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ae+1)),te("/Root "+ae+" 0 R"),te("/Info "+(ae-1)+" 0 R"),p!==null&&te("/Encrypt "+Vr.oid+" 0 R"),te("/ID [ <"+ie+"> <"+ie+"> ]"),te(">>")},ir=m.__private__.putHeader=function(){te("%PDF-"+A),te("%")},rs=m.__private__.putXRef=function(){var j="0000000000";te("xref"),te("0 "+(ae+1)),te("0000000000 65535 f ");for(var le=1;le<=ae;le++)typeof I[le]=="function"?te((j+I[le]()).slice(-10)+" 00000 n "):I[le]!==void 0?te((j+I[le]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Hn=m.__private__.buildDocument=function(){var j;ae=0,ne=0,U=[],I=[],oe=[],ci=yn(),jr=yn(),z(U),Xt.publish("buildDocument"),ir(),ta(),(function(){Xt.publish("putAdditionalObjects");for(var Ee=0;Ee<oe.length;Ee++){var Ce=oe[Ee];Rn(Ce.objId,!0),te(Ce.content),te("endobj")}Xt.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var Ee in Je)Je.hasOwnProperty(Ee)&&(y===!1||y===!0&&b.hasOwnProperty(Ee))&&ra(Je[Ee])})(),(function(){var Ee;for(Ee in wt)wt.hasOwnProperty(Ee)&&ts(wt[Ee])})(),(function(){for(var Ee in li)li.hasOwnProperty(Ee)&&es(li[Ee])})(),(function(Ee){var Ce;for(Ce in Et)Et.hasOwnProperty(Ce)&&(Et[Ce]instanceof Vu?na(Et[Ce]):Et[Ce]instanceof xh&&ia(Et[Ce],Ee))})(j),Xt.publish("putResources"),j.forEach(fa),fa({resourcesOid:jr,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources"),p!==null&&(Vr.oid=Wr(),te("<<"),te("/Filter /Standard"),te("/V "+Vr.v),te("/R "+Vr.r),te("/U <"+Vr.toHexString(Vr.U)+">"),te("/O <"+Vr.toHexString(Vr.O)+">"),te("/P "+Vr.P),te(">>"),te("endobj")),ar(),Pr();var le=ne;return rs(),dr(),te("startxref"),te(""+le),te("%%EOF"),z(Q[G]),U.join(`
`)},Cn=m.__private__.getBlob=function(j){return new Blob([T(j)],{type:"application/pdf"})},Dr=m.output=m.__private__.output=(Li=function(j,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",j){case void 0:return Hn();case"save":m.save(le.filename);break;case"arraybuffer":return T(Hn());case"blob":return Cn(Hn());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(Cn(Hn()))||void 0;on.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ce=Hn();try{Ee=OS(Ce)}catch{Ee=OS(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(De=le.pdfObjectUrl,Ze="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",St=Kt.open();return St!==null&&St.document.write(it),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Ht=Kt.open();if(Ht!==null){Ht.document.write(Ct);var Zt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=le.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',cn=Kt.open();if(cn!==null&&(cn.document.write(wr),cn.document.title=le.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",le);default:return null}},Li.foo=function(){try{return Li.apply(this,arguments)}catch(Ee){var j=Ee.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var le="Error in function "+j.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Kt.console)throw new Error(le);Kt.console.error(le,Ee),Kt.alert&&alert(le)}},Li.foo.bar=Li,Li.foo),or=function(j){return Array.isArray(qn)===!0&&qn.indexOf(j)>-1};switch(i){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=or("px_scaling")==1?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Rt=i}var Vr=null;W(),pe();var Mr=m.__private__.getPageInfo=m.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[j].objId,pageNumber:j,pageContext:gt[j]}},Pi=m.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in gt)if(gt[le].objId===j)break;return Mr(le)},xs=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:gt[G].objId,pageNumber:G,pageContext:gt[G]}};m.addPage=function(){return pt.apply(this,arguments),this},m.setPage=function(){return cr.apply(this,arguments),z.call(this,Q[G]),this},m.insertPage=function(j){return this.addPage(),this.movePage(G,j),this},m.movePage=function(j,le){var Ee,Ce;if(j>le){Ee=Q[j],Ce=gt[j];for(var De=j;De>le;De--)Q[De]=Q[De-1],gt[De]=gt[De-1];Q[le]=Ee,gt[le]=Ce,this.setPage(le)}else if(j<le){Ee=Q[j],Ce=gt[j];for(var Ze=j;Ze<le;Ze++)Q[Ze]=Q[Ze+1],gt[Ze]=gt[Ze+1];Q[le]=Ee,gt[le]=Ce,this.setPage(le)}return this},m.deletePage=function(){return Lt.apply(this,arguments),this},m.__private__.text=m.text=function(j,le,Ee,Ce,De){var Ze,it,St,Ct,Ht,Zt,wr,cn,Sn,Kr=(Ce=Ce||{}).scope||this;if(typeof j=="number"&&typeof le=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var $n=Ee;Ee=le,le=j,j=$n}if(arguments[3]instanceof Tt==0?(St=arguments[4],Ct=arguments[5],$r(wr=arguments[3])==="object"&&wr!==null||(typeof St=="string"&&(Ct=St,St=null),typeof wr=="string"&&(Ct=wr,wr=null),typeof wr=="number"&&(St=wr,wr=null),Ce={flags:wr,angle:St,align:Ct})):(P("The transform parameter of text() with a Matrix value"),Sn=De),isNaN(le)||isNaN(Ee)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Kr;var On,fi="",Cs=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Ss,Ba=Kr.internal.scaleFactor;function Os(Tr){return Tr=Tr.split("	").join(Array(Ce.TabLen||9).join(" ")),$e(Tr,wr)}function wu(Tr){for(var _r,Yr=Tr.concat(),En=[],fs=Yr.length;fs--;)typeof(_r=Yr.shift())=="string"?En.push(_r):Array.isArray(Tr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?En.push(_r[0]):En.push([_r[0],_r[1],_r[2]]);return En}function kl(Tr,_r){var Yr;if(typeof Tr=="string")Yr=_r(Tr)[0];else if(Array.isArray(Tr)){for(var En,fs,Fa=Tr.concat(),Vo=[],Su=Fa.length;Su--;)typeof(En=Fa.shift())=="string"?Vo.push(_r(En)[0]):Array.isArray(En)&&typeof En[0]=="string"&&(fs=_r(En[0],En[1],En[2]),Vo.push([fs[0],fs[1],fs[2]]));Yr=Vo}return Yr}var as=!1,Ia=!0;if(typeof j=="string")as=!0;else if(Array.isArray(j)){var Go=j.concat();it=[];for(var Ls,ti=Go.length;ti--;)(typeof(Ls=Go.shift())!="string"||Array.isArray(Ls)&&typeof Ls[0]!="string")&&(Ia=!1);as=Ia}if(as===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var co=M/Kr.internal.scaleFactor,ho=co*(Cs-1);switch(Ce.baseline){case"bottom":Ee-=ho;break;case"top":Ee+=co-ho;break;case"hanging":Ee+=co-2*ho;break;case"middle":Ee+=co/2-ho}if((Zt=Ce.maxWidth||0)>0&&(typeof j=="string"?j=Kr.splitTextToSize(j,Zt):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Tr,_r){return Tr.concat(Kr.splitTextToSize(_r,Zt))},[]))),Ze={text:j,x:le,y:Ee,options:Ce,mutex:{pdfEscape:$e,activeFontKey:dt,fonts:Je,activeFontSize:M}},Xt.publish("preProcessText",Ze),j=Ze.text,St=(Ce=Ze.options).angle,Sn instanceof Tt==0&&St&&typeof St=="number"){St*=Math.PI/180,Ce.rotationDirection===0&&(St=-St),S===N&&(St=-St);var Nl=Math.cos(St),ss=Math.sin(St);Sn=new Tt(Nl,ss,-ss,Nl,0,0)}else St&&St instanceof Tt&&(Sn=St);S!==N||Sn||(Sn=ui),(Ht=Ce.charSpace||da)!==void 0&&(fi+=ee(J(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=Ce.horizontalScale)!==void 0&&(fi+=ee(100*cn)+` Tz
`),Ce.lang;var Di=-1,js=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Tl=Kr.internal.getCurrentPageInfo().pageContext;switch(js){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var _u=Tl.usedRenderingMode!==void 0?Tl.usedRenderingMode:-1;Di!==-1?fi+=Di+` Tr
`:_u!==-1&&(fi+=`0 Tr
`),Di!==-1&&(Tl.usedRenderingMode=Di),Ct=Ce.align||"left";var oa,Ua=M*Cs,Ps=Kr.internal.pageSize.getWidth(),xu=Je[dt];Ht=Ce.charSpace||da,Zt=Ce.maxWidth||0,wr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Ma=[],fo=function(Tr){return Kr.getStringUnitWidth(Tr,{font:xu,charSpace:Ht,fontSize:M,doKerning:!1})*M/Ba};if(Object.prototype.toString.call(j)==="[object Array]"){var Vi;it=wu(j),Ct!=="left"&&(oa=it.map(fo));var Bi,os=0;if(Ct==="right"){le-=oa[0],j=[],ti=it.length;for(var ls=0;ls<ti;ls++)ls===0?(Bi=aa(le),Vi=hi(Ee)):(Bi=J(os-oa[ls]),Vi=-Ua),j.push([it[ls],Bi,Vi]),os=oa[ls]}else if(Ct==="center"){le-=oa[0]/2,j=[],ti=it.length;for(var Ds=0;Ds<ti;Ds++)Ds===0?(Bi=aa(le),Vi=hi(Ee)):(Bi=J((os-oa[Ds])/2),Vi=-Ua),j.push([it[Ds],Bi,Vi]),os=oa[Ds]}else if(Ct==="left"){j=[],ti=it.length;for(var Rl=0;Rl<ti;Rl++)j.push(it[Rl])}else if(Ct==="justify"&&xu.encoding==="Identity-H"){j=[],ti=it.length,Zt=Zt!==0?Zt:Ps;for(var Cl=0,An=0;An<ti;An++)if(Vi=An===0?hi(Ee):-Ua,Bi=An===0?aa(le):Cl,An<ti-1){var xc=J((Zt-oa[An])/(it[An].split(" ").length-1)),us=it[An].split(" ");j.push([us[0]+" ",Bi,Vi]),Cl=0;for(var cs=1;cs<us.length;cs++){var di=(fo(us[cs-1]+" "+us[cs])-fo(us[cs]))*Ba+xc;cs==us.length-1?j.push([us[cs],di,0]):j.push([us[cs]+" ",di,0]),Cl-=di}}else j.push([it[An],Bi,Vi]);j.push(["",Cl,0])}else{if(Ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],ti=it.length,Zt=Zt!==0?Zt:Ps,An=0;An<ti;An++){Vi=An===0?hi(Ee):-Ua,Bi=An===0?aa(le):0;var Bs=it[An].split(" ").length-1,Ol=Bs>0?(Zt-oa[An])/Bs:0;An<ti-1?Ma.push(ee(J(Ol))):Ma.push(0),j.push([it[An],Bi,Vi])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:we)===!0&&(j=kl(j,function(Tr,_r,Yr){return[Tr.split("").reverse().join(""),_r,Yr]})),Ze={text:j,x:le,y:Ee,options:Ce,mutex:{pdfEscape:$e,activeFontKey:dt,fonts:Je,activeFontSize:M}},Xt.publish("postProcessText",Ze),j=Ze.text,On=Ze.mutex.isHex||!1;var Ll=Je[dt].encoding;Ll!=="WinAnsiEncoding"&&Ll!=="StandardEncoding"||(j=kl(j,function(Tr,_r,Yr){return[Os(Tr),_r,Yr]})),it=wu(j),j=[];for(var Is,Us,hs,Wo=Array.isArray(it[0])?1:0,la="",Ms=function(Tr,_r,Yr){var En="";return Yr instanceof Tt?(Yr=typeof Ce.angle=="number"?Ci(Yr,new Tt(1,0,0,1,Tr,_r)):Ci(new Tt(1,0,0,1,Tr,_r),Yr),S===N&&(Yr=Ci(new Tt(1,0,0,-1,0,0),Yr)),En=Yr.join(" ")+` Tm
`):En=ee(Tr)+" "+ee(_r)+` Td
`,En},_i=0;_i<it.length;_i++){switch(la="",Wo){case 1:hs=(On?"<":"(")+it[_i][0]+(On?">":")"),Is=parseFloat(it[_i][1]),Us=parseFloat(it[_i][2]);break;case 0:hs=(On?"<":"(")+it[_i]+(On?">":")"),Is=aa(le),Us=hi(Ee)}Ma!==void 0&&Ma[_i]!==void 0&&(la=Ma[_i]+` Tw
`),_i===0?j.push(la+Ms(Is,Us,Sn)+hs):Wo===0?j.push(la+hs):Wo===1&&j.push(la+Ms(Is,Us,Sn)+hs)}j=Wo===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var ma=`BT
/`;return ma+=dt+" "+M+` Tf
`,ma+=ee(M*Cs)+` TL
`,ma+=ns+`
`,ma+=fi,ma+=j,te(ma+="ET"),b[dt]=!0,Kr};var oo=m.__private__.clip=m.clip=function(j){return te(j==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return oo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var Qn=m.__private__.isValidStyle=function(j){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(le=!0),le};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(j){return Qn(j)&&(f=j),this};var lo=m.__private__.getStyle=m.getStyle=function(j){var le=f;switch(j){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=j}return le},pu=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(j){return Pa("f",j),this},m.fillEvenOdd=function(j){return Pa("f*",j),this},m.fillStroke=function(j){return Pa("B",j),this},m.fillStrokeEvenOdd=function(j){return Pa("B*",j),this};var Pa=function(j,le){$r(le)==="object"?mc(le,j):te(j)},Mo=function(j){j===null||S===N&&j===void 0||(j=lo(j),te(j))};function pc(j,le,Ee,Ce,De){var Ze=new xh(le||this.boundingBox,Ee||this.xStep,Ce||this.yStep,this.gState,De||this.matrix);Ze.stream=this.stream;var it=j+"$$"+this.cloneIndex+++"$$";return Oi(it,Ze),Ze}var mc=function(j,le){var Ee=Jt[j.key],Ce=Et[Ee];if(Ce instanceof Vu)te("q"),te(mu(le)),Ce.gState&&m.setGState(Ce.gState),te(j.matrix.toString()+" cm"),te("/"+Ee+" sh"),te("Q");else if(Ce instanceof xh){var De=new Tt(1,0,0,-1,0,Rs());j.matrix&&(De=De.multiply(j.matrix||ui),Ee=pc.call(Ce,j.key,j.boundingBox,j.xStep,j.yStep,De).id),te("q"),te("/Pattern cs"),te("/"+Ee+" scn"),Ce.gState&&m.setGState(Ce.gState),te(le),te("Q")}},mu=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gu=m.moveTo=function(j,le){return te(ee(J(j))+" "+ee(L(le))+" m"),this},gc=m.lineTo=function(j,le){return te(ee(J(j))+" "+ee(L(le))+" l"),this},Wi=m.curveTo=function(j,le,Ee,Ce,De,Ze){return te([ee(J(j)),ee(L(le)),ee(J(Ee)),ee(L(Ce)),ee(J(De)),ee(L(Ze)),"c"].join(" ")),this};m.__private__.line=m.line=function(j,le,Ee,Ce,De){if(isNaN(j)||isNaN(le)||isNaN(Ee)||isNaN(Ce)||!Qn(De))throw new Error("Invalid arguments passed to jsPDF.line");return S===C?this.lines([[Ee-j,Ce-le]],j,le,[1,1],De||"S"):this.lines([[Ee-j,Ce-le]],j,le,[1,1]).stroke()},m.__private__.lines=m.lines=function(j,le,Ee,Ce,De,Ze){var it,St,Ct,Ht,Zt,wr,cn,Sn,Kr,$n,On,fi;if(typeof j=="number"&&(fi=Ee,Ee=le,le=j,j=fi),Ce=Ce||[1,1],Ze=Ze||!1,isNaN(le)||isNaN(Ee)||!Array.isArray(j)||!Array.isArray(Ce)||!Qn(De)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gu(le,Ee),it=Ce[0],St=Ce[1],Ht=j.length,$n=le,On=Ee,Ct=0;Ct<Ht;Ct++)(Zt=j[Ct]).length===2?($n=Zt[0]*it+$n,On=Zt[1]*St+On,gc($n,On)):(wr=Zt[0]*it+$n,cn=Zt[1]*St+On,Sn=Zt[2]*it+$n,Kr=Zt[3]*St+On,$n=Zt[4]*it+$n,On=Zt[5]*St+On,Wi(wr,cn,Sn,Kr,$n,On));return Ze&&pu(),Mo(De),this},m.path=function(j){for(var le=0;le<j.length;le++){var Ee=j[le],Ce=Ee.c;switch(Ee.op){case"m":gu(Ce[0],Ce[1]);break;case"l":gc(Ce[0],Ce[1]);break;case"c":Wi.apply(this,Ce);break;case"h":pu()}}return this},m.__private__.rect=m.rect=function(j,le,Ee,Ce,De){if(isNaN(j)||isNaN(le)||isNaN(Ee)||isNaN(Ce)||!Qn(De))throw new Error("Invalid arguments passed to jsPDF.rect");return S===C&&(Ce=-Ce),te([ee(J(j)),ee(L(le)),ee(J(Ee)),ee(J(Ce)),"re"].join(" ")),Mo(De),this},m.__private__.triangle=m.triangle=function(j,le,Ee,Ce,De,Ze,it){if(isNaN(j)||isNaN(le)||isNaN(Ee)||isNaN(Ce)||isNaN(De)||isNaN(Ze)||!Qn(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-j,Ce-le],[De-Ee,Ze-Ce],[j-De,le-Ze]],j,le,[1,1],it,!0),this},m.__private__.roundedRect=m.roundedRect=function(j,le,Ee,Ce,De,Ze,it){if(isNaN(j)||isNaN(le)||isNaN(Ee)||isNaN(Ce)||isNaN(De)||isNaN(Ze)||!Qn(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*Ee),Ze=Math.min(Ze,.5*Ce),this.lines([[Ee-2*De,0],[De*St,0,De,Ze-Ze*St,De,Ze],[0,Ce-2*Ze],[0,Ze*St,-De*St,Ze,-De,Ze],[2*De-Ee,0],[-De*St,0,-De,-Ze*St,-De,-Ze],[0,2*Ze-Ce],[0,-Ze*St,De*St,-Ze,De,-Ze]],j+De,le,[1,1],it,!0),this},m.__private__.ellipse=m.ellipse=function(j,le,Ee,Ce,De){if(isNaN(j)||isNaN(le)||isNaN(Ee)||isNaN(Ce)||!Qn(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*Ee,it=4/3*(Math.SQRT2-1)*Ce;return gu(j+Ee,le),Wi(j+Ee,le-it,j+Ze,le-Ce,j,le-Ce),Wi(j-Ze,le-Ce,j-Ee,le-it,j-Ee,le),Wi(j-Ee,le+it,j-Ze,le+Ce,j,le+Ce),Wi(j+Ze,le+Ce,j+Ee,le+it,j+Ee,le),Mo(De),this},m.__private__.circle=m.circle=function(j,le,Ee,Ce){if(isNaN(j)||isNaN(le)||isNaN(Ee)||!Qn(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,le,Ee,Ee,Ce)},m.setFont=function(j,le,Ee){return Ee&&(le=$(le,Ee)),dt=rr(j,le,{disableWarning:!1}),this};var Da=m.__private__.getFont=m.getFont=function(){return Je[rr.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var j,le,Ee={};for(j in lt)if(lt.hasOwnProperty(j))for(le in Ee[j]=[],lt[j])lt[j].hasOwnProperty(le)&&Ee[j].push(le);return Ee},m.addFont=function(j,le,Ee,Ce,De){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(Ee=$(Ee,Ce)),_s.call(this,j,le,Ee,De=De||"Identity-H")};var Ss,Fo=r.lineWidth||.200025,uo=m.__private__.getLineWidth=m.getLineWidth=function(){return Fo},Ft=m.__private__.setLineWidth=m.setLineWidth=function(j){return Fo=j,te(ee(J(j))+" w"),this};m.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(j,le){if(j=j||[],le=le||0,isNaN(le)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Ee){return ee(J(Ee))}).join(" "),le=ee(J(le)),te("["+j+"] "+le+" d"),this};var yc=m.__private__.getLineHeight=m.getLineHeight=function(){return M*Ss};m.__private__.getLineHeight=m.getLineHeight=function(){return M*Ss};var yu=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Ss=j),this},vc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ss};yu(r.lineHeight);var aa=m.__private__.getHorizontalCoordinate=function(j){return J(j)},hi=m.__private__.getVerticalCoordinate=function(j){return S===N?j:gt[G].mediaBox.topRightY-gt[G].mediaBox.bottomLeftY-J(j)},vu=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(j){return ee(aa(j))},zo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(j){return ee(hi(j))},sa=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return rn(sa)},m.__private__.setStrokeColor=m.setDrawColor=function(j,le,Ee,Ce){return sa=Zn({ch1:j,ch2:le,ch3:Ee,ch4:Ce,pdfColorType:"draw",precision:2}),te(sa),this};var qo=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return rn(qo)},m.__private__.setFillColor=m.setFillColor=function(j,le,Ee,Ce){return qo=Zn({ch1:j,ch2:le,ch3:Ee,ch4:Ce,pdfColorType:"fill",precision:2}),te(qo),this};var ns=r.textColor||"0 g",bc=m.__private__.getTextColor=m.getTextColor=function(){return rn(ns)};m.__private__.setTextColor=m.setTextColor=function(j,le,Ee,Ce){return ns=Zn({ch1:j,ch2:le,ch3:Ee,ch4:Ce,pdfColorType:"text",precision:3}),this};var da=r.charSpace,Sl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(da||0)};m.__private__.setCharSpace=m.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return da=j,this};var Al=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(j){var le=m.CapJoinStyles[j];if(le===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=le,te(le+" J"),this};var ei=0;m.__private__.setLineJoin=m.setLineJoin=function(j){var le=m.CapJoinStyles[j];if(le===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ei=le,te(le+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(ee(J(j))+" M"),this},m.GState=g0,m.setGState=function(j){(j=typeof j=="string"?wt[Ut[j]]:is(null,j)).equals(yr)||(te("/"+j.id+" gs"),yr=j)};var is=function(j,le){if(!j||!Ut[j]){var Ee=!1;for(var Ce in wt)if(wt.hasOwnProperty(Ce)&&wt[Ce].equals(le)){Ee=!0;break}if(Ee)le=wt[Ce];else{var De="GS"+(Object.keys(wt).length+1).toString(10);wt[De]=le,le.id=De}return j&&(Ut[j]=le.id),Xt.publish("addGState",le),le}};m.addGState=function(j,le){return is(j,le),this},m.saveGraphicsState=function(){return te("q"),_t.push({key:dt,size:M,color:ns}),this},m.restoreGraphicsState=function(){te("Q");var j=_t.pop();return dt=j.key,M=j.size,ns=j.color,yr=null,this},m.setCurrentTransformationMatrix=function(j){return te(j.toString()+" cm"),this},m.comment=function(j){return te("#"+j),this};var pa=function(j,le){var Ee=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(Ze){isNaN(Ze)||(Ee=parseFloat(Ze))}});var Ce=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Ze){De=Ze.toString()}}),this},As=function(j,le,Ee,Ce){pa.call(this,j,le),this.type="rect";var De=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(it){isNaN(it)||(De=parseFloat(it))}});var Ze=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(it){isNaN(it)||(Ze=parseFloat(it))}}),this},El=function(){this.page=Mt,this.currentPage=G,this.pages=Q.slice(0),this.pagesContext=gt.slice(0),this.x=mt,this.y=Sr,this.matrix=bt,this.width=ks(G),this.height=bu(G),this.outputDestination=ke,this.id="",this.objectNumber=-1};El.prototype.restore=function(){Mt=this.page,G=this.currentPage,gt=this.pagesContext,Q=this.pages,mt=this.x,Sr=this.y,bt=this.matrix,$o(G,this.width),Ns(G,this.height),ke=this.outputDestination};var Ho=function(j,le,Ee,Ce,De){Ri.push(new El),Mt=G=0,Q=[],mt=j,Sr=le,bt=De,ct([Ee,Ce])};for(var Es in m.beginFormObject=function(j,le,Ee,Ce,De){return Ho(j,le,Ee,Ce,De),this},m.endFormObject=function(j){return(function(le){if(ea[le])Ri.pop().restore();else{var Ee=new El,Ce="Xo"+(Object.keys(li).length+1).toString(10);Ee.id=Ce,ea[le]=Ce,li[Ce]=Ee,Xt.publish("addFormObject",Ee),Ri.pop().restore()}})(j),this},m.doFormObject=function(j,le){var Ee=li[ea[j]];return te("q"),te(le.toString()+" cm"),te("/"+Ee.id+" Do"),te("Q"),this},m.getFormObject=function(j){var le=li[ea[j]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},m.save=function(j,le){return j=j||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?($u(Cn(Hn()),j),typeof $u.unload=="function"&&Kt.setTimeout&&setTimeout($u.unload,911),this):new Promise(function(Ee,Ce){try{var De=$u(Cn(Hn()),j);typeof $u.unload=="function"&&Kt.setTimeout&&setTimeout($u.unload,911),Ee(De)}catch(Ze){Ce(Ze.message)}})},Pt.API)Pt.API.hasOwnProperty(Es)&&(Es==="events"&&Pt.API.events.length?(function(j,le){var Ee,Ce,De;for(De=le.length-1;De!==-1;De--)Ee=le[De][0],Ce=le[De][1],j.subscribe.apply(j,[Ee].concat(typeof Ce=="function"?[Ce]:Ce))})(Xt,Pt.API.events):m[Es]=Pt.API[Es]);function ks(j){return gt[j].mediaBox.topRightX-gt[j].mediaBox.bottomLeftX}function $o(j,le){gt[j].mediaBox.topRightX=le+gt[j].mediaBox.bottomLeftX}function bu(j){return gt[j].mediaBox.topRightY-gt[j].mediaBox.bottomLeftY}function Ns(j,le){gt[j].mediaBox.topRightY=le+gt[j].mediaBox.bottomLeftY}var Ts=m.getPageWidth=function(j){return ks(j=j||G)/Rt},wc=m.setPageWidth=function(j,le){$o(j,le*Rt)},Rs=m.getPageHeight=function(j){return bu(j=j||G)/Rt},_c=m.setPageHeight=function(j,le){Ns(j,le*Rt)};return m.internal={pdfEscape:$e,getStyle:lo,getFont:Da,getFontSize:xe,getCharSpace:Sl,getTextColor:bc,getLineHeight:yc,getLineHeightFactor:vc,getLineWidth:uo,write:q,getHorizontalCoordinate:aa,getVerticalCoordinate:hi,getCoordinateString:vu,getVerticalCoordinateString:zo,collections:{},newObject:Wr,newAdditionalObject:Za,newObjectDeferred:yn,newObjectDeferredBegin:Rn,getFilters:ji,putStream:Gi,events:Xt,scaleFactor:Rt,pageSize:{getWidth:function(){return Ts(G)},setWidth:function(j){wc(G,j)},getHeight:function(){return Rs(G)},setHeight:function(j){_c(G,j)}},encryptionOptions:p,encryption:Vr,getEncryptor:function(j){return p!==null?Vr.encryptor(j,0):function(le){return le}},output:Dr,getNumberOfPages:Wt,get pages(){return Q},out:te,f2:re,f3:B,getPageInfo:Mr,getPageInfoByObjId:Pi,getCurrentPageInfo:xs,getPDFVersion:_,Point:pa,Rectangle:As,Matrix:Tt,hasHotfix:or},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ts(G)},set:function(j){wc(G,j)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Rs(G)},set:function(j){_c(G,j)},enumerable:!0,configurable:!0}),(function(j){for(var le=0,Ee=O.length;le<Ee;le++){var Ce=_s.call(this,j[le][0],j[le][1],j[le][2],O[le][3],!0);y===!1&&(b[Ce]=!0);var De=j[le][0].split("-");un({id:Ce,fontName:De[0],fontStyle:De[1]||""})}Xt.publish("addFonts",{fonts:Je,dictionary:lt})}).call(m,O),dt="F1",pt(s,t),Xt.publish("initialized"),m}vh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},vh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},vh.prototype.processOwnerPassword=function(r,e){return gv(mv(e).substr(0,5),r)},vh.prototype.encryptor=function(r,e){var t=mv(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return gv(t,i)}},g0.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||$r(r)!==$r(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Pt.API={events:[]},Pt.version="3.0.4";var Fn=Pt.API,sb=1,fc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tr=function(r){return r.toFixed(2)},iu=function(r){return r.toFixed(5)};Fn.__acroform__={};var ja=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},DS=function(r){return r*sb},Co=function(r){var e=new q6,t=Nt.internal.getHeight(r)||0,i=Nt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(tr(i)),Number(tr(t))],e},zP=Fn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},qP=Fn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},HP=Fn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Vn=Fn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return HP(r,e-1)},Kn=Fn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zP(r,e-1)},Yn=Fn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qP(r,e-1)},$P=Fn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=r[0],o=r[1],c=r[2],l=r[3],h={};return h.lowerLeft_X=t(s)||0,h.lowerLeft_Y=i(o+l)||0,h.upperRight_X=t(s+c)||0,h.upperRight_Y=i(o)||0,[Number(tr(h.lowerLeft_X)),Number(tr(h.lowerLeft_Y)),Number(tr(h.upperRight_X)),Number(tr(h.upperRight_Y))]},GP=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=yv(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+tr(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Co(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},yv=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(re){return re.split(`
`)}):s.map(function(re){return[re]});var o=t,c=Nt.internal.getHeight(r)||0;c=c<0?-c:c;var l=Nt.internal.getWidth(r)||0;l=l<0?-l:l;var h=function(re,B,J){if(re+1<s.length){var L=B+" "+s[re+1][0];return Ip(L,r,J).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var f,p,y=Ip("3",r,o).height,b=r.multiline?c-o:(c-y)/2,m=b+=2,A=0,_=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ip(e,r,o=12).width+", FieldWidth:"+l+`
`;break}for(var v="",C=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var S=!1;if(s[N].length!==1&&E!==s[N].length-1){if((y+2)*(C+2)+2>c)continue e;v+=s[N][E],S=!0,_=N,N--}else{v=(v+=s[N][E]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(N),K=h(D,v,o),$=N>=s.length-1;if(K&&!$){v+=" ",E=0;continue}if(K||$){if($)_=D;else if(r.multiline&&(y+2)*(C+2)+2>c)continue e}else{if(!r.multiline||(y+2)*(C+2)+2>c)continue e;_=D}}for(var ee="",P=A;P<=_;P++){var fe=s[P];if(r.multiline){if(P===_){ee+=fe[E]+" ",E=(E+1)%fe.length;continue}if(P===A){ee+=fe[fe.length-1]+" ";continue}}ee+=fe[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,p=Ip(ee,r,o).width,r.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;default:f=2}e+=tr(f)+" "+tr(m)+` Td
`,e+="("+fc(ee)+`) Tj
`,e+=-tr(f)+` 0 Td
`,m=-(o+2),p=0,A=S?_:_+1,C++,v=""}break}return i.text=e,i.fontSize=o,i},Ip=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},WP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},VP=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},KP=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(WP)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sb=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new H6,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&VP(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,s){var o=!i;for(var c in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var l=i[c],h=[],f=l.Rect;if(l.Rect&&(l.Rect=$P(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Nt.createDefaultAppearanceStream(l),$r(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(h=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=GP(l);h.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var y="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(y+="/"+b+" ",y+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var c in m)if(m.hasOwnProperty(c)){var A=m[c];typeof A=="function"&&(A=A.call(s,l)),y+="/"+c+" "+A+" ",s.internal.acroformPlugin.xForms.indexOf(A)>=0||s.internal.acroformPlugin.xForms.push(A)}}else typeof(A=m)=="function"&&(A=A.call(s,l)),y+="/"+c+" "+A,s.internal.acroformPlugin.xForms.indexOf(A)>=0||s.internal.acroformPlugin.xForms.push(A);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}s.internal.putStream({additionalKeyValues:h,objectId:l.objId}),s.internal.out("endobj")}o&&(function(_,E){for(var v in _)if(_.hasOwnProperty(v)){var C=v,N=_[v];E.internal.newObjectDeferredBegin(N.objId,!0),$r(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete _[C]}})(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},z6=Fn.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(c){return c};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),$r(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+fc(i(r[o].toString()))+")"):s+=r[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ky=function(r,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+fc(i(r))+")"},Do=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Do.prototype.toString=function(){return this.objId+" 0 R"},Do.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Do.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?r.push({key:i,value:z6(s,this.objId,this.scope)}):s instanceof Do?(s.scope=this.scope,r.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:i,value:s}))}return r};var q6=function(){Do.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ja(q6,Do);var H6=function(){Do.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fc(t(r))+")"}},set:function(t){r=t}})};ja(H6,Do);var ao=function r(){Do.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vn(e,3)},set:function(v){v?this.F=Kn(e,3):this.F=Yn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(v){i=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(v){i[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(v){i[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(v){i[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(v){i[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof y0)return;o="FieldObject"+r.FieldNum++}var v=function(C){return C};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+fc(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(v){h=v}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/sb:f},set:function(v){f=v}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(v){p=v}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof y0||this instanceof tc))return ky(y,this.objId,this.scope)},set:function(v){v=v.toString(),y=v}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ti==0?ky(b,this.objId,this.scope):b},set:function(v){v=v.toString(),b=this instanceof Ti==0?v.substr(0,1)==="("?fh(v.substr(1,v.length-2)):fh(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?fh(b.substr(1,b.length-1)):b},set:function(v){v=v.toString(),b=this instanceof Ti==1?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ti==0?ky(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Ti==0?v.substr(0,1)==="("?fh(v.substr(1,v.length-2)):fh(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?fh(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Ti==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(v){v=!!v,_=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(v){A=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,1)},set:function(v){v?this.Ff=Kn(this.Ff,1):this.Ff=Yn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,2)},set:function(v){v?this.Ff=Kn(this.Ff,2):this.Ff=Yn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,3)},set:function(v){v?this.Ff=Kn(this.Ff,3):this.Ff=Yn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');E=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(E){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};ja(ao,Do);var Th=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z6(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=(function(o,c,l){l||(l=1);for(var h,f=[];h=c.exec(o);)f.push(h[l]);return f})(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,18)},set:function(t){t?this.Ff=Kn(this.Ff,18):this.Ff=Yn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Kn(this.Ff,19):this.Ff=Yn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,20)},set:function(t){t?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Yn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,22)},set:function(t){t?this.Ff=Kn(this.Ff,22):this.Ff=Yn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,27)},set:function(t){t?this.Ff=Kn(this.Ff,27):this.Ff=Yn(this.Ff,27)}}),this.hasAppearanceStream=!1};ja(Th,ao);var Rh=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};ja(Rh,Th);var Ch=function(){Rh.call(this),this.combo=!0};ja(Ch,Rh);var Yp=function(){Ch.call(this),this.edit=!0};ja(Yp,Ch);var Ti=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,15)},set:function(t){t?this.Ff=Kn(this.Ff,15):this.Ff=Yn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,16)},set:function(t){t?this.Ff=Kn(this.Ff,16):this.Ff=Yn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,17)},set:function(t){t?this.Ff=Kn(this.Ff,17):this.Ff=Yn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+fc(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){$r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ja(Ti,ao);var Xp=function(){Ti.call(this),this.pushButton=!0};ja(Xp,Ti);var Oh=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ja(Oh,Ti);var y0=function(){var r,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+fc(s(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){$r(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ja(y0,ao),Oh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Oh.prototype.createOption=function(r){var e=new y0;return e.Parent=this,e.optionName=r,this.Kids.push(e),YP.call(this.scope,e),e};var Jp=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};ja(Jp,Ti);var tc=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Yn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Yn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Yn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Yn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ja(tc,ao);var Zp=function(){tc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vn(this.Ff,14)},set:function(r){r?this.Ff=Kn(this.Ff,14):this.Ff=Yn(this.Ff,14)}}),this.password=!0};ja(Zp,tc);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=yv(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+tr(Nt.internal.getWidth(r))+" "+tr(Nt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+tr(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Co(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=[],o=Nt.internal.getHeight(r),c=Nt.internal.getWidth(r),l=yv(r,r.caption);return s.push("1 g"),s.push("0 0 "+tr(c)+" "+tr(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tr(c-1)+" "+tr(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+tr(l.fontSize)+" Tf "+i),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tr(Nt.internal.getWidth(r))+" "+tr(Nt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Nt.RadioButton.Circle.YesNormal,e.D[r]=Nt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Co(r);e.scope=r.scope;var t=[],i=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Nt.internal.Bezier_C,o=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+iu(Nt.internal.getWidth(r)/2)+" "+iu(Nt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=[],i=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*Nt.internal.Bezier_C).toFixed(5)),c=Number((i*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Nt.internal.getWidth(r)/2)+" "+iu(Nt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+iu(Nt.internal.getWidth(r)/2)+" "+iu(Nt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),t.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),t.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),t.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=[],i=Nt.internal.getWidth(r)<=Nt.internal.getHeight(r)?Nt.internal.getWidth(r)/4:Nt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*Nt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Nt.internal.getWidth(r)/2)+" "+iu(Nt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Nt.RadioButton.Cross.YesNormal,e.D[r]=Nt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Co(r);e.scope=r.scope;var t=[],i=Nt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+tr(Nt.internal.getWidth(r)-2)+" "+tr(Nt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(tr(i.x1.x)+" "+tr(i.x1.y)+" m"),t.push(tr(i.x2.x)+" "+tr(i.x2.y)+" l"),t.push(tr(i.x4.x)+" "+tr(i.x4.y)+" m"),t.push(tr(i.x3.x)+" "+tr(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=Nt.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+tr(Nt.internal.getWidth(r))+" "+tr(Nt.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+tr(Nt.internal.getWidth(r)-2)+" "+tr(Nt.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(tr(t.x1.x)+" "+tr(t.x1.y)+" m"),i.push(tr(t.x2.x)+" "+tr(t.x2.y)+" l"),i.push(tr(t.x4.x)+" "+tr(t.x4.y)+" m"),i.push(tr(t.x3.x)+" "+tr(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Co(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+tr(Nt.internal.getWidth(r))+" "+tr(Nt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Nt.internal.getWidth(r),t=Nt.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Nt.internal.getWidth=function(r){var e=0;return $r(r)==="object"&&(e=DS(r.Rect[2])),e},Nt.internal.getHeight=function(r){var e=0;return $r(r)==="object"&&(e=DS(r.Rect[3])),e};var YP=Fn.addField=function(r){if(KP(this,r),!(r instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Fn.AcroFormChoiceField=Th,Fn.AcroFormListBox=Rh,Fn.AcroFormComboBox=Ch,Fn.AcroFormEditBox=Yp,Fn.AcroFormButton=Ti,Fn.AcroFormPushButton=Xp,Fn.AcroFormRadioButton=Oh,Fn.AcroFormCheckBox=Jp,Fn.AcroFormTextField=tc,Fn.AcroFormPasswordField=Zp,Fn.AcroFormAppearance=Nt,Fn.AcroForm={ChoiceField:Th,ListBox:Rh,ComboBox:Ch,EditBox:Yp,Button:Ti,PushButton:Xp,RadioButton:Oh,CheckBox:Jp,TextField:tc,PasswordField:Zp,Appearance:Nt},Pt.AcroForm={ChoiceField:Th,ListBox:Rh,ComboBox:Ch,EditBox:Yp,Button:Ti,PushButton:Xp,RadioButton:Oh,CheckBox:Jp,TextField:tc,PasswordField:Zp,Appearance:Nt};Pt.AcroForm;function $6(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(re,B){var J,L,se,ie,Z,pe=t;if((B=B||t)==="RGBA"||re.data!==void 0&&re.data instanceof Uint8ClampedArray&&"height"in re&&"width"in re)return"RGBA";if(K(re))for(Z in i)for(se=i[Z],J=0;J<se.length;J+=1){for(ie=!0,L=0;L<se[J].length;L+=1)if(se[J][L]!==void 0&&se[J][L]!==re[L]){ie=!1;break}if(ie===!0){pe=Z;break}}else for(Z in i)for(se=i[Z],J=0;J<se.length;J+=1){for(ie=!0,L=0;L<se[J].length;L+=1)if(se[J][L]!==void 0&&se[J][L]!==re.charCodeAt(L)){ie=!1;break}if(ie===!0){pe=Z;break}}return pe===t&&B!==t&&(pe=B),pe},o=function re(B){for(var J=this.internal.write,L=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:B.width}),ie.push({key:"Height",value:B.height}),B.colorSpace===v.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===v.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var Z="",pe=0,ye=B.transparency.length;pe<ye;pe++)Z+=B.transparency[pe]+" "+B.transparency[pe]+" ";ie.push({key:"Mask",value:"["+Z+"]"})}B.sMask!==void 0&&ie.push({key:"SMask",value:B.objectId+1+" 0 R"});var Te=B.filter!==void 0?["/"+B.filter]:void 0;if(L({data:B.data,additionalKeyValues:ie,alreadyAppliedFilters:Te,objectId:B.objectId}),J("endobj"),"sMask"in B&&B.sMask!==void 0){var W,R=(W=B.sMaskBitsPerComponent)!==null&&W!==void 0?W:B.bitsPerComponent,G={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:B.sMask};"filter"in B&&(G.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(B.width),G.filter=B.filter),re.call(this,G)}if(B.colorSpace===v.INDEXED){var X=this.internal.newObject();L({data:ee(new Uint8Array(B.palette)),objectId:X}),J("endobj")}},c=function(){var re=this.internal.collections[e+"images"];for(var B in re)o.call(this,re[B])},l=function(){var re,B=this.internal.collections[e+"images"],J=this.internal.write;for(var L in B)J("/I"+(re=B[L]).index,re.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",l))},f=function(){var re=this.internal.collections[e+"images"];return h.call(this),re},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(re){return typeof r["process"+re.toUpperCase()]=="function"},b=function(re){return $r(re)==="object"&&re.nodeType===1},m=function(re,B){if(re.nodeName==="IMG"&&re.hasAttribute("src")){var J=""+re.getAttribute("src");if(J.indexOf("data:image/")===0)return Kp(unescape(J).split("base64,").pop());var L=r.loadFile(J,!0);if(L!==void 0)return L}if(re.nodeName==="CANVAS"){if(re.width===0||re.height===0)throw new Error("Given canvas must have data. Canvas width: "+re.width+", height: "+re.height);var se;switch(B){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;default:se="image/jpeg"}return Kp(re.toDataURL(se,1).split("base64,").pop())}},A=function(re){var B=this.internal.collections[e+"images"];if(B){for(var J in B)if(re===B[J].alias)return B[J]}},_=function(re,B,J){return re||B||(re=-96,B=-96),re<0&&(re=-1*J.width*72/re/this.internal.scaleFactor),B<0&&(B=-1*J.height*72/B/this.internal.scaleFactor),re===0&&(re=B*J.width/J.height),B===0&&(B=re*J.height/J.width),[re,B]},E=function(re,B,J,L,se,ie){var Z=_.call(this,J,L,se),pe=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,Te=f.call(this);if(J=Z[0],L=Z[1],Te[se.index]=se,ie){ie*=Math.PI/180;var W=Math.cos(ie),R=Math.sin(ie),G=function(ce){return ce.toFixed(4)},X=[G(W),G(R),G(-1*R),G(W),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,pe(re),ye(B+L),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([pe(J),"0","0",pe(L),"0","0","cm"].join(" "))):this.internal.write([pe(J),"0","0",pe(L),pe(re),ye(B+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},v=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=r.__addimage__.sHashCode=function(re){var B,J,L=0;if(typeof re=="string")for(J=re.length,B=0;B<J;B++)L=(L<<5)-L+re.charCodeAt(B),L|=0;else if(K(re))for(J=re.byteLength/2,B=0;B<J;B++)L=(L<<5)-L+re[B],L|=0;return L},S=r.__addimage__.validateStringAsBase64=function(re){(re=re||"").toString().trim();var B=!0;return re.length===0&&(B=!1),re.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(re.substr(0,re.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(re.substr(-2))===!1&&(B=!1),B},D=r.__addimage__.extractImageFromDataUrl=function(re){if(re==null||!(re=re.trim()).startsWith("data:"))return null;var B=re.indexOf(",");return B<0?null:re.substring(0,B).trim().endsWith("base64")?re.substring(B+1):null};r.__addimage__.isArrayBuffer=function(re){return re instanceof ArrayBuffer};var K=r.__addimage__.isArrayBufferView=function(re){return re instanceof Int8Array||re instanceof Uint8Array||re instanceof Uint8ClampedArray||re instanceof Int16Array||re instanceof Uint16Array||re instanceof Int32Array||re instanceof Uint32Array||re instanceof Float32Array||re instanceof Float64Array},$=r.__addimage__.binaryStringToUint8Array=function(re){for(var B=re.length,J=new Uint8Array(B),L=0;L<B;L++)J[L]=re.charCodeAt(L);return J},ee=r.__addimage__.arrayBufferToBinaryString=function(re){for(var B="",J=K(re)?re:new Uint8Array(re),L=0;L<J.length;L+=8192)B+=String.fromCharCode.apply(null,J.subarray(L,L+8192));return B};r.addImage=function(){var re,B,J,L,se,ie,Z,pe,ye;if(typeof arguments[1]=="number"?(B=t,J=arguments[1],L=arguments[2],se=arguments[3],ie=arguments[4],Z=arguments[5],pe=arguments[6],ye=arguments[7]):(B=arguments[1],J=arguments[2],L=arguments[3],se=arguments[4],ie=arguments[5],Z=arguments[6],pe=arguments[7],ye=arguments[8]),$r(re=arguments[0])==="object"&&!b(re)&&"imageData"in re){var Te=re;re=Te.imageData,B=Te.format||B||t,J=Te.x||J||0,L=Te.y||L||0,se=Te.w||Te.width||se,ie=Te.h||Te.height||ie,Z=Te.alias||Z,pe=Te.compression||pe,ye=Te.rotation||Te.angle||ye}var W=this.internal.getFilters();if(pe===void 0&&W.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(J)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var R=P.call(this,re,B,Z,pe);return E.call(this,J,L,se,ie,R,ye),this};var P=function(re,B,J,L){var se,ie,Z;if(typeof re=="string"&&s(re)===t){re=unescape(re);var pe=fe(re,!1);(pe!==""||(pe=r.loadFile(re,!0))!==void 0)&&(re=pe)}if(b(re)&&(re=m(re,B)),B=s(re,B),!y(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((Z=J)==null||Z.length===0)&&(J=(function(ye){return typeof ye=="string"||K(ye)?N(ye):K(ye.data)?N(ye.data):null})(re)),(se=A.call(this,J))||(re instanceof Uint8Array||B==="RGBA"||(ie=re,re=$(re)),se=this["process"+B.toUpperCase()](re,p.call(this),J,(function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in r.image_compression?ye:C.NONE})(L),ie)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},fe=r.__addimage__.convertBase64ToBinaryString=function(re,B){B=typeof B!="boolean"||B;var J,L="";if(typeof re=="string"){var se;J=(se=D(re))!==null&&se!==void 0?se:re;try{L=Kp(J)}catch(ie){if(B)throw S(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};r.getImageProperties=function(re){var B,J,L="";if(b(re)&&(re=m(re)),typeof re=="string"&&s(re)===t&&((L=fe(re,!1))===""&&(L=r.loadFile(re)||""),re=L),J=s(re),!y(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(re instanceof Uint8Array||(re=$(re)),!(B=this["process"+J.toUpperCase()](re)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=J,B}})(Pt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Pt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,s,o,c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,y=0;y<f.length&&!p;y++)switch((i=f[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){i=f[b];var m=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(_.objId),C=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+m(v(i.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+m(v(C))+") >>",_.content=o;var N=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+N,i.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(_.objId,"0 R",E.objId,"0 R");break;case"freetext":s="/Rect ["+c(i.bounds.x)+" "+l(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var S=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+m(A(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var D=this.annotations._nameMap[i.options.name];i.options.pageNumber=D.page,i.options.top=D.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+m(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var K=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+K+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,s,o,c){var l=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:h(t),y:f(i),w:h(t+s),h:f(i+o)},options:c,type:"link"})},r.textWithLink=function(t,i,s,o){var c,l,h=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var p=this.splitTextToSize(t,l).length;c=Math.ceil(f*p)}else l=h,c=f;return this.text(t,i,s,o),s+=.2*f,o.align==="center"&&(i-=h/2),o.align==="right"&&(i-=h),this.link(i,s-f,l,c,o),h},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Pt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},c=r.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=r.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},h=r.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&s.indexOf(_.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var f=r.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var p=r.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(_){var E=0,v=t,C="",N=0;for(E=0;E<_.length;E+=1)v[_.charCodeAt(E)]!==void 0?(N++,typeof(v=v[_.charCodeAt(E)])=="number"&&(C+=String.fromCharCode(v),v=t,N=0),E===_.length-1&&(v=t,C+=_.charAt(E-(N-1)),E-=N-1,N=0)):(v=t,C+=_.charAt(E-N),E-=N,N=0);return C};r.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&i[_.charCodeAt(0)]!==void 0};var b=r.__arabicParser__.getCorrectForm=function(_,E,v){return c(_)?o(_)===!1?-1:!f(_)||!c(E)&&!c(v)||!c(v)&&l(E)||l(_)&&!c(E)||l(_)&&h(E)||l(_)&&l(E)?0:p(_)&&c(E)&&!l(E)&&c(v)&&f(v)?3:l(_)||!c(v)?1:2:-1},m=function(_){var E=0,v=0,C=0,N="",S="",D="",K=(_=_||"").split("\\s+"),$=[];for(E=0;E<K.length;E+=1){for($.push(""),v=0;v<K[E].length;v+=1)N=K[E][v],S=K[E][v-1],D=K[E][v+1],c(N)?(C=b(N,S,D),$[E]+=C!==-1?String.fromCharCode(e[N.charCodeAt(0)][C]):N):$[E]+=N;$[E]=y($[E])}return $.join(" ")},A=r.__arabicParser__.processArabic=r.processArabic=function(){var _,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(E)){var C=0;for(v=[],C=0;C<E.length;C+=1)Array.isArray(E[C])?v.push([m(E[C][0]),E[C][1],E[C][2]]):v.push([m(E[C])]);_=v}else _=m(E);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};r.events.push(["preProcessText",A])})(Pt.API),Pt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(l){c=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Pt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(_){b=_}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(_){A=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},r.getTextDimensions=function(h,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),y=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,m=0,A=0,_=0,E=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var v=f.maxWidth;v>0?typeof h=="string"?h=this.splitTextToSize(h,v):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(N,S){return N.concat(E.splitTextToSize(S,v))},[])):h=Array.isArray(h)?h:[h];for(var C=0;C<h.length;C++)m<(_=this.getStringUnitWidth(h[C],{font:y})*p)&&(m=_);return m!==0&&(A=h.length),{w:m/=b,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=r.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,m&&b&&(this.printHeaderRow(h.lineNumber,!0),h.y+=b[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};r.table=function(h,f,p,y,b){if(i.call(this),!p)throw new Error("No data for PDF table.");var m,A,_,E,v=[],C=[],N=[],S={},D={},K=[],$=[],ee=(b=b||{}).autoSize||!1,P=b.printHeaders!==!1,fe=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,re=b.margins||Object.assign({width:this.getPageWidth()},e),B=typeof b.padding=="number"?b.padding:3,J=b.headerBackgroundColor||"#c8c8c8",L=b.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=re,this.internal.__cell__.table_font_size=fe,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=L,this.setFontSize(fe),y==null)C=v=Object.keys(p[0]),N=v.map(function(){return"left"});else if(Array.isArray(y)&&$r(y[0])==="object")for(v=y.map(function(Te){return Te.name}),C=y.map(function(Te){return Te.prompt||Te.name||""}),N=y.map(function(Te){return Te.align||"left"}),m=0;m<y.length;m+=1)D[y[m].name]=.7499990551181103*y[m].width;else Array.isArray(y)&&typeof y[0]=="string"&&(C=v=y,N=v.map(function(){return"left"}));if(ee||Array.isArray(y)&&typeof y[0]=="string")for(m=0;m<v.length;m+=1){for(S[E=v[m]]=p.map(function(Te){return Te[E]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=S[E],this.setFont(void 0,"normal"),_=0;_<A.length;_+=1)K.push(this.getTextDimensions(A[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[E]=Math.max.apply(null,K)+B+B,K=[]}if(P){var se={};for(m=0;m<v.length;m+=1)se[v[m]]={},se[v[m]].text=C[m],se[v[m]].align=N[m];var ie=l.call(this,se,D);$=v.map(function(Te){return new o(h,f,D[Te],ie,se[Te].text,void 0,se[Te].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var Z=y.reduce(function(Te,W){return Te[W.name]=W.align,Te},{});for(m=0;m<p.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:p[m]},this);var pe=l.call(this,p[m],D);for(_=0;_<v.length;_+=1){var ye=p[m][v[_]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:_,data:ye},this),c.call(this,new o(h,f,D[v[_]],pe,ye,m+2,Z[v[_]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var l=function(h,f){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(h).map(function(m){var A=h[m];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,f[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*y/b+p+p},this).reduce(function(m,A){return Math.max(m,A)},0)};r.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},r.printHeaderRow=function(h,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(A)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}})(Pt.API);var G6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},W6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vv=$6(W6),V6=[100,200,300,400,500,600,700,800,900],XP=$6(V6);function Ny(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return G6[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),s=(function(o){return typeof vv[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,i].join(" ")}}}function BS(r,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(r[e[s]])return r[e[s]]}var JP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function US(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function MS(r){return r.trimLeft()}function ZP(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function QP(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Up,FS,zS,dh,Mp,qS,HS,$S,Ty=["times"];function GS(r,e,t,i,s){var o=4,c=VS;switch(s){case Pt.API.image_compression.FAST:o=1,c=WS;break;case Pt.API.image_compression.MEDIUM:o=6,c=KS;break;case Pt.API.image_compression.SLOW:o=9,c=YS}r=(function(h,f,p,y){for(var b,m=h.length/f,A=new Uint8Array(h.length+m),_=[eD,WS,VS,KS,YS],E=0;E<m;E+=1){var v=E*f,C=h.subarray(v,v+f);if(y)A.set(y(C,p,b),v+E);else{for(var N=_.length,S=[],D=0;D<N;D+=1)S[D]=_[D](C,p,b);var K=rD(S.concat());A.set(S[K],v+E)}b=C}return A})(r,e,Math.ceil(t*i/8),c);var l=hv(r,{level:o});return Pt.API.__addimage__.arrayBufferToBinaryString(l)}function eD(r){var e=Array.apply([],r);return e.unshift(0),e}function WS(r,e){var t=r.length,i=[];i[0]=1;for(var s=0;s<t;s+=1){var o=r[s-e]||0;i[s+1]=r[s]-o+256&255}return i}function VS(r,e,t){var i=r.length,s=[];s[0]=2;for(var o=0;o<i;o+=1){var c=t&&t[o]||0;s[o+1]=r[o]-c+256&255}return s}function KS(r,e,t){var i=r.length,s=[];s[0]=3;for(var o=0;o<i;o+=1){var c=r[o-e]||0,l=t&&t[o]||0;s[o+1]=r[o]+256-(c+l>>>1)&255}return s}function YS(r,e,t){var i=r.length,s=[];s[0]=4;for(var o=0;o<i;o+=1){var c=tD(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=r[o]-c+256&255}return s}function tD(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),s=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=s&&i<=o?r:s<=o?e:t}function rD(r){var e=r.map(function(t){return t.reduce(function(i,s){return i+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Ry(r,e,t){var i=e*t,s=Math.floor(i/8),o=16-(i-8*s+t),c=(1<<t)-1;return K6(r,s)>>o&c}function XS(r,e,t,i){var s=t*i,o=Math.floor(s/8),c=16-(s-8*o+i),l=(1<<i)-1,h=(e&l)<<c;(function(f,p,y){if(p+1<f.byteLength)f.setUint16(p,y,!1);else{var b=y>>8&255;f.setUint8(p,b)}})(r,o,K6(r,o)&~(l<<c)&65535|h)}function K6(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function nD(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,s=r[e++],o=s>>7,c=1<<1+(7&s);r[e++],r[e++];var l=null,h=null;o&&(l=e,h=c,e+=3*c);var f=!0,p=[],y=0,b=null,m=0,A=null;for(this.width=t,this.height=i;f&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,A=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=r[e++];y=r[e++]|r[e++]<<8,b=r[e++],1&_||(b=null),m=_>>2&7,e++;break;case 254:for(;;){if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var E=r[e++]|r[e++]<<8,v=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,S=r[e++],D=S>>6&1,K=1<<1+(7&S),$=l,ee=h,P=!1;S>>7&&(P=!0,$=e,ee=K,e+=3*K);var fe=e;for(e++;;){var re;if(!((re=r[e++])>=0))throw Error("Invalid block size");if(re===0)break;e+=re}p.push({x:E,y:v,width:C,height:N,has_local_palette:P,palette_offset:$,palette_size:ee,data_offset:fe,data_length:e-fe,transparent_index:b,interlaced:!!D,delay:y,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(B){if(B<0||B>=p.length)throw new Error("Frame index out of range.");return p[B]},this.decodeAndBlitFrameBGRA=function(B,J){var L=this.frameInfo(B),se=L.width*L.height,ie=new Uint8Array(se);JS(r,L.data_offset,ie,se);var Z=L.palette_offset,pe=L.transparent_index;pe===null&&(pe=256);var ye=L.width,Te=t-ye,W=ye,R=4*(L.y*t+L.x),G=4*((L.y+L.height)*t+L.x),X=R,ce=4*Te;L.interlaced===!0&&(ce+=4*t*7);for(var ae=8,I=0,U=ie.length;I<U;++I){var ne=ie[I];if(W===0&&(W=ye,(X+=ce)>=G&&(ce=4*Te+4*t*(ae-1),X=R+(ye+Te)*(ae<<1),ae>>=1)),ne===pe)X+=4;else{var oe=r[Z+3*ne],Q=r[Z+3*ne+1],ue=r[Z+3*ne+2];J[X++]=ue,J[X++]=Q,J[X++]=oe,J[X++]=255}--W}},this.decodeAndBlitFrameRGBA=function(B,J){var L=this.frameInfo(B),se=L.width*L.height,ie=new Uint8Array(se);JS(r,L.data_offset,ie,se);var Z=L.palette_offset,pe=L.transparent_index;pe===null&&(pe=256);var ye=L.width,Te=t-ye,W=ye,R=4*(L.y*t+L.x),G=4*((L.y+L.height)*t+L.x),X=R,ce=4*Te;L.interlaced===!0&&(ce+=4*t*7);for(var ae=8,I=0,U=ie.length;I<U;++I){var ne=ie[I];if(W===0&&(W=ye,(X+=ce)>=G&&(ce=4*Te+4*t*(ae-1),X=R+(ye+Te)*(ae<<1),ae>>=1)),ne===pe)X+=4;else{var oe=r[Z+3*ne],Q=r[Z+3*ne+1],ue=r[Z+3*ne+2];J[X++]=oe,J[X++]=Q,J[X++]=ue,J[X++]=255}--W}}}function JS(r,e,t,i){for(var s=r[e++],o=1<<s,c=o+1,l=c+1,h=s+1,f=(1<<h)-1,p=0,y=0,b=0,m=r[e++],A=new Int32Array(4096),_=null;;){for(;p<16&&m!==0;)y|=r[e++]<<p,p+=8,m===1?m=r[e++]:--m;if(p<h)break;var E=y&f;if(y>>=h,p-=h,E!==o){if(E===c)break;for(var v=E<l?E:_,C=0,N=v;N>o;)N=A[N]>>8,++C;var S=N;if(b+C+(v!==E?1:0)>i)return void on.log("Warning, gif stream longer than expected.");t[b++]=S;var D=b+=C;for(v!==E&&(t[b++]=S),N=v;C--;)N=A[N],t[--D]=255&N,N>>=8;_!==null&&l<4096&&(A[l++]=_<<8|S,l>=f+1&&h<12&&(++h,f=f<<1|1)),_=E}else l=c+1,f=(1<<(h=s+1))-1,_=null}return b!==i&&on.log("Warning, gif stream shorter than expected."),t}function Cy(r){var e,t,i,s,o,c=Math.floor,l=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),y=new Array(65535),b=new Array(65535),m=new Array(64),A=new Array(64),_=[],E=0,v=7,C=new Array(64),N=new Array(64),S=new Array(64),D=new Array(256),K=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],re=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(R,G){for(var X=0,ce=0,ae=new Array,I=1;I<=16;I++){for(var U=1;U<=R[I];U++)ae[G[ce]]=[],ae[G[ce]][0]=X,ae[G[ce]][1]=I,ce++,X++;X*=2}return ae}function Z(R){for(var G=R[0],X=R[1]-1;X>=0;)G&1<<X&&(E|=1<<v),X--,--v<0&&(E==255?(pe(255),pe(0)):pe(E),v=7,E=0)}function pe(R){_.push(R)}function ye(R){pe(R>>8&255),pe(255&R)}function Te(R,G,X,ce,ae){for(var I,U=ae[0],ne=ae[240],oe=(function(M,ve){var xe,we,je,qe,Me,Ke,at,ht,dt,Rt,mt=0;for(dt=0;dt<8;++dt){xe=M[mt],we=M[mt+1],je=M[mt+2],qe=M[mt+3],Me=M[mt+4],Ke=M[mt+5],at=M[mt+6];var Sr=xe+(ht=M[mt+7]),bt=xe-ht,Je=we+at,lt=we-at,_t=je+Ke,Et=je-Ke,Jt=qe+Me,wt=qe-Me,Ut=Sr+Jt,yr=Sr-Jt,Mt=Je+_t,gt=Je-_t;M[mt]=Ut+Mt,M[mt+4]=Ut-Mt;var Xt=.707106781*(gt+yr);M[mt+2]=yr+Xt,M[mt+6]=yr-Xt;var qn=.382683433*((Ut=wt+Et)-(gt=lt+bt)),li=.5411961*Ut+qn,ea=1.306562965*gt+qn,Ri=.707106781*(Mt=Et+lt),Tt=bt+Ri,Ci=bt-Ri;M[mt+5]=Ci+li,M[mt+3]=Ci-li,M[mt+1]=Tt+ea,M[mt+7]=Tt-ea,mt+=8}for(mt=0,dt=0;dt<8;++dt){xe=M[mt],we=M[mt+8],je=M[mt+16],qe=M[mt+24],Me=M[mt+32],Ke=M[mt+40],at=M[mt+48];var ui=xe+(ht=M[mt+56]),Oi=xe-ht,Li=we+at,Wr=we-at,yn=je+Ke,Rn=je-Ke,Za=qe+Me,ci=qe-Me,jr=ui+Za,rn=ui-Za,Zn=Li+yn,ji=Li-yn;M[mt]=jr+Zn,M[mt+32]=jr-Zn;var Gi=.707106781*(ji+rn);M[mt+16]=rn+Gi,M[mt+48]=rn-Gi;var Qa=.382683433*((jr=ci+Rn)-(ji=Wr+Oi)),ta=.5411961*jr+Qa,ra=1.306562965*ji+Qa,es=.707106781*(Zn=Rn+Wr),na=Oi+es,ia=Oi-es;M[mt+40]=ia+ta,M[mt+24]=ia-ta,M[mt+8]=na+ra,M[mt+56]=na-ra,mt++}for(dt=0;dt<64;++dt)Rt=M[dt]*ve[dt],m[dt]=Rt>0?Rt+.5|0:Rt-.5|0;return m})(R,G),Q=0;Q<64;++Q)A[$[Q]]=oe[Q];var ue=A[0]-X;X=A[0],ue==0?Z(ce[0]):(Z(ce[b[I=32767+ue]]),Z(y[I]));for(var ke=63;ke>0&&A[ke]==0;)ke--;if(ke==0)return Z(U),X;for(var z,te=1;te<=ke;){for(var q=te;A[te]==0&&te<=ke;)++te;var T=te-q;if(T>=16){z=T>>4;for(var O=1;O<=z;++O)Z(ne);T&=15}I=32767+A[te],Z(ae[(T<<4)+b[I]]),Z(y[I]),te++}return ke!=63&&Z(U),X}function W(R){R=Math.min(Math.max(R,1),100),o!=R&&((function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ae=c((X[ce]*G+50)/100);ae=Math.min(Math.max(ae,1),255),l[$[ce]]=ae}for(var I=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],U=0;U<64;U++){var ne=c((I[U]*G+50)/100);ne=Math.min(Math.max(ne,1),255),h[$[U]]=ne}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Q=0,ue=0;ue<8;ue++)for(var ke=0;ke<8;ke++)f[Q]=1/(l[$[Q]]*oe[ue]*oe[ke]*8),p[Q]=1/(h[$[Q]]*oe[ue]*oe[ke]*8),Q++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,G){G&&W(G),_=new Array,E=0,v=7,ye(65496),ye(65504),ye(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),ye(1),ye(1),pe(0),pe(0),(function(){ye(65499),ye(132),pe(0);for(var we=0;we<64;we++)pe(l[we]);pe(1);for(var je=0;je<64;je++)pe(h[je])})(),(function(we,je){ye(65472),ye(17),pe(8),ye(je),ye(we),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(R.width,R.height),(function(){ye(65476),ye(418),pe(0);for(var we=0;we<16;we++)pe(ee[we+1]);for(var je=0;je<=11;je++)pe(P[je]);pe(16);for(var qe=0;qe<16;qe++)pe(fe[qe+1]);for(var Me=0;Me<=161;Me++)pe(re[Me]);pe(1);for(var Ke=0;Ke<16;Ke++)pe(B[Ke+1]);for(var at=0;at<=11;at++)pe(J[at]);pe(17);for(var ht=0;ht<16;ht++)pe(L[ht+1]);for(var dt=0;dt<=161;dt++)pe(se[dt])})(),ye(65498),ye(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var X=0,ce=0,ae=0;E=0,v=7,this.encode.displayName="_encode_";for(var I,U,ne,oe,Q,ue,ke,z,te,q=R.data,T=R.width,O=R.height,M=4*T,ve=0;ve<O;){for(I=0;I<M;){for(Q=M*ve+I,ke=-1,z=0,te=0;te<64;te++)ue=Q+(z=te>>3)*M+(ke=4*(7&te)),ve+z>=O&&(ue-=M*(ve+1+z-O)),I+ke>=M&&(ue-=I+ke-M+4),U=q[ue++],ne=q[ue++],oe=q[ue++],C[te]=(K[U]+K[ne+256|0]+K[oe+512|0]>>16)-128,N[te]=(K[U+768|0]+K[ne+1024|0]+K[oe+1280|0]>>16)-128,S[te]=(K[U+1280|0]+K[ne+1536|0]+K[oe+1792|0]>>16)-128;X=Te(C,f,X,e,i),ce=Te(N,p,ce,t,s),ae=Te(S,p,ae,t,s),I+=32}ve+=8}if(v>=0){var xe=[];xe[1]=v+1,xe[0]=(1<<v+1)-1,Z(xe)}return ye(65497),new Uint8Array(_)},r=r||50,(function(){for(var R=String.fromCharCode,G=0;G<256;G++)D[G]=R(G)})(),e=ie(ee,P),t=ie(B,J),i=ie(fe,re),s=ie(L,se),(function(){for(var R=1,G=2,X=1;X<=15;X++){for(var ce=R;ce<G;ce++)b[32767+ce]=X,y[32767+ce]=[],y[32767+ce][1]=X,y[32767+ce][0]=ce;for(var ae=-(G-1);ae<=-R;ae++)b[32767+ae]=X,y[32767+ae]=[],y[32767+ae][1]=X,y[32767+ae][0]=G-1+ae;R<<=1,G<<=1}})(),(function(){for(var R=0;R<256;R++)K[R]=19595*R,K[R+256|0]=38470*R,K[R+512|0]=7471*R+32768,K[R+768|0]=-11059*R,K[R+1024|0]=-21709*R,K[R+1280|0]=32768*R+8421375,K[R+1536|0]=-27439*R,K[R+1792|0]=-5329*R})(),W(r)}function Ys(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZS(r){function e(P){if(!P)throw Error("assert :P")}function t(P,fe,re){for(var B=0;4>B;B++)if(P[fe+B]!=re.charCodeAt(B))return!0;return!1}function i(P,fe,re,B,J){for(var L=0;L<J;L++)P[fe+L]=re[B+L]}function s(P,fe,re,B){for(var J=0;J<B;J++)P[fe+J]=re}function o(P){return new Int32Array(P)}function c(P,fe){for(var re=[],B=0;B<P;B++)re.push(new fe);return re}function l(P,fe){var re=[];return(function B(J,L,se){for(var ie=se[L],Z=0;Z<ie&&(J.push(se.length>L+1?[]:new fe),!(se.length<L+1));Z++)B(J[Z],L+1,se)})(re,0,P),re}var h=function(){var P=this;function fe(g,x){for(var F=1<<x-1>>>0;g&F;)F>>>=1;return F?(g&F-1)+F:g}function re(g,x,F,V,he){e(!(V%F));do g[x+(V-=F)]=he;while(0<V)}function B(g,x,F,V,he){if(e(2328>=he),512>=he)var de=o(512);else if((de=o(he))==null)return 0;return(function(me,be,_e,Ae,Oe,Fe){var Se,Pe,Ie=be,Ye=1<<_e,Ue=o(16),Ve=o(16);for(e(Oe!=0),e(Ae!=null),e(me!=null),e(0<_e),Pe=0;Pe<Oe;++Pe){if(15<Ae[Pe])return 0;++Ue[Ae[Pe]]}if(Ue[0]==Oe)return 0;for(Ve[1]=0,Se=1;15>Se;++Se){if(Ue[Se]>1<<Se)return 0;Ve[Se+1]=Ve[Se]+Ue[Se]}for(Pe=0;Pe<Oe;++Pe)Se=Ae[Pe],0<Ae[Pe]&&(Fe[Ve[Se]++]=Pe);if(Ve[15]==1)return(Ae=new J).g=0,Ae.value=Fe[0],re(me,Ie,1,Ye,Ae),Ye;var Qe,ut=-1,nt=Ye-1,kt=0,yt=1,Vt=1,xt=1<<_e;for(Pe=0,Se=1,Oe=2;Se<=_e;++Se,Oe<<=1){if(yt+=Vt<<=1,0>(Vt-=Ue[Se]))return 0;for(;0<Ue[Se];--Ue[Se])(Ae=new J).g=Se,Ae.value=Fe[Pe++],re(me,Ie+kt,Oe,xt,Ae),kt=fe(kt,Se)}for(Se=_e+1,Oe=2;15>=Se;++Se,Oe<<=1){if(yt+=Vt<<=1,0>(Vt-=Ue[Se]))return 0;for(;0<Ue[Se];--Ue[Se]){if(Ae=new J,(kt&nt)!=ut){for(Ie+=xt,Qe=1<<(ut=Se)-_e;15>ut&&!(0>=(Qe-=Ue[ut]));)++ut,Qe<<=1;Ye+=xt=1<<(Qe=ut-_e),me[be+(ut=kt&nt)].g=Qe+_e,me[be+ut].value=Ie-be-ut}Ae.g=Se-_e,Ae.value=Fe[Pe++],re(me,Ie+(kt>>_e),Oe,xt,Ae),kt=fe(kt,Se)}}return yt!=2*Ve[15]-1?0:Ye})(g,x,F,V,he,de)}function J(){this.value=this.g=0}function L(){this.value=this.g=0}function se(){this.G=c(5,J),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(fo,L)}function ie(g,x,F,V){e(g!=null),e(x!=null),e(2147483648>V),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=x,g.pa=F,g.Jd=x,g.Yc=F+V,g.Zc=4<=V?F+V-4+1:F,U(g)}function Z(g,x){for(var F=0;0<x--;)F|=oe(g,128)<<x;return F}function pe(g,x){var F=Z(g,x);return ne(g)?-F:F}function ye(g,x,F,V){var he,de=0;for(e(g!=null),e(x!=null),e(4294967288>V),g.Sb=V,g.Ra=0,g.u=0,g.h=0,4<V&&(V=4),he=0;he<V;++he)de+=x[F+he]<<8*he;g.Ra=de,g.bb=V,g.oa=x,g.pa=F}function Te(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<os-8>>>0,++g.bb,g.u-=8;ce(g)&&(g.h=1,g.u=0)}function W(g,x){if(e(0<=x),!g.h&&x<=Bi){var F=X(g)&Vi[x];return g.u+=x,Te(g),F}return g.h=1,g.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(g){return g.Ra>>>(g.u&os-1)>>>0}function ce(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>os}function ae(g,x){g.u=x,g.h=ce(g)}function I(g){g.u>=ls&&(e(g.u>=ls),Te(g))}function U(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ne(g){return Z(g,1)}function oe(g,x){var F=g.Ca;0>g.b&&U(g);var V=g.b,he=F*x>>>8,de=(g.I>>>V>he)+0;for(de?(F-=he,g.I-=he+1<<V>>>0):F=he+1,V=F,he=0;256<=V;)he+=8,V>>=8;return V=7^he+Ds[V],g.b-=V,g.Ca=(F<<V)-1,de}function Q(g,x,F){g[x+0]=F>>24&255,g[x+1]=F>>16&255,g[x+2]=F>>8&255,g[x+3]=255&F}function ue(g,x){return g[x+0]|g[x+1]<<8}function ke(g,x){return ue(g,x)|g[x+2]<<16}function z(g,x){return ue(g,x)|ue(g,x+2)<<16}function te(g,x){var F=1<<x;return e(g!=null),e(0<x),g.X=o(F),g.X==null?0:(g.Mb=32-x,g.Xa=x,1)}function q(g,x){e(g!=null),e(x!=null),e(g.Xa==x.Xa),i(x.X,0,g.X,0,1<<x.Xa)}function T(){this.X=[],this.Xa=this.Mb=0}function O(g,x,F,V){e(F!=null),e(V!=null);var he=F[0],de=V[0];return he==0&&(he=(g*de+x/2)/x),de==0&&(de=(x*he+g/2)/g),0>=he||0>=de?0:(F[0]=he,V[0]=de,1)}function M(g,x){return g+(1<<x)-1>>>x}function ve(g,x){return((4278255360&g)+(4278255360&x)>>>0&4278255360)+((16711935&g)+(16711935&x)>>>0&16711935)>>>0}function xe(g,x){P[x]=function(F,V,he,de,me,be,_e){var Ae;for(Ae=0;Ae<me;++Ae){var Oe=P[g](be[_e+Ae-1],he,de+Ae);be[_e+Ae]=ve(F[V+Ae],Oe)}}}function we(){this.ud=this.hd=this.jd=0}function je(g,x){return((4278124286&(g^x))>>>1)+(g&x)>>>0}function qe(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Me(g,x){return qe(g+(g-x+.5>>1))}function Ke(g,x,F){return Math.abs(x-F)-Math.abs(g-F)}function at(g,x,F,V,he,de,me){for(V=de[me-1],F=0;F<he;++F)de[me+F]=V=ve(g[x+F],V)}function ht(g,x,F,V,he){var de;for(de=0;de<F;++de){var me=g[x+de],be=me>>8&255,_e=16711935&(_e=(_e=16711935&me)+((be<<16)+be));V[he+de]=(4278255360&me)+_e>>>0}}function dt(g,x){x.jd=255&g,x.hd=g>>8&255,x.ud=g>>16&255}function Rt(g,x,F,V,he,de){var me;for(me=0;me<V;++me){var be=x[F+me],_e=be>>>8,Ae=be,Oe=255&(Oe=(Oe=be>>>16)+((g.jd<<24>>24)*(_e<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(g.hd<<24>>24)*(_e<<24>>24)>>>5)+((g.ud<<24>>24)*(Oe<<24>>24)>>>5)),he[de+me]=(4278255360&be)+(Oe<<16)+Ae}}function mt(g,x,F,V,he){P[x]=function(de,me,be,_e,Ae,Oe,Fe,Se,Pe){for(_e=Fe;_e<Se;++_e)for(Fe=0;Fe<Pe;++Fe)Ae[Oe++]=he(be[V(de[me++])])},P[g]=function(de,me,be,_e,Ae,Oe,Fe){var Se=8>>de.b,Pe=de.Ea,Ie=de.K[0],Ye=de.w;if(8>Se)for(de=(1<<de.b)-1,Ye=(1<<Se)-1;me<be;++me){var Ue,Ve=0;for(Ue=0;Ue<Pe;++Ue)Ue&de||(Ve=V(_e[Ae++])),Oe[Fe++]=he(Ie[Ve&Ye]),Ve>>=Se}else P["VP8LMapColor"+F](_e,Ae,Ie,Ye,Oe,Fe,me,be,Pe)}}function Sr(g,x,F,V,he){for(F=x+F;x<F;){var de=g[x++];V[he++]=de>>16&255,V[he++]=de>>8&255,V[he++]=255&de}}function bt(g,x,F,V,he){for(F=x+F;x<F;){var de=g[x++];V[he++]=de>>16&255,V[he++]=de>>8&255,V[he++]=255&de,V[he++]=de>>24&255}}function Je(g,x,F,V,he){for(F=x+F;x<F;){var de=(me=g[x++])>>16&240|me>>12&15,me=240&me|me>>28&15;V[he++]=de,V[he++]=me}}function lt(g,x,F,V,he){for(F=x+F;x<F;){var de=(me=g[x++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;V[he++]=de,V[he++]=me}}function _t(g,x,F,V,he){for(F=x+F;x<F;){var de=g[x++];V[he++]=255&de,V[he++]=de>>8&255,V[he++]=de>>16&255}}function Et(g,x,F,V,he,de){if(de==0)for(F=x+F;x<F;)Q(V,((de=g[x++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),he+=32;else i(V,he,g,x,F)}function Jt(g,x){P[x][0]=P[g+"0"],P[x][1]=P[g+"1"],P[x][2]=P[g+"2"],P[x][3]=P[g+"3"],P[x][4]=P[g+"4"],P[x][5]=P[g+"5"],P[x][6]=P[g+"6"],P[x][7]=P[g+"7"],P[x][8]=P[g+"8"],P[x][9]=P[g+"9"],P[x][10]=P[g+"10"],P[x][11]=P[g+"11"],P[x][12]=P[g+"12"],P[x][13]=P[g+"13"],P[x][14]=P[g+"0"],P[x][15]=P[g+"0"]}function wt(g){return g==Ru||g==Nc||g==Pl||g==Tc}function Ut(){this.eb=[],this.size=this.A=this.fb=0}function yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ut,this.f.kb=new yr,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function li(g,x){var F=g.T,V=x.ba.f.RGBA,he=V.eb,de=V.fb+g.ka*V.A,me=gi[x.ba.S],be=g.y,_e=g.O,Ae=g.f,Oe=g.N,Fe=g.ea,Se=g.W,Pe=x.cc,Ie=x.dc,Ye=x.Mc,Ue=x.Nc,Ve=g.ka,Qe=g.ka+g.T,ut=g.U,nt=ut+1>>1;for(Ve==0?me(be,_e,null,null,Ae,Oe,Fe,Se,Ae,Oe,Fe,Se,he,de,null,null,ut):(me(x.ec,x.fc,be,_e,Pe,Ie,Ye,Ue,Ae,Oe,Fe,Se,he,de-V.A,he,de,ut),++F);Ve+2<Qe;Ve+=2)Pe=Ae,Ie=Oe,Ye=Fe,Ue=Se,Oe+=g.Rc,Se+=g.Rc,de+=2*V.A,me(be,(_e+=2*g.fa)-g.fa,be,_e,Pe,Ie,Ye,Ue,Ae,Oe,Fe,Se,he,de-V.A,he,de,ut);return _e+=g.fa,g.j+Qe<g.o?(i(x.ec,x.fc,be,_e,ut),i(x.cc,x.dc,Ae,Oe,nt),i(x.Mc,x.Nc,Fe,Se,nt),F--):1&Qe||me(be,_e,null,null,Ae,Oe,Fe,Se,Ae,Oe,Fe,Se,he,de+V.A,null,null,ut),F}function ea(g,x,F){var V=g.F,he=[g.J];if(V!=null){var de=g.U,me=x.ba.S,be=me==Tu||me==Pl;x=x.ba.f.RGBA;var _e=[0],Ae=g.ka;_e[0]=g.T,g.Kb&&(Ae==0?--_e[0]:(--Ae,he[0]-=g.width),g.j+g.ka+g.T==g.o&&(_e[0]=g.o-g.j-Ae));var Oe=x.eb;Ae=x.fb+Ae*x.A,g=Au(V,he[0],g.width,de,_e,Oe,Ae+(be?0:3),x.A),e(F==_e),g&&wt(me)&&Ko(Oe,Ae,be,de,_e,x.A)}return 0}function Ri(g){var x=g.ma,F=x.ba.S,V=11>F,he=F==Si||F==ya||F==Tu||F==jl||F==12||wt(F);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ps(x.Oa,g,he?11:12))return 0;if(he&&wt(F)&&wu(),g.da)alert("todo:use_scaling");else{if(V){if(x.Ib=qn,g.Kb){if(F=g.U+1>>1,x.memory=o(g.U+2*F),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+g.U,x.Mc=x.cc,x.Nc=x.dc+F,x.Ib=li,wu()}}else alert("todo:EmitYUV");he&&(x.Jb=ea,V&&Ba())}if(V&&!wo){for(g=0;256>g;++g)yi[g]=89858*(g-128)+Il>>Sa,H0[g]=-22014*(g-128)+Il,Ad[g]=-45773*(g-128),jc[g]=113618*(g-128)+Il>>Sa;for(g=Zo;g<bo;++g)x=76283*(g-16)+Il>>Sa,$0[g-Zo]=ar(x,255),G0[g-Zo]=ar(x+8>>4,15);wo=1}return 1}function Tt(g){var x=g.ma,F=g.U,V=g.T;return e(!(1&g.ka)),0>=F||0>=V?0:(F=x.Ib(g,x),x.Jb!=null&&x.Jb(g,x,F),x.Dc+=F,1)}function Ci(g){g.ma.memory=null}function ui(g,x,F,V){return W(g,8)!=47?0:(x[0]=W(g,14)+1,F[0]=W(g,14)+1,V[0]=W(g,1),W(g,3)!=0?0:!g.h)}function Oi(g,x){if(4>g)return g+1;var F=g-2>>1;return(2+(1&g)<<F)+W(x,F)+1}function Li(g,x){return 120<x?x-120:1<=(F=((F=ba[x-1])>>4)*g+(8-(15&F)))?F:1;var F}function Wr(g,x,F){var V=X(F),he=g[x+=255&V].g-8;return 0<he&&(ae(F,F.u+8),V=X(F),x+=g[x].value,x+=V&(1<<he)-1),ae(F,F.u+g[x].g),g[x].value}function yn(g,x,F){return F.g+=g.g,F.value+=g.value<<x>>>0,e(8>=F.g),g.g}function Rn(g,x,F){var V=g.xc;return e((x=V==0?0:g.vc[g.md*(F>>V)+(x>>V)])<g.Wb),g.Ya[x]}function Za(g,x,F,V){var he=g.ab,de=g.c*x,me=g.C;x=me+x;var be=F,_e=V;for(V=g.Ta,F=g.Ua;0<he--;){var Ae=g.gc[he],Oe=me,Fe=x,Se=be,Pe=_e,Ie=(_e=V,be=F,Ae.Ea);switch(e(Oe<Fe),e(Fe<=Ae.nc),Ae.hc){case 2:An(Se,Pe,(Fe-Oe)*Ie,_e,be);break;case 0:var Ye=Oe,Ue=Fe,Ve=_e,Qe=be,ut=(xt=Ae).Ea;Ye==0&&(Rl(Se,Pe,null,null,1,Ve,Qe),at(Se,Pe+1,0,0,ut-1,Ve,Qe+1),Pe+=ut,Qe+=ut,++Ye);for(var nt=1<<xt.b,kt=nt-1,yt=M(ut,xt.b),Vt=xt.K,xt=xt.w+(Ye>>xt.b)*yt;Ye<Ue;){var fr=Vt,an=xt,Qt=1;for(Cl(Se,Pe,Ve,Qe-ut,1,Ve,Qe);Qt<ut;){var vt=(Qt&~kt)+nt;vt>ut&&(vt=ut),(0,Bs[fr[an++]>>8&15])(Se,Pe+ +Qt,Ve,Qe+Qt-ut,vt-Qt,Ve,Qe+Qt),Qt=vt}Pe+=ut,Qe+=ut,++Ye&kt||(xt+=yt)}Fe!=Ae.nc&&i(_e,be-Ie,_e,be+(Fe-Oe-1)*Ie,Ie);break;case 1:for(Ie=Se,Ue=Pe,ut=(Se=Ae.Ea)-(Qe=Se&~(Ve=(Pe=1<<Ae.b)-1)),Ye=M(Se,Ae.b),nt=Ae.K,Ae=Ae.w+(Oe>>Ae.b)*Ye;Oe<Fe;){for(kt=nt,yt=Ae,Vt=new we,xt=Ue+Qe,fr=Ue+Se;Ue<xt;)dt(kt[yt++],Vt),Ol(Vt,Ie,Ue,Pe,_e,be),Ue+=Pe,be+=Pe;Ue<fr&&(dt(kt[yt++],Vt),Ol(Vt,Ie,Ue,ut,_e,be),Ue+=ut,be+=ut),++Oe&Ve||(Ae+=Ye)}break;case 3:if(Se==_e&&Pe==be&&0<Ae.b){for(Ue=_e,Se=Ie=be+(Fe-Oe)*Ie-(Qe=(Fe-Oe)*M(Ae.Ea,Ae.b)),Pe=_e,Ve=be,Ye=[],Qe=(ut=Qe)-1;0<=Qe;--Qe)Ye[Qe]=Pe[Ve+Qe];for(Qe=ut-1;0<=Qe;--Qe)Ue[Se+Qe]=Ye[Qe];xc(Ae,Oe,Fe,_e,Ie,_e,be)}else xc(Ae,Oe,Fe,Se,Pe,_e,be)}be=V,_e=F}_e!=F&&i(V,F,be,_e,de)}function ci(g,x){var F=g.V,V=g.Ba+g.c*g.C,he=x-g.C;if(e(x<=g.l.o),e(16>=he),0<he){var de=g.l,me=g.Ta,be=g.Ua,_e=de.width;if(Za(g,he,F,V),he=be=[be],e((F=g.C)<(V=x)),e(de.v<de.va),V>de.o&&(V=de.o),F<de.j){var Ae=de.j-F;F=de.j,he[0]+=Ae*_e}if(F>=V?F=0:(he[0]+=4*de.v,de.ka=F-de.j,de.U=de.va-de.v,de.T=V-F,F=1),F){if(be=be[0],11>(F=g.ca).S){var Oe=F.f.RGBA,Fe=(V=F.S,he=de.U,de=de.T,Ae=Oe.eb,Oe.A),Se=de;for(Oe=Oe.fb+g.Ma*Oe.A;0<Se--;){var Pe=me,Ie=be,Ye=he,Ue=Ae,Ve=Oe;switch(V){case Ec:Ll(Pe,Ie,Ye,Ue,Ve);break;case Si:Is(Pe,Ie,Ye,Ue,Ve);break;case Ru:Is(Pe,Ie,Ye,Ue,Ve),Ko(Ue,Ve,0,Ye,1,0);break;case kc:Wo(Pe,Ie,Ye,Ue,Ve);break;case ya:Et(Pe,Ie,Ye,Ue,Ve,1);break;case Nc:Et(Pe,Ie,Ye,Ue,Ve,1),Ko(Ue,Ve,0,Ye,1,0);break;case Tu:Et(Pe,Ie,Ye,Ue,Ve,0);break;case Pl:Et(Pe,Ie,Ye,Ue,Ve,0),Ko(Ue,Ve,1,Ye,1,0);break;case jl:Us(Pe,Ie,Ye,Ue,Ve);break;case Tc:Us(Pe,Ie,Ye,Ue,Ve),ga(Ue,Ve,Ye,1,0);break;case po:hs(Pe,Ie,Ye,Ue,Ve);break;default:e(0)}be+=_e,Oe+=Fe}g.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=F.height)}}g.C=x,e(g.C<=g.i)}function jr(g){var x;if(0<g.ua)return 0;for(x=0;x<g.Wb;++x){var F=g.Ya[x].G,V=g.Ya[x].H;if(0<F[1][V[1]+0].g||0<F[2][V[2]+0].g||0<F[3][V[3]+0].g)return 0}return 1}function rn(g,x,F,V,he,de){if(g.Z!=0){var me=g.qd,be=g.rd;for(e(zs[g.Z]!=null);x<F;++x)zs[g.Z](me,be,V,he,V,he,de),me=V,be=he,he+=de;g.qd=me,g.rd=be}}function Zn(g,x){var F=g.l.ma,V=F.Z==0||F.Z==1?g.l.j:g.C;if(V=g.C<V?V:g.C,e(x<=g.l.o),x>V){var he=g.l.width,de=F.ca,me=F.tb+he*V,be=g.V,_e=g.Ba+g.c*V,Ae=g.gc;e(g.ab==1),e(Ae[0].hc==3),cs(Ae[0],V,x,be,_e,de,me),rn(F,V,x,de,me,he)}g.C=g.Ma=x}function ji(g,x,F,V,he,de,me){var be=g.$/V,_e=g.$%V,Ae=g.m,Oe=g.s,Fe=F+g.$,Se=Fe;he=F+V*he;var Pe=F+V*de,Ie=280+Oe.ua,Ye=g.Pb?be:16777216,Ue=0<Oe.ua?Oe.Wa:null,Ve=Oe.wc,Qe=Fe<Pe?Rn(Oe,_e,be):null;e(g.C<de),e(Pe<=he);var ut=!1;e:for(;;){for(;ut||Fe<Pe;){var nt=0;if(be>=Ye){var kt=Fe-F;e((Ye=g).Pb),Ye.wd=Ye.m,Ye.xd=kt,0<Ye.s.ua&&q(Ye.s.Wa,Ye.s.vb),Ye=be+mo}if(_e&Ve||(Qe=Rn(Oe,_e,be)),e(Qe!=null),Qe.Qb&&(x[Fe]=Qe.qb,ut=!0),!ut)if(I(Ae),Qe.jc){nt=Ae,kt=x;var yt=Fe,Vt=Qe.pd[X(nt)&fo-1];e(Qe.jc),256>Vt.g?(ae(nt,nt.u+Vt.g),kt[yt]=Vt.value,nt=0):(ae(nt,nt.u+Vt.g-256),e(256<=Vt.value),nt=Vt.value),nt==0&&(ut=!0)}else nt=Wr(Qe.G[0],Qe.H[0],Ae);if(Ae.h)break;if(ut||256>nt){if(!ut)if(Qe.nd)x[Fe]=(Qe.qb|nt<<8)>>>0;else{if(I(Ae),ut=Wr(Qe.G[1],Qe.H[1],Ae),I(Ae),kt=Wr(Qe.G[2],Qe.H[2],Ae),yt=Wr(Qe.G[3],Qe.H[3],Ae),Ae.h)break;x[Fe]=(yt<<24|ut<<16|nt<<8|kt)>>>0}if(ut=!1,++Fe,++_e>=V&&(_e=0,++be,me!=null&&be<=de&&!(be%16)&&me(g,be),Ue!=null))for(;Se<Fe;)nt=x[Se++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else if(280>nt){if(nt=Oi(nt-256,Ae),kt=Wr(Qe.G[4],Qe.H[4],Ae),I(Ae),kt=Li(V,kt=Oi(kt,Ae)),Ae.h)break;if(Fe-F<kt||he-Fe<nt)break e;for(yt=0;yt<nt;++yt)x[Fe+yt]=x[Fe+yt-kt];for(Fe+=nt,_e+=nt;_e>=V;)_e-=V,++be,me!=null&&be<=de&&!(be%16)&&me(g,be);if(e(Fe<=he),_e&Ve&&(Qe=Rn(Oe,_e,be)),Ue!=null)for(;Se<Fe;)nt=x[Se++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else{if(!(nt<Ie))break e;for(ut=nt-280,e(Ue!=null);Se<Fe;)nt=x[Se++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt;nt=Fe,e(!(ut>>>(kt=Ue).Xa)),x[nt]=kt.X[ut],ut=!0}ut||e(Ae.h==ce(Ae))}if(g.Pb&&Ae.h&&Fe<he)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&q(g.s.vb,g.s.Wa);else{if(Ae.h)break e;me?.(g,be>de?de:be),g.a=0,g.$=Fe-F}return 1}return g.a=3,0}function Gi(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var x=g.Wa;x!=null&&(x.X=null),g.vb=null,e(g!=null)}function Qa(){var g=new Ht;return g==null?null:(g.a=0,g.xb=Jh,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),An=ht,Ol=Rt,Ll=Sr,Is=bt,Us=Je,hs=lt,Wo=_t,P.VP8LMapColor32b=us,P.VP8LMapColor8b=di,g)}function ta(g,x,F,V,he){var de=1,me=[g],be=[x],_e=V.m,Ae=V.s,Oe=null,Fe=0;e:for(;;){if(F)for(;de&&W(_e,1);){var Se=me,Pe=be,Ie=V,Ye=1,Ue=Ie.m,Ve=Ie.gc[Ie.ab],Qe=W(Ue,2);if(Ie.Oc&1<<Qe)de=0;else{switch(Ie.Oc|=1<<Qe,Ve.hc=Qe,Ve.Ea=Se[0],Ve.nc=Pe[0],Ve.K=[null],++Ie.ab,e(4>=Ie.ab),Qe){case 0:case 1:Ve.b=W(Ue,3)+2,Ye=ta(M(Ve.Ea,Ve.b),M(Ve.nc,Ve.b),0,Ie,Ve.K),Ve.K=Ve.K[0];break;case 3:var ut,nt=W(Ue,8)+1,kt=16<nt?0:4<nt?1:2<nt?2:3;if(Se[0]=M(Ve.Ea,kt),Ve.b=kt,ut=Ye=ta(nt,1,0,Ie,Ve.K)){var yt,Vt=nt,xt=Ve,fr=1<<(8>>xt.b),an=o(fr);if(an==null)ut=0;else{var Qt=xt.K[0],vt=xt.w;for(an[0]=xt.K[0][0],yt=1;yt<1*Vt;++yt)an[yt]=ve(Qt[vt+yt],an[yt-1]);for(;yt<4*fr;++yt)an[yt]=0;xt.K[0]=null,xt.K[0]=an,ut=1}}Ye=ut;break;case 2:break;default:e(0)}de=Ye}}if(me=me[0],be=be[0],de&&W(_e,1)&&!(de=1<=(Fe=W(_e,4))&&11>=Fe)){V.a=3;break e}var ft;if(ft=de)t:{var hn,zt,nr,Br=V,Gn=me,vi=be,Xr=Fe,Ln=F,Ai=Br.m,jn=Br.s,lr=[null],Ar=1,fn=0,Rr=wa[Xr];r:for(;;){if(Ln&&W(Ai,1)){var Wn=W(Ai,3)+2,dn=M(Gn,Wn),Er=M(vi,Wn),Nn=dn*Er;if(!ta(dn,Er,0,Br,lr))break r;for(lr=lr[0],jn.xc=Wn,hn=0;hn<Nn;++hn){var Ir=lr[hn]>>8&65535;lr[hn]=Ir,Ir>=Ar&&(Ar=Ir+1)}}if(Ai.h)break r;for(zt=0;5>zt;++zt){var Pn=Xo[zt];!zt&&0<Xr&&(Pn+=1<<Xr),fn<Pn&&(fn=Pn)}var Dn=c(Ar*Rr,J),zr=Ar,xr=c(zr,se);if(xr==null)var Ei=null;else e(65536>=zr),Ei=xr;var bn=o(fn);if(Ei==null||bn==null||Dn==null){Br.a=1;break r}var Dt=Dn;for(hn=nr=0;hn<Ar;++hn){var Bt=Ei[hn],kr=Bt.G,Ki=Bt.H,Aa=0,Ui=1,Bn=0;for(zt=0;5>zt;++zt){Pn=Xo[zt],kr[zt]=Dt,Ki[zt]=nr,!zt&&0<Xr&&(Pn+=1<<Xr);i:{var _o,xo=Pn,Dc=Br,Jr=bn,Qh=Dt,ef=nr,Bc=0,qs=Dc.m,W0=W(qs,1);if(s(Jr,0,0,xo),W0){var tf=W(qs,1)+1,rf=W(qs,1),Ic=W(qs,rf==0?1:8);Jr[Ic]=1,tf==2&&(Jr[Ic=W(qs,8)]=1);var ri=1}else{var wn=o(19),ju=W(qs,4)+4;if(19<ju){Dc.a=3;var So=0;break i}for(_o=0;_o<ju;++_o)wn[Cu[_o]]=W(qs,3);var Ml=void 0,Qo=void 0,ps=Dc,Uc=wn,Fl=xo,Mc=Jr,Fc=0,Hs=ps.m,nf=8,af=c(128,J);n:for(;B(af,0,7,Uc,19);){if(W(Hs,1)){var Ed=2+2*W(Hs,3);if((Ml=2+W(Hs,Ed))>Fl)break n}else Ml=Fl;for(Qo=0;Qo<Fl&&Ml--;){I(Hs);var sf=af[0+(127&X(Hs))];ae(Hs,Hs.u+sf.g);var Ao=sf.value;if(16>Ao)Mc[Qo++]=Ao,Ao!=0&&(nf=Ao);else{var kd=Ao==16,Nd=Ao-16,Td=Dl[Nd],of=W(Hs,va[Nd])+Td;if(Qo+of>Fl)break n;for(var Rd=kd?nf:0;0<of--;)Mc[Qo++]=Rd}}Fc=1;break n}Fc||(ps.a=3),ri=Fc}(ri=ri&&!qs.h)&&(Bc=B(Qh,ef,8,Jr,xo)),ri&&Bc!=0?So=Bc:(Dc.a=3,So=0)}if(So==0)break r;if(Ui&&Rc[zt]==1&&(Ui=Dt[nr].g==0),Aa+=Dt[nr].g,nr+=So,3>=zt){var el,zc=bn[0];for(el=1;el<Pn;++el)bn[el]>zc&&(zc=bn[el]);Bn+=zc}}if(Bt.nd=Ui,Bt.Qb=0,Ui&&(Bt.qb=(kr[3][Ki[3]+0].value<<24|kr[1][Ki[1]+0].value<<16|kr[2][Ki[2]+0].value)>>>0,Aa==0&&256>kr[0][Ki[0]+0].value&&(Bt.Qb=1,Bt.qb+=kr[0][Ki[0]+0].value<<8)),Bt.jc=!Bt.Qb&&6>Bn,Bt.jc){var Pu,ms=Bt;for(Pu=0;Pu<fo;++Pu){var $s=Pu,Gs=ms.pd[$s],qc=ms.G[0][ms.H[0]+$s];256<=qc.value?(Gs.g=qc.g+256,Gs.value=qc.value):(Gs.g=0,Gs.value=0,$s>>=yn(qc,8,Gs),$s>>=yn(ms.G[1][ms.H[1]+$s],16,Gs),$s>>=yn(ms.G[2][ms.H[2]+$s],0,Gs),yn(ms.G[3][ms.H[3]+$s],24,Gs))}}}jn.vc=lr,jn.Wb=Ar,jn.Ya=Ei,jn.yc=Dn,ft=1;break t}ft=0}if(!(de=ft)){V.a=3;break e}if(0<Fe){if(Ae.ua=1<<Fe,!te(Ae.Wa,Fe)){V.a=1,de=0;break e}}else Ae.ua=0;var Hc=V,tl=me,Cd=be,zl=Hc.s,ql=zl.xc;if(Hc.c=tl,Hc.i=Cd,zl.md=M(tl,ql),zl.wc=ql==0?-1:(1<<ql)-1,F){V.xb=go;break e}if((Oe=o(me*be))==null){V.a=1,de=0;break e}de=(de=ji(V,Oe,0,me,be,be,null))&&!_e.h;break e}return de?(he!=null?he[0]=Oe:(e(Oe==null),e(F)),V.$=0,F||Gi(Ae)):Gi(Ae),de}function ra(g,x){var F=g.c*g.i,V=F+x+16*x;return e(g.c<=x),g.V=o(V),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+F+x,1)}function es(g,x){var F=g.C,V=x-F,he=g.V,de=g.Ba+g.c*F;for(e(x<=g.l.o);0<V;){var me=16<V?16:V,be=g.l.ma,_e=g.l.width,Ae=_e*me,Oe=be.ca,Fe=be.tb+_e*F,Se=g.Ta,Pe=g.Ua;Za(g,me,he,de),ua(Se,Pe,Oe,Fe,Ae),rn(be,F,F+me,Oe,Fe,_e),V-=me,he+=me*g.c,F+=me}e(F==x),g.C=g.Ma=x}function na(){this.ub=this.yd=this.td=this.Rb=0}function ia(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ts(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function fa(){this.Yb=(function(){var g=[];return(function x(F,V,he){for(var de=he[V],me=0;me<de&&(F.push(he.length>V+1?[]:0),!(he.length<V+1));me++)x(F[me],V+1,he)})(g,0,[3,11]),g})()}function un(){this.jb=o(3),this.Wc=l([4,8],fa),this.Xc=l([4,17],fa)}function _s(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function $e(){this.ld=this.La=this.dd=this.tc=0}function ct(){this.Na=this.la=0}function pt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Lt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cr(){this.uc=this.M=this.Nb=0,this.wa=Array(new $e),this.Y=0,this.ya=Array(new Lt),this.aa=0,this.l=new Pr}function Wt(){this.y=o(16),this.f=o(8),this.ea=o(8)}function rr(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new na,this.Kc=new ia,this.ed=new _s,this.Qa=new ts,this.Ic=this.$c=this.Aa=0,this.D=new cr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,R),this.ia=0,this.pb=c(4,pt),this.Pa=new un,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wt),this.Hd=0,this.rb=Array(new ct),this.sb=0,this.wa=Array(new $e),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Lt),this.L=this.aa=0,this.gd=l([4,2],$e),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ar(g,x){return 0>g?0:g>x?x:g}function Pr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dr(){var g=new rr;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ca||(ca=Cn)),g}function ir(g,x,F){return g.a==0&&(g.a=x,g.sc=F,g.cb=0),0}function rs(g,x,F){return 3<=F&&g[x+0]==157&&g[x+1]==1&&g[x+2]==42}function Hn(g,x){if(g==null)return 0;if(g.a=0,g.sc="OK",x==null)return ir(g,2,"null VP8Io passed to VP8GetHeaders()");var F=x.data,V=x.w,he=x.ha;if(4>he)return ir(g,7,"Truncated header.");var de=F[V+0]|F[V+1]<<8|F[V+2]<<16,me=g.Od;if(me.Rb=!(1&de),me.td=de>>1&7,me.yd=de>>4&1,me.ub=de>>5,3<me.td)return ir(g,3,"Incorrect keyframe parameters.");if(!me.yd)return ir(g,4,"Frame not displayable.");V+=3,he-=3;var be=g.Kc;if(me.Rb){if(7>he)return ir(g,7,"cannot parse picture header");if(!rs(F,V,he))return ir(g,3,"Bad code word");be.c=16383&(F[V+4]<<8|F[V+3]),be.Td=F[V+4]>>6,be.i=16383&(F[V+6]<<8|F[V+5]),be.Ud=F[V+6]>>6,V+=7,he-=7,g.za=be.c+15>>4,g.Ub=be.i+15>>4,x.width=be.c,x.height=be.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,s((de=g.Pa).jb,0,255,de.jb.length),e((de=g.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,s(de.Zb,0,0,de.Zb.length),s(de.Lb,0,0,de.Lb)}if(me.ub>he)return ir(g,7,"bad partition length");ie(de=g.m,F,V,me.ub),V+=me.ub,he-=me.ub,me.Rb&&(be.Ld=ne(de),be.Kd=ne(de)),be=g.Qa;var _e,Ae=g.Pa;if(e(de!=null),e(be!=null),be.Cb=ne(de),be.Cb){if(be.Bb=ne(de),ne(de)){for(be.Fb=ne(de),_e=0;4>_e;++_e)be.Zb[_e]=ne(de)?pe(de,7):0;for(_e=0;4>_e;++_e)be.Lb[_e]=ne(de)?pe(de,6):0}if(be.Bb)for(_e=0;3>_e;++_e)Ae.jb[_e]=ne(de)?Z(de,8):255}else be.Bb=0;if(de.Ka)return ir(g,3,"cannot parse segment header");if((be=g.ed).zd=ne(de),be.Tb=Z(de,6),be.wb=Z(de,3),be.Pc=ne(de),be.Pc&&ne(de)){for(Ae=0;4>Ae;++Ae)ne(de)&&(be.vd[Ae]=pe(de,6));for(Ae=0;4>Ae;++Ae)ne(de)&&(be.od[Ae]=pe(de,6))}if(g.L=be.Tb==0?0:be.zd?1:2,de.Ka)return ir(g,3,"cannot parse filter header");var Oe=he;if(he=_e=V,V=_e+Oe,be=Oe,g.Xb=(1<<Z(g.m,2))-1,Oe<3*(Ae=g.Xb))F=7;else{for(_e+=3*Ae,be-=3*Ae,Oe=0;Oe<Ae;++Oe){var Fe=F[he+0]|F[he+1]<<8|F[he+2]<<16;Fe>be&&(Fe=be),ie(g.Jc[+Oe],F,_e,Fe),_e+=Fe,be-=Fe,he+=3}ie(g.Jc[+Ae],F,_e,be),F=_e<V?0:5}if(F!=0)return ir(g,F,"cannot parse partitions");for(F=Z(_e=g.m,7),he=ne(_e)?pe(_e,4):0,V=ne(_e)?pe(_e,4):0,be=ne(_e)?pe(_e,4):0,Ae=ne(_e)?pe(_e,4):0,_e=ne(_e)?pe(_e,4):0,Oe=g.Qa,Fe=0;4>Fe;++Fe){if(Oe.Cb){var Se=Oe.Zb[Fe];Oe.Fb||(Se+=F)}else{if(0<Fe){g.pb[Fe]=g.pb[0];continue}Se=F}var Pe=g.pb[Fe];Pe.Sc[0]=_a[ar(Se+he,127)],Pe.Sc[1]=xa[ar(Se+0,127)],Pe.Eb[0]=2*_a[ar(Se+V,127)],Pe.Eb[1]=101581*xa[ar(Se+be,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=_a[ar(Se+Ae,117)],Pe.Qc[1]=xa[ar(Se+_e,127)],Pe.lc=Se+_e}if(!me.Rb)return ir(g,4,"Not a key frame.");for(ne(de),me=g.Pa,F=0;4>F;++F){for(he=0;8>he;++he)for(V=0;3>V;++V)for(be=0;11>be;++be)Ae=oe(de,nn[F][he][V][be])?Z(de,8):Sd[F][he][V][be],me.Wc[F][he].Yb[V][be]=Ae;for(he=0;17>he;++he)me.Xc[F][he]=me.Wc[F][pr[he]]}return g.kc=ne(de),g.kc&&(g.Bd=Z(de,8)),g.cb=1}function Cn(g,x,F,V,he,de,me){var be=x[he].Yb[F];for(F=0;16>he;++he){if(!oe(g,be[F+0]))return he;for(;!oe(g,be[F+1]);)if(be=x[++he].Yb[0],F=0,he==16)return 16;var _e=x[he+1].Yb;if(oe(g,be[F+2])){var Ae=g,Oe=0;if(oe(Ae,(Se=be)[(Fe=F)+3]))if(oe(Ae,Se[Fe+6])){for(be=0,Fe=2*(Oe=oe(Ae,Se[Fe+8]))+(Se=oe(Ae,Se[Fe+9+Oe])),Oe=0,Se=xd[Fe];Se[be];++be)Oe+=Oe+oe(Ae,Se[be]);Oe+=3+(8<<Fe)}else oe(Ae,Se[Fe+7])?(Oe=7+2*oe(Ae,165),Oe+=oe(Ae,145)):Oe=5+oe(Ae,159);else Oe=oe(Ae,Se[Fe+4])?3+oe(Ae,Se[Fe+5]):2;be=_e[2]}else Oe=1,be=_e[1];_e=me+Xh[he],0>(Ae=g).b&&U(Ae);var Fe,Se=Ae.b,Pe=(Fe=Ae.Ca>>1)-(Ae.I>>Se)>>31;--Ae.b,Ae.Ca+=Pe,Ae.Ca|=1,Ae.I-=(Fe+1&Pe)<<Se,de[_e]=((Oe^Pe)-Pe)*V[(0<he)+0]}return 16}function Dr(g){var x=g.rb[g.sb-1];x.la=0,x.Na=0,s(g.zc,0,0,g.zc.length),g.ja=0}function or(g,x,F,V,he){he=g[x+F+32*V]+(he>>3),g[x+F+32*V]=-256&he?0>he?0:255:he}function Vr(g,x,F,V,he,de){or(g,x,0,F,V+he),or(g,x,1,F,V+de),or(g,x,2,F,V-de),or(g,x,3,F,V-he)}function Mr(g){return(20091*g>>16)+g}function Pi(g,x,F,V){var he,de=0,me=o(16);for(he=0;4>he;++he){var be=g[x+0]+g[x+8],_e=g[x+0]-g[x+8],Ae=(35468*g[x+4]>>16)-Mr(g[x+12]),Oe=Mr(g[x+4])+(35468*g[x+12]>>16);me[de+0]=be+Oe,me[de+1]=_e+Ae,me[de+2]=_e-Ae,me[de+3]=be-Oe,de+=4,x++}for(he=de=0;4>he;++he)be=(g=me[de+0]+4)+me[de+8],_e=g-me[de+8],Ae=(35468*me[de+4]>>16)-Mr(me[de+12]),or(F,V,0,0,be+(Oe=Mr(me[de+4])+(35468*me[de+12]>>16))),or(F,V,1,0,_e+Ae),or(F,V,2,0,_e-Ae),or(F,V,3,0,be-Oe),de++,V+=32}function xs(g,x,F,V){var he=g[x+0]+4,de=35468*g[x+4]>>16,me=Mr(g[x+4]),be=35468*g[x+1]>>16;Vr(F,V,0,he+me,g=Mr(g[x+1]),be),Vr(F,V,1,he+de,g,be),Vr(F,V,2,he-de,g,be),Vr(F,V,3,he-me,g,be)}function oo(g,x,F,V,he){Pi(g,x,F,V),he&&Pi(g,x+16,F,V+4)}function Qn(g,x,F,V){Ms(g,x+0,F,V,1),Ms(g,x+32,F,V+128,1)}function lo(g,x,F,V){var he;for(g=g[x+0]+4,he=0;4>he;++he)for(x=0;4>x;++x)or(F,V,x,he,g)}function pu(g,x,F,V){g[x+0]&&Tr(g,x+0,F,V),g[x+16]&&Tr(g,x+16,F,V+4),g[x+32]&&Tr(g,x+32,F,V+128),g[x+48]&&Tr(g,x+48,F,V+128+4)}function Pa(g,x,F,V){var he,de=o(16);for(he=0;4>he;++he){var me=g[x+0+he]+g[x+12+he],be=g[x+4+he]+g[x+8+he],_e=g[x+4+he]-g[x+8+he],Ae=g[x+0+he]-g[x+12+he];de[0+he]=me+be,de[8+he]=me-be,de[4+he]=Ae+_e,de[12+he]=Ae-_e}for(he=0;4>he;++he)me=(g=de[0+4*he]+3)+de[3+4*he],be=de[1+4*he]+de[2+4*he],_e=de[1+4*he]-de[2+4*he],Ae=g-de[3+4*he],F[V+0]=me+be>>3,F[V+16]=Ae+_e>>3,F[V+32]=me-be>>3,F[V+48]=Ae-_e>>3,V+=64}function Mo(g,x,F){var V,he=x-32,de=xi,me=255-g[he-1];for(V=0;V<F;++V){var be,_e=de,Ae=me+g[x-1];for(be=0;be<F;++be)g[x+be]=_e[Ae+g[he+be]];x+=32}}function pc(g,x){Mo(g,x,4)}function mc(g,x){Mo(g,x,8)}function mu(g,x){Mo(g,x,16)}function gu(g,x){var F;for(F=0;16>F;++F)i(g,x+32*F,g,x-32,16)}function gc(g,x){var F;for(F=16;0<F;--F)s(g,x,g[x-1],16),x+=32}function Wi(g,x,F){var V;for(V=0;16>V;++V)s(x,F+32*V,g,16)}function Da(g,x){var F,V=16;for(F=0;16>F;++F)V+=g[x-1+32*F]+g[x+F-32];Wi(V>>5,g,x)}function Ss(g,x){var F,V=8;for(F=0;16>F;++F)V+=g[x-1+32*F];Wi(V>>4,g,x)}function Fo(g,x){var F,V=8;for(F=0;16>F;++F)V+=g[x+F-32];Wi(V>>4,g,x)}function uo(g,x){Wi(128,g,x)}function Ft(g,x,F){return g+2*x+F+2>>2}function yc(g,x){var F,V=x-32;for(V=new Uint8Array([Ft(g[V-1],g[V+0],g[V+1]),Ft(g[V+0],g[V+1],g[V+2]),Ft(g[V+1],g[V+2],g[V+3]),Ft(g[V+2],g[V+3],g[V+4])]),F=0;4>F;++F)i(g,x+32*F,V,0,V.length)}function yu(g,x){var F=g[x-1],V=g[x-1+32],he=g[x-1+64],de=g[x-1+96];Q(g,x+0,16843009*Ft(g[x-1-32],F,V)),Q(g,x+32,16843009*Ft(F,V,he)),Q(g,x+64,16843009*Ft(V,he,de)),Q(g,x+96,16843009*Ft(he,de,de))}function vc(g,x){var F,V=4;for(F=0;4>F;++F)V+=g[x+F-32]+g[x-1+32*F];for(V>>=3,F=0;4>F;++F)s(g,x+32*F,V,4)}function aa(g,x){var F=g[x-1+0],V=g[x-1+32],he=g[x-1+64],de=g[x-1-32],me=g[x+0-32],be=g[x+1-32],_e=g[x+2-32],Ae=g[x+3-32];g[x+0+96]=Ft(V,he,g[x-1+96]),g[x+1+96]=g[x+0+64]=Ft(F,V,he),g[x+2+96]=g[x+1+64]=g[x+0+32]=Ft(de,F,V),g[x+3+96]=g[x+2+64]=g[x+1+32]=g[x+0+0]=Ft(me,de,F),g[x+3+64]=g[x+2+32]=g[x+1+0]=Ft(be,me,de),g[x+3+32]=g[x+2+0]=Ft(_e,be,me),g[x+3+0]=Ft(Ae,_e,be)}function hi(g,x){var F=g[x+1-32],V=g[x+2-32],he=g[x+3-32],de=g[x+4-32],me=g[x+5-32],be=g[x+6-32],_e=g[x+7-32];g[x+0+0]=Ft(g[x+0-32],F,V),g[x+1+0]=g[x+0+32]=Ft(F,V,he),g[x+2+0]=g[x+1+32]=g[x+0+64]=Ft(V,he,de),g[x+3+0]=g[x+2+32]=g[x+1+64]=g[x+0+96]=Ft(he,de,me),g[x+3+32]=g[x+2+64]=g[x+1+96]=Ft(de,me,be),g[x+3+64]=g[x+2+96]=Ft(me,be,_e),g[x+3+96]=Ft(be,_e,_e)}function vu(g,x){var F=g[x-1+0],V=g[x-1+32],he=g[x-1+64],de=g[x-1-32],me=g[x+0-32],be=g[x+1-32],_e=g[x+2-32],Ae=g[x+3-32];g[x+0+0]=g[x+1+64]=de+me+1>>1,g[x+1+0]=g[x+2+64]=me+be+1>>1,g[x+2+0]=g[x+3+64]=be+_e+1>>1,g[x+3+0]=_e+Ae+1>>1,g[x+0+96]=Ft(he,V,F),g[x+0+64]=Ft(V,F,de),g[x+0+32]=g[x+1+96]=Ft(F,de,me),g[x+1+32]=g[x+2+96]=Ft(de,me,be),g[x+2+32]=g[x+3+96]=Ft(me,be,_e),g[x+3+32]=Ft(be,_e,Ae)}function zo(g,x){var F=g[x+0-32],V=g[x+1-32],he=g[x+2-32],de=g[x+3-32],me=g[x+4-32],be=g[x+5-32],_e=g[x+6-32],Ae=g[x+7-32];g[x+0+0]=F+V+1>>1,g[x+1+0]=g[x+0+64]=V+he+1>>1,g[x+2+0]=g[x+1+64]=he+de+1>>1,g[x+3+0]=g[x+2+64]=de+me+1>>1,g[x+0+32]=Ft(F,V,he),g[x+1+32]=g[x+0+96]=Ft(V,he,de),g[x+2+32]=g[x+1+96]=Ft(he,de,me),g[x+3+32]=g[x+2+96]=Ft(de,me,be),g[x+3+64]=Ft(me,be,_e),g[x+3+96]=Ft(be,_e,Ae)}function sa(g,x){var F=g[x-1+0],V=g[x-1+32],he=g[x-1+64],de=g[x-1+96];g[x+0+0]=F+V+1>>1,g[x+2+0]=g[x+0+32]=V+he+1>>1,g[x+2+32]=g[x+0+64]=he+de+1>>1,g[x+1+0]=Ft(F,V,he),g[x+3+0]=g[x+1+32]=Ft(V,he,de),g[x+3+32]=g[x+1+64]=Ft(he,de,de),g[x+3+64]=g[x+2+64]=g[x+0+96]=g[x+1+96]=g[x+2+96]=g[x+3+96]=de}function qo(g,x){var F=g[x-1+0],V=g[x-1+32],he=g[x-1+64],de=g[x-1+96],me=g[x-1-32],be=g[x+0-32],_e=g[x+1-32],Ae=g[x+2-32];g[x+0+0]=g[x+2+32]=F+me+1>>1,g[x+0+32]=g[x+2+64]=V+F+1>>1,g[x+0+64]=g[x+2+96]=he+V+1>>1,g[x+0+96]=de+he+1>>1,g[x+3+0]=Ft(be,_e,Ae),g[x+2+0]=Ft(me,be,_e),g[x+1+0]=g[x+3+32]=Ft(F,me,be),g[x+1+32]=g[x+3+64]=Ft(V,F,me),g[x+1+64]=g[x+3+96]=Ft(he,V,F),g[x+1+96]=Ft(de,he,V)}function ns(g,x){var F;for(F=0;8>F;++F)i(g,x+32*F,g,x-32,8)}function bc(g,x){var F;for(F=0;8>F;++F)s(g,x,g[x-1],8),x+=32}function da(g,x,F){var V;for(V=0;8>V;++V)s(x,F+32*V,g,8)}function Sl(g,x){var F,V=8;for(F=0;8>F;++F)V+=g[x+F-32]+g[x-1+32*F];da(V>>4,g,x)}function Al(g,x){var F,V=4;for(F=0;8>F;++F)V+=g[x+F-32];da(V>>3,g,x)}function ei(g,x){var F,V=4;for(F=0;8>F;++F)V+=g[x-1+32*F];da(V>>3,g,x)}function is(g,x){da(128,g,x)}function pa(g,x,F){var V=g[x-F],he=g[x+0],de=3*(he-V)+Fs[1020+g[x-2*F]-g[x+F]],me=Nu[112+(de+4>>3)];g[x-F]=xi[255+V+Nu[112+(de+3>>3)]],g[x+0]=xi[255+he-me]}function As(g,x,F,V){var he=g[x+0],de=g[x+F];return pi[255+g[x-2*F]-g[x-F]]>V||pi[255+de-he]>V}function El(g,x,F,V){return 4*pi[255+g[x-F]-g[x+0]]+pi[255+g[x-2*F]-g[x+F]]<=V}function Ho(g,x,F,V,he){var de=g[x-3*F],me=g[x-2*F],be=g[x-F],_e=g[x+0],Ae=g[x+F],Oe=g[x+2*F],Fe=g[x+3*F];return 4*pi[255+be-_e]+pi[255+me-Ae]>V?0:pi[255+g[x-4*F]-de]<=he&&pi[255+de-me]<=he&&pi[255+me-be]<=he&&pi[255+Fe-Oe]<=he&&pi[255+Oe-Ae]<=he&&pi[255+Ae-_e]<=he}function Es(g,x,F,V){var he=2*V+1;for(V=0;16>V;++V)El(g,x+V,F,he)&&pa(g,x+V,F)}function ks(g,x,F,V){var he=2*V+1;for(V=0;16>V;++V)El(g,x+V*F,1,he)&&pa(g,x+V*F,1)}function $o(g,x,F,V){var he;for(he=3;0<he;--he)Es(g,x+=4*F,F,V)}function bu(g,x,F,V){var he;for(he=3;0<he;--he)ks(g,x+=4,F,V)}function Ns(g,x,F,V,he,de,me,be){for(de=2*de+1;0<he--;){if(Ho(g,x,F,de,me))if(As(g,x,F,be))pa(g,x,F);else{var _e=g,Ae=x,Oe=F,Fe=_e[Ae-2*Oe],Se=_e[Ae-Oe],Pe=_e[Ae+0],Ie=_e[Ae+Oe],Ye=_e[Ae+2*Oe],Ue=27*(Qe=Fs[1020+3*(Pe-Se)+Fs[1020+Fe-Ie]])+63>>7,Ve=18*Qe+63>>7,Qe=9*Qe+63>>7;_e[Ae-3*Oe]=xi[255+_e[Ae-3*Oe]+Qe],_e[Ae-2*Oe]=xi[255+Fe+Ve],_e[Ae-Oe]=xi[255+Se+Ue],_e[Ae+0]=xi[255+Pe-Ue],_e[Ae+Oe]=xi[255+Ie-Ve],_e[Ae+2*Oe]=xi[255+Ye-Qe]}x+=V}}function Ts(g,x,F,V,he,de,me,be){for(de=2*de+1;0<he--;){if(Ho(g,x,F,de,me))if(As(g,x,F,be))pa(g,x,F);else{var _e=g,Ae=x,Oe=F,Fe=_e[Ae-Oe],Se=_e[Ae+0],Pe=_e[Ae+Oe],Ie=Nu[112+(4+(Ye=3*(Se-Fe))>>3)],Ye=Nu[112+(Ye+3>>3)],Ue=Ie+1>>1;_e[Ae-2*Oe]=xi[255+_e[Ae-2*Oe]+Ue],_e[Ae-Oe]=xi[255+Fe+Ye],_e[Ae+0]=xi[255+Se-Ie],_e[Ae+Oe]=xi[255+Pe-Ue]}x+=V}}function wc(g,x,F,V,he,de){Ns(g,x,F,1,16,V,he,de)}function Rs(g,x,F,V,he,de){Ns(g,x,1,F,16,V,he,de)}function _c(g,x,F,V,he,de){var me;for(me=3;0<me;--me)Ts(g,x+=4*F,F,1,16,V,he,de)}function j(g,x,F,V,he,de){var me;for(me=3;0<me;--me)Ts(g,x+=4,1,F,16,V,he,de)}function le(g,x,F,V,he,de,me,be){Ns(g,x,he,1,8,de,me,be),Ns(F,V,he,1,8,de,me,be)}function Ee(g,x,F,V,he,de,me,be){Ns(g,x,1,he,8,de,me,be),Ns(F,V,1,he,8,de,me,be)}function Ce(g,x,F,V,he,de,me,be){Ts(g,x+4*he,he,1,8,de,me,be),Ts(F,V+4*he,he,1,8,de,me,be)}function De(g,x,F,V,he,de,me,be){Ts(g,x+4,1,he,8,de,me,be),Ts(F,V+4,1,he,8,de,me,be)}function Ze(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function St(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new T,this.vb=new T,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new J}function Ht(){this.xb=this.a=0,this.l=new Pr,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=c(4,St),this.Oc=0}function Zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wr(g,x,F,V,he,de,me){for(g=g==null?0:g[x+0],x=0;x<me;++x)he[de+x]=g+F[V+x]&255,g=he[de+x]}function cn(g,x,F,V,he,de,me){var be;if(g==null)wr(null,null,F,V,he,de,me);else for(be=0;be<me;++be)he[de+be]=g[x+be]+F[V+be]&255}function Sn(g,x,F,V,he,de,me){if(g==null)wr(null,null,F,V,he,de,me);else{var be,_e=g[x+0],Ae=_e,Oe=_e;for(be=0;be<me;++be)Ae=Oe+(_e=g[x+be])-Ae,Oe=F[V+be]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=_e,he[de+be]=Oe}}function Kr(g,x,F,V){var he=x.width,de=x.o;if(e(g!=null&&x!=null),0>F||0>=V||F+V>de)return null;if(!g.Cc){if(g.ga==null){var me;if(g.ga=new Zt,(me=g.ga==null)||(me=x.width*x.o,e(g.Gb.length==0),g.Gb=o(me),g.Uc=0,g.Gb==null?me=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,me=1),me=!me),!me){me=g.ga;var be=g.Fa,_e=g.P,Ae=g.qc,Oe=g.mb,Fe=g.nb,Se=_e+1,Pe=Ae-1,Ie=me.l;if(e(be!=null&&Oe!=null&&x!=null),zs[0]=null,zs[1]=wr,zs[2]=cn,zs[3]=Sn,me.ca=Oe,me.tb=Fe,me.c=x.width,me.i=x.height,e(0<me.c&&0<me.i),1>=Ae)x=0;else if(me.$a=3&be[_e+0],me.Z=be[_e+0]>>2&3,me.Lc=be[_e+0]>>4&3,_e=be[_e+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||_e)x=0;else if(Ie.put=Tt,Ie.ac=Ri,Ie.bc=Ci,Ie.ma=me,Ie.width=x.width,Ie.height=x.height,Ie.Da=x.Da,Ie.v=x.v,Ie.va=x.va,Ie.j=x.j,Ie.o=x.o,me.$a)e:{e(me.$a==1),x=Qa();t:for(;;){if(x==null){x=0;break e}if(e(me!=null),me.mc=x,x.c=me.c,x.i=me.i,x.l=me.l,x.l.ma=me,x.l.width=me.c,x.l.height=me.i,x.a=0,ye(x.m,be,Se,Pe),!ta(me.c,me.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&jr(x.s)?(me.ic=1,be=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(be),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(me.ic=0,x=ra(x,me.c)),!x))break t;x=1;break e}me.mc=null,x=0}else x=Pe>=me.c*me.i;me=!x}if(me)return null;g.ga.Lc!=1?g.Ga=0:V=de-F}e(g.ga!=null),e(F+V<=de);e:{if(x=(be=g.ga).c,de=be.l.o,be.$a==0){if(Se=g.rc,Pe=g.Vc,Ie=g.Fa,_e=g.P+1+F*x,Ae=g.mb,Oe=g.nb+F*x,e(_e<=g.P+g.qc),be.Z!=0)for(e(zs[be.Z]!=null),me=0;me<V;++me)zs[be.Z](Se,Pe,Ie,_e,Ae,Oe,x),Se=Ae,Pe=Oe,Oe+=x,_e+=x;else for(me=0;me<V;++me)i(Ae,Oe,Ie,_e,x),Se=Ae,Pe=Oe,Oe+=x,_e+=x;g.rc=Se,g.Vc=Pe}else{if(e(be.mc!=null),x=F+V,e((me=be.mc)!=null),e(x<=me.i),me.C>=x)x=1;else if(be.ic||Ba(),be.ic){be=me.V,Se=me.Ba,Pe=me.c;var Ye=me.i,Ue=(Ie=1,_e=me.$/Pe,Ae=me.$%Pe,Oe=me.m,Fe=me.s,me.$),Ve=Pe*Ye,Qe=Pe*x,ut=Fe.wc,nt=Ue<Qe?Rn(Fe,Ae,_e):null;e(Ue<=Ve),e(x<=Ye),e(jr(Fe));t:for(;;){for(;!Oe.h&&Ue<Qe;){if(Ae&ut||(nt=Rn(Fe,Ae,_e)),e(nt!=null),I(Oe),256>(Ye=Wr(nt.G[0],nt.H[0],Oe)))be[Se+Ue]=Ye,++Ue,++Ae>=Pe&&(Ae=0,++_e<=x&&!(_e%16)&&Zn(me,_e));else{if(!(280>Ye)){Ie=0;break t}Ye=Oi(Ye-256,Oe);var kt,yt=Wr(nt.G[4],nt.H[4],Oe);if(I(Oe),!(Ue>=(yt=Li(Pe,yt=Oi(yt,Oe)))&&Ve-Ue>=Ye)){Ie=0;break t}for(kt=0;kt<Ye;++kt)be[Se+Ue+kt]=be[Se+Ue+kt-yt];for(Ue+=Ye,Ae+=Ye;Ae>=Pe;)Ae-=Pe,++_e<=x&&!(_e%16)&&Zn(me,_e);Ue<Qe&&Ae&ut&&(nt=Rn(Fe,Ae,_e))}e(Oe.h==ce(Oe))}Zn(me,_e>x?x:_e);break t}!Ie||Oe.h&&Ue<Ve?(Ie=0,me.a=Oe.h?5:3):me.$=Ue,x=Ie}else x=ji(me,me.V,me.Ba,me.c,me.i,x,es);if(!x){V=0;break e}}F+V>=de&&(g.Cc=1),V=1}if(!V)return null;if(g.Cc&&((V=g.ga)!=null&&(V.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+F*he}function $n(g,x,F,V,he,de){for(;0<he--;){var me,be=g,_e=x+(F?1:0),Ae=g,Oe=x+(F?0:3);for(me=0;me<V;++me){var Fe=Ae[Oe+4*me];Fe!=255&&(Fe*=32897,be[_e+4*me+0]=be[_e+4*me+0]*Fe>>23,be[_e+4*me+1]=be[_e+4*me+1]*Fe>>23,be[_e+4*me+2]=be[_e+4*me+2]*Fe>>23)}x+=de}}function On(g,x,F,V,he){for(;0<V--;){var de;for(de=0;de<F;++de){var me=g[x+2*de+0],be=15&(Ae=g[x+2*de+1]),_e=4369*be,Ae=(240&Ae|Ae>>4)*_e>>16;g[x+2*de+0]=(240&me|me>>4)*_e>>16&240|(15&me|me<<4)*_e>>16>>4&15,g[x+2*de+1]=240&Ae|be}x+=he}}function fi(g,x,F,V,he,de,me,be){var _e,Ae,Oe=255;for(Ae=0;Ae<he;++Ae){for(_e=0;_e<V;++_e){var Fe=g[x+_e];de[me+4*_e]=Fe,Oe&=Fe}x+=F,me+=be}return Oe!=255}function Cs(g,x,F,V,he){var de;for(de=0;de<he;++de)F[V+de]=g[x+de]>>8}function Ba(){Ko=$n,ga=On,Au=fi,ua=Cs}function Os(g,x,F){P[g]=function(V,he,de,me,be,_e,Ae,Oe,Fe,Se,Pe,Ie,Ye,Ue,Ve,Qe,ut){var nt,kt=ut-1>>1,yt=be[_e+0]|Ae[Oe+0]<<16,Vt=Fe[Se+0]|Pe[Ie+0]<<16;e(V!=null);var xt=3*yt+Vt+131074>>2;for(x(V[he+0],255&xt,xt>>16,Ye,Ue),de!=null&&(xt=3*Vt+yt+131074>>2,x(de[me+0],255&xt,xt>>16,Ve,Qe)),nt=1;nt<=kt;++nt){var fr=be[_e+nt]|Ae[Oe+nt]<<16,an=Fe[Se+nt]|Pe[Ie+nt]<<16,Qt=yt+fr+Vt+an+524296,vt=Qt+2*(fr+Vt)>>3;xt=vt+yt>>1,yt=(Qt=Qt+2*(yt+an)>>3)+fr>>1,x(V[he+2*nt-1],255&xt,xt>>16,Ye,Ue+(2*nt-1)*F),x(V[he+2*nt-0],255&yt,yt>>16,Ye,Ue+(2*nt-0)*F),de!=null&&(xt=Qt+Vt>>1,yt=vt+an>>1,x(de[me+2*nt-1],255&xt,xt>>16,Ve,Qe+(2*nt-1)*F),x(de[me+2*nt+0],255&yt,yt>>16,Ve,Qe+(2*nt+0)*F)),yt=fr,Vt=an}1&ut||(xt=3*yt+Vt+131074>>2,x(V[he+ut-1],255&xt,xt>>16,Ye,Ue+(ut-1)*F),de!=null&&(xt=3*Vt+yt+131074>>2,x(de[me+ut-1],255&xt,xt>>16,Ve,Qe+(ut-1)*F)))}}function wu(){gi[Ec]=Jo,gi[Si]=Bl,gi[kc]=Zh,gi[ya]=Oc,gi[Tu]=yo,gi[jl]=ds,gi[po]=vo,gi[Ru]=Bl,gi[Nc]=Oc,gi[Pl]=yo,gi[Tc]=ds}function kl(g){return g&-16384?0>g?0:255:g>>Lc}function as(g,x){return kl((19077*g>>8)+(26149*x>>8)-14234)}function Ia(g,x,F){return kl((19077*g>>8)-(6419*x>>8)-(13320*F>>8)+8708)}function Go(g,x){return kl((19077*g>>8)+(33050*x>>8)-17685)}function Ls(g,x,F,V,he){V[he+0]=as(g,F),V[he+1]=Ia(g,x,F),V[he+2]=Go(g,x)}function ti(g,x,F,V,he){V[he+0]=Go(g,x),V[he+1]=Ia(g,x,F),V[he+2]=as(g,F)}function co(g,x,F,V,he){var de=Ia(g,x,F);x=de<<3&224|Go(g,x)>>3,V[he+0]=248&as(g,F)|de>>5,V[he+1]=x}function ho(g,x,F,V,he){var de=240&Go(g,x)|15;V[he+0]=240&as(g,F)|Ia(g,x,F)>>4,V[he+1]=de}function Nl(g,x,F,V,he){V[he+0]=255,Ls(g,x,F,V,he+1)}function ss(g,x,F,V,he){ti(g,x,F,V,he),V[he+3]=255}function Di(g,x,F,V,he){Ls(g,x,F,V,he),V[he+3]=255}function js(g,x,F){P[g]=function(V,he,de,me,be,_e,Ae,Oe,Fe){for(var Se=Oe+(-2&Fe)*F;Oe!=Se;)x(V[he+0],de[me+0],be[_e+0],Ae,Oe),x(V[he+1],de[me+0],be[_e+0],Ae,Oe+F),he+=2,++me,++_e,Oe+=2*F;1&Fe&&x(V[he+0],de[me+0],be[_e+0],Ae,Oe)}}function Tl(g,x,F){return F==0?g==0?x==0?6:5:x==0?4:0:F}function _u(g,x,F,V,he){switch(g>>>30){case 3:Ms(x,F,V,he,0);break;case 2:_i(x,F,V,he);break;case 1:Tr(x,F,V,he)}}function oa(g,x){var F,V,he=x.M,de=x.Nb,me=g.oc,be=g.pc+40,_e=g.oc,Ae=g.pc+584,Oe=g.oc,Fe=g.pc+600;for(F=0;16>F;++F)me[be+32*F-1]=129;for(F=0;8>F;++F)_e[Ae+32*F-1]=129,Oe[Fe+32*F-1]=129;for(0<he?me[be-1-32]=_e[Ae-1-32]=Oe[Fe-1-32]=129:(s(me,be-32-1,127,21),s(_e,Ae-32-1,127,9),s(Oe,Fe-32-1,127,9)),V=0;V<g.za;++V){var Se=x.ya[x.aa+V];if(0<V){for(F=-1;16>F;++F)i(me,be+32*F-4,me,be+32*F+12,4);for(F=-1;8>F;++F)i(_e,Ae+32*F-4,_e,Ae+32*F+4,4),i(Oe,Fe+32*F-4,Oe,Fe+32*F+4,4)}var Pe=g.Gd,Ie=g.Hd+V,Ye=Se.ad,Ue=Se.Hc;if(0<he&&(i(me,be-32,Pe[Ie].y,0,16),i(_e,Ae-32,Pe[Ie].f,0,8),i(Oe,Fe-32,Pe[Ie].ea,0,8)),Se.Za){var Ve=me,Qe=be-32+16;for(0<he&&(V>=g.za-1?s(Ve,Qe,Pe[Ie].y[15],4):i(Ve,Qe,Pe[Ie+1].y,0,4)),F=0;4>F;F++)Ve[Qe+128+F]=Ve[Qe+256+F]=Ve[Qe+384+F]=Ve[Qe+0+F];for(F=0;16>F;++F,Ue<<=2)Ve=me,Qe=be+kn[F],vn[Se.Ob[F]](Ve,Qe),_u(Ue,Ye,16*+F,Ve,Qe)}else if(Ve=Tl(V,he,Se.Ob[0]),Ii[Ve](me,be),Ue!=0)for(F=0;16>F;++F,Ue<<=2)_u(Ue,Ye,16*+F,me,be+kn[F]);for(F=Se.Gc,Ve=Tl(V,he,Se.Dd),za[Ve](_e,Ae),za[Ve](Oe,Fe),Ue=Ye,Ve=_e,Qe=Ae,255&(Se=0|F)&&(170&Se?ma(Ue,256,Ve,Qe):_r(Ue,256,Ve,Qe)),Se=Oe,Ue=Fe,255&(F>>=8)&&(170&F?ma(Ye,320,Se,Ue):_r(Ye,320,Se,Ue)),he<g.Ub-1&&(i(Pe[Ie].y,0,me,be+480,16),i(Pe[Ie].f,0,_e,Ae+224,8),i(Pe[Ie].ea,0,Oe,Fe+224,8)),F=8*de*g.B,Pe=g.sa,Ie=g.ta+16*V+16*de*g.R,Ye=g.qa,Se=g.ra+8*V+F,Ue=g.Ha,Ve=g.Ia+8*V+F,F=0;16>F;++F)i(Pe,Ie+F*g.R,me,be+32*F,16);for(F=0;8>F;++F)i(Ye,Se+F*g.B,_e,Ae+32*F,8),i(Ue,Ve+F*g.B,Oe,Fe+32*F,8)}}function Ua(g,x,F,V,he,de,me,be,_e){var Ae=[0],Oe=[0],Fe=0,Se=_e!=null?_e.kd:0,Pe=_e??new it;if(g==null||12>F)return 7;Pe.data=g,Pe.w=x,Pe.ha=F,x=[x],F=[F],Pe.gb=[Pe.gb];e:{var Ie=x,Ye=F,Ue=Pe.gb;if(e(g!=null),e(Ye!=null),e(Ue!=null),Ue[0]=0,12<=Ye[0]&&!t(g,Ie[0],"RIFF")){if(t(g,Ie[0]+8,"WEBP")){Ue=3;break e}var Ve=z(g,Ie[0]+4);if(12>Ve||4294967286<Ve){Ue=3;break e}if(Se&&Ve>Ye[0]-8){Ue=7;break e}Ue[0]=Ve,Ie[0]+=12,Ye[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Ve=0<Pe.gb[0],F=F[0];;){e:{var Qe=g;Ye=x,Ue=F;var ut=Ae,nt=Oe,kt=Ie=[0];if((xt=Fe=[Fe])[0]=0,8>Ue[0])Ue=7;else{if(!t(Qe,Ye[0],"VP8X")){if(z(Qe,Ye[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var yt=z(Qe,Ye[0]+8),Vt=1+ke(Qe,Ye[0]+12);if(2147483648<=Vt*(Qe=1+ke(Qe,Ye[0]+15))){Ue=3;break e}kt!=null&&(kt[0]=yt),ut!=null&&(ut[0]=Vt),nt!=null&&(nt[0]=Qe),Ye[0]+=18,Ue[0]-=18,xt[0]=1}Ue=0}}if(Fe=Fe[0],Ie=Ie[0],Ue!=0)return Ue;if(Ye=!!(2&Ie),!Ve&&Fe)return 3;if(de!=null&&(de[0]=!!(16&Ie)),me!=null&&(me[0]=Ye),be!=null&&(be[0]=0),me=Ae[0],Ie=Oe[0],Fe&&Ye&&_e==null){Ue=0;break}if(4>F){Ue=7;break}if(Ve&&Fe||!Ve&&!Fe&&!t(g,x[0],"ALPH")){F=[F],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{yt=g,Ue=x,Ve=F;var xt=Pe.gb;ut=Pe.na,nt=Pe.P,kt=Pe.Sa,Vt=22,e(yt!=null),e(Ve!=null),Qe=Ue[0];var fr=Ve[0];for(e(ut!=null),e(kt!=null),ut[0]=null,nt[0]=null,kt[0]=0;;){if(Ue[0]=Qe,Ve[0]=fr,8>fr){Ue=7;break e}var an=z(yt,Qe+4);if(4294967286<an){Ue=3;break e}var Qt=8+an+1&-2;if(Vt+=Qt,0<xt&&Vt>xt){Ue=3;break e}if(!t(yt,Qe,"VP8 ")||!t(yt,Qe,"VP8L")){Ue=0;break e}if(fr[0]<Qt){Ue=7;break e}t(yt,Qe,"ALPH")||(ut[0]=yt,nt[0]=Qe+8,kt[0]=an),Qe+=Qt,fr-=Qt}}if(F=F[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Ue!=0)break}F=[F],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(xt=g,Ue=x,Ve=F,ut=Pe.gb[0],nt=Pe.Ja,kt=Pe.xa,yt=Ue[0],Qe=!t(xt,yt,"VP8 "),Vt=!t(xt,yt,"VP8L"),e(xt!=null),e(Ve!=null),e(nt!=null),e(kt!=null),8>Ve[0])Ue=7;else{if(Qe||Vt){if(xt=z(xt,yt+4),12<=ut&&xt>ut-12){Ue=3;break e}if(Se&&xt>Ve[0]-8){Ue=7;break e}nt[0]=xt,Ue[0]+=8,Ve[0]-=8,kt[0]=Vt}else kt[0]=5<=Ve[0]&&xt[yt+0]==47&&!(xt[yt+4]>>5),nt[0]=Ve[0];Ue=0}if(F=F[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],x=x[0],Ue!=0)break;if(4294967286<Pe.Ja)return 3;if(be==null||Ye||(be[0]=Pe.xa?2:1),me=[me],Ie=[Ie],Pe.xa){if(5>F){Ue=7;break}be=me,Se=Ie,Ye=de,g==null||5>F?g=0:5<=F&&g[x+0]==47&&!(g[x+4]>>5)?(Ve=[0],xt=[0],ut=[0],ye(nt=new G,g,x,F),ui(nt,Ve,xt,ut)?(be!=null&&(be[0]=Ve[0]),Se!=null&&(Se[0]=xt[0]),Ye!=null&&(Ye[0]=ut[0]),g=1):g=0):g=0}else{if(10>F){Ue=7;break}be=Ie,g==null||10>F||!rs(g,x+3,F-3)?g=0:(Se=g[x+0]|g[x+1]<<8|g[x+2]<<16,Ye=16383&(g[x+7]<<8|g[x+6]),g=16383&(g[x+9]<<8|g[x+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Pe.Ja||!Ye||!g?g=0:(me&&(me[0]=Ye),be&&(be[0]=g),g=1))}if(!g||(me=me[0],Ie=Ie[0],Fe&&(Ae[0]!=me||Oe[0]!=Ie)))return 3;_e!=null&&(_e[0]=Pe,_e.offset=x-_e.w,e(4294967286>x-_e.w),e(_e.offset==_e.ha-F));break}return Ue==0||Ue==7&&Fe&&_e==null?(de!=null&&(de[0]|=Pe.na!=null&&0<Pe.na.length),V!=null&&(V[0]=me),he!=null&&(he[0]=Ie),0):Ue}function Ps(g,x,F){var V=x.width,he=x.height,de=0,me=0,be=V,_e=he;if(x.Da=g!=null&&0<g.Da,x.Da&&(be=g.cd,_e=g.bd,de=g.v,me=g.j,11>F||(de&=-2,me&=-2),0>de||0>me||0>=be||0>=_e||de+be>V||me+_e>he))return 0;if(x.v=de,x.j=me,x.va=de+be,x.o=me+_e,x.U=be,x.T=_e,x.da=g!=null&&0<g.da,x.da){if(!O(be,_e,F=[g.ib],de=[g.hb]))return 0;x.ib=F[0],x.hb=de[0]}return x.ob=g!=null&&g.ob,x.Kb=g==null||!g.Sd,x.da&&(x.ob=x.ib<3*V/4&&x.hb<3*he/4,x.Kb=0),1}function xu(g){if(g==null)return 2;if(11>g.S){var x=g.f.RGBA;x.fb+=(g.height-1)*x.A,x.A=-x.A}else x=g.f.kb,g=g.height,x.O+=(g-1)*x.fa,x.fa=-x.fa,x.N+=(g-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(g-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(g-1)*x.lb,x.lb=-x.lb);return 0}function Ma(g,x,F,V){if(V==null||0>=g||0>=x)return 2;if(F!=null){if(F.Da){var he=F.cd,de=F.bd,me=-2&F.v,be=-2&F.j;if(0>me||0>be||0>=he||0>=de||me+he>g||be+de>x)return 2;g=he,x=de}if(F.da){if(!O(g,x,he=[F.ib],de=[F.hb]))return 2;g=he[0],x=de[0]}}V.width=g,V.height=x;e:{var _e=V.width,Ae=V.height;if(g=V.S,0>=_e||0>=Ae||!(g>=Ec&&13>g))g=2;else{if(0>=V.Rd&&V.sd==null){me=de=he=x=0;var Oe=(be=_e*Pc[g])*Ae;if(11>g||(de=(Ae+1)/2*(x=(_e+1)/2),g==12&&(me=(he=_e)*Ae)),(Ae=o(Oe+2*de+me))==null){g=1;break e}V.sd=Ae,11>g?((_e=V.f.RGBA).eb=Ae,_e.fb=0,_e.A=be,_e.size=Oe):((_e=V.f.kb).y=Ae,_e.O=0,_e.fa=be,_e.Fd=Oe,_e.f=Ae,_e.N=0+Oe,_e.Ab=x,_e.Cd=de,_e.ea=Ae,_e.W=0+Oe+de,_e.Db=x,_e.Ed=de,g==12&&(_e.F=Ae,_e.J=0+Oe+2*de),_e.Tc=me,_e.lb=he)}if(x=1,he=V.S,de=V.width,me=V.height,he>=Ec&&13>he)if(11>he)g=V.f.RGBA,x&=(be=Math.abs(g.A))*(me-1)+de<=g.size,x&=be>=de*Pc[he],x&=g.eb!=null;else{g=V.f.kb,be=(de+1)/2,Oe=(me+1)/2,_e=Math.abs(g.fa),Ae=Math.abs(g.Ab);var Fe=Math.abs(g.Db),Se=Math.abs(g.lb),Pe=Se*(me-1)+de;x&=_e*(me-1)+de<=g.Fd,x&=Ae*(Oe-1)+be<=g.Cd,x=(x&=Fe*(Oe-1)+be<=g.Ed)&_e>=de&Ae>=be&Fe>=be,x&=g.y!=null,x&=g.f!=null,x&=g.ea!=null,he==12&&(x&=Se>=de,x&=Pe<=g.Tc,x&=g.F!=null)}else x=0;g=x?0:2}}return g!=0||F!=null&&F.fd&&(g=xu(V)),g}var fo=64,Vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bi=24,os=32,ls=8,Ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(g){return g},P.Predictor2=function(g,x,F){return x[F+0]},P.Predictor3=function(g,x,F){return x[F+1]},P.Predictor4=function(g,x,F){return x[F-1]},P.Predictor5=function(g,x,F){return je(je(g,x[F+1]),x[F+0])},P.Predictor6=function(g,x,F){return je(g,x[F-1])},P.Predictor7=function(g,x,F){return je(g,x[F+0])},P.Predictor8=function(g,x,F){return je(x[F-1],x[F+0])},P.Predictor9=function(g,x,F){return je(x[F+0],x[F+1])},P.Predictor10=function(g,x,F){return je(je(g,x[F-1]),je(x[F+0],x[F+1]))},P.Predictor11=function(g,x,F){var V=x[F+0];return 0>=Ke(V>>24&255,g>>24&255,(x=x[F-1])>>24&255)+Ke(V>>16&255,g>>16&255,x>>16&255)+Ke(V>>8&255,g>>8&255,x>>8&255)+Ke(255&V,255&g,255&x)?V:g},P.Predictor12=function(g,x,F){var V=x[F+0];return(qe((g>>24&255)+(V>>24&255)-((x=x[F-1])>>24&255))<<24|qe((g>>16&255)+(V>>16&255)-(x>>16&255))<<16|qe((g>>8&255)+(V>>8&255)-(x>>8&255))<<8|qe((255&g)+(255&V)-(255&x)))>>>0},P.Predictor13=function(g,x,F){var V=x[F-1];return(Me((g=je(g,x[F+0]))>>24&255,V>>24&255)<<24|Me(g>>16&255,V>>16&255)<<16|Me(g>>8&255,V>>8&255)<<8|Me(255&g,255&V))>>>0};var Rl=P.PredictorAdd0;P.PredictorAdd1=at,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var Cl=P.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var An,xc=P.ColorIndexInverseTransform,us=P.MapARGB,cs=P.VP8LColorIndexInverseTransformAlpha,di=P.MapAlpha,Bs=P.VP8LPredictorsAdd=[];Bs.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ol,Ll,Is,Us,hs,Wo,la,Ms,_i,ma,Tr,_r,Yr,En,fs,Fa,Vo,Su,Vh,bd,wd,_d,Kh,Yh,Ko,ga,Au,ua,Yo=o(511),Sc=o(2041),Eu=o(225),ku=o(767),Ac=0,Fs=Sc,Nu=Eu,xi=ku,pi=Yo,Ec=0,Si=1,kc=2,ya=3,Tu=4,jl=5,po=6,Ru=7,Nc=8,Pl=9,Tc=10,va=[2,3,7],Dl=[3,3,11],Xo=[280,256,256,256,40],Rc=[0,1,1,1,0],Cu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ba=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mo=8,_a=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xa=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ca=null,xd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Cc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],vn=[],za=[],go=1,Jh=2,zs=[],gi=[];Os("UpsampleRgbLinePair",Ls,3),Os("UpsampleBgrLinePair",ti,3),Os("UpsampleRgbaLinePair",Di,4),Os("UpsampleBgraLinePair",ss,4),Os("UpsampleArgbLinePair",Nl,4),Os("UpsampleRgba4444LinePair",ho,2),Os("UpsampleRgb565LinePair",co,2);var Jo=P.UpsampleRgbLinePair,Zh=P.UpsampleBgrLinePair,Bl=P.UpsampleRgbaLinePair,Oc=P.UpsampleBgraLinePair,yo=P.UpsampleArgbLinePair,ds=P.UpsampleRgba4444LinePair,vo=P.UpsampleRgb565LinePair,Sa=16,Il=1<<Sa-1,Zo=-227,bo=482,Lc=6,wo=0,yi=o(256),jc=o(256),Ad=o(256),H0=o(256),$0=o(bo-Zo),G0=o(bo-Zo);js("YuvToRgbRow",Ls,3),js("YuvToBgrRow",ti,3),js("YuvToRgbaRow",Di,4),js("YuvToBgraRow",ss,4),js("YuvToArgbRow",Nl,4),js("YuvToRgba4444Row",ho,2),js("YuvToRgb565Row",co,2);var kn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ul=[0,2,8],Ou=[8,7,6,4,4,2,2,2,1,1,1,1],Lu=1;this.WebPDecodeRGBA=function(g,x,F,V,he){var de=Si,me=new Ze,be=new Mt;me.ba=be,be.S=de,be.width=[be.width],be.height=[be.height];var _e=be.width,Ae=be.height,Oe=new gt;if(Oe==null||g==null)var Fe=2;else e(Oe!=null),Fe=Ua(g,x,F,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Fe!=0?_e=0:(_e!=null&&(_e[0]=Oe.width[0]),Ae!=null&&(Ae[0]=Oe.height[0]),_e=1),_e){be.width=be.width[0],be.height=be.height[0],V!=null&&(V[0]=be.width),he!=null&&(he[0]=be.height);e:{if(V=new Pr,(he=new it).data=g,he.w=x,he.ha=F,he.kd=1,x=[0],e(he!=null),((g=Ua(he.data,he.w,he.ha,null,null,null,x,null,he))==0||g==7)&&x[0]&&(g=4),(x=g)==0){if(e(me!=null),V.data=he.data,V.w=he.w+he.offset,V.ha=he.ha-he.offset,V.put=Tt,V.ac=Ri,V.bc=Ci,V.ma=me,he.xa){if((g=Qa())==null){me=1;break e}if((function(Se,Pe){var Ie=[0],Ye=[0],Ue=[0];t:for(;;){if(Se==null)return 0;if(Pe==null)return Se.a=2,0;if(Se.l=Pe,Se.a=0,ye(Se.m,Pe.data,Pe.w,Pe.ha),!ui(Se.m,Ie,Ye,Ue)){Se.a=3;break t}if(Se.xb=Jh,Pe.width=Ie[0],Pe.height=Ye[0],!ta(Ie[0],Ye[0],1,Se,null))break t;return 1}return e(Se.a!=0),0})(g,V)){if(V=(x=Ma(V.width,V.height,me.Oa,me.ba))==0){t:{V=g;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((F=V.l)!=null),e((he=F.ma)!=null),V.xb!=0){if(V.ca=he.ba,V.tb=he.tb,e(V.ca!=null),!Ps(he.Oa,F,ya)){V.a=2;break r}if(!ra(V,F.width)||F.da)break r;if((F.da||wt(V.ca.S))&&Ba(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Ba()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!te(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!ji(V,V.V,V.Ba,V.c,V.i,F.o,ci))break r;he.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(x=g.a)}else x=g.a}else{if((g=new dr)==null){me=1;break e}if(g.Fa=he.na,g.P=he.P,g.qc=he.Sa,Hn(g,V)){if((x=Ma(V.width,V.height,me.Oa,me.ba))==0){if(g.Aa=0,F=me.Oa,e((he=g)!=null),F!=null){if(0<(_e=0>(_e=F.Md)?0:100<_e?255:255*_e/100)){for(Ae=Oe=0;4>Ae;++Ae)12>(Fe=he.pb[Ae]).lc&&(Fe.ia=_e*Ou[0>Fe.lc?0:Fe.lc]>>3),Oe|=Fe.ia;Oe&&(alert("todo:VP8InitRandom"),he.ia=1)}he.Ga=F.Id,100<he.Ga?he.Ga=100:0>he.Ga&&(he.Ga=0)}(function(Se,Pe){if(Se==null)return 0;if(Pe==null)return ir(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!Hn(Se,Pe))return 0;if(e(Se.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(Se.L=0);var Ie=Ul[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Pe.v-Ie>>4,Se.zb=Pe.j-Ie>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Pe.o+15+Ie>>4,Se.Hb=Pe.va+15+Ie>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var Ye=Se.ed;for(Ie=0;4>Ie;++Ie){var Ue;if(Se.Qa.Cb){var Ve=Se.Qa.Lb[Ie];Se.Qa.Fb||(Ve+=Ye.Tb)}else Ve=Ye.Tb;for(Ue=0;1>=Ue;++Ue){var Qe=Se.gd[Ie][Ue],ut=Ve;if(Ye.Pc&&(ut+=Ye.vd[0],Ue&&(ut+=Ye.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var nt=ut;0<Ye.wb&&(nt=4<Ye.wb?nt>>2:nt>>1)>9-Ye.wb&&(nt=9-Ye.wb),1>nt&&(nt=1),Qe.dd=nt,Qe.tc=2*ut+nt,Qe.ld=40<=ut?2:15<=ut?1:0}else Qe.tc=0;Qe.La=Ue}}}Ie=0}else ir(Se,6,"Frame setup failed"),Ie=Se.a;if(Ie=Ie==0){if(Ie){Se.$c=0,0<Se.Aa||(Se.Ic=Lu);t:{Ie=Se.Ic,Ye=4*(nt=Se.za);var kt=32*nt,yt=nt+1,Vt=0<Se.L?nt*(0<Se.Aa?2:1):0,xt=(Se.Aa==2?2:1)*nt;if((Qe=Ye+832+(Ue=3*(16*Ie+Ul[Se.L])/2*kt)+(Ve=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=Qe)Ie=0;else{if(Qe>Se.Vb){if(Se.Vb=0,Se.Ec=o(Qe),Se.Fc=0,Se.Ec==null){Ie=ir(Se,1,"no memory during frame initialization.");break t}Se.Vb=Qe}Qe=Se.Ec,ut=Se.Fc,Se.Ac=Qe,Se.Bc=ut,ut+=Ye,Se.Gd=c(kt,Wt),Se.Hd=0,Se.rb=c(yt+1,ct),Se.sb=1,Se.wa=Vt?c(Vt,$e):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=nt),e(!0),Se.oc=Qe,Se.pc=ut,ut+=832,Se.ya=c(xt,Lt),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=nt),Se.R=16*nt,Se.B=8*nt,nt=(kt=Ul[Se.L])*Se.R,kt=kt/2*Se.B,Se.sa=Qe,Se.ta=ut+nt,Se.qa=Se.sa,Se.ra=Se.ta+16*Ie*Se.R+kt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Ie*Se.B+kt,Se.$c=0,ut+=Ue,Se.mb=Ve?Qe:null,Se.nb=Ve?ut:null,e(ut+Ve<=Se.Fc+Se.Vb),Dr(Se),s(Se.Ac,Se.Bc,0,Ye),Ie=1}}if(Ie){if(Pe.ka=0,Pe.y=Se.sa,Pe.O=Se.ta,Pe.f=Se.qa,Pe.N=Se.ra,Pe.ea=Se.Ha,Pe.Vd=Se.Ia,Pe.fa=Se.R,Pe.Rc=Se.B,Pe.F=null,Pe.J=0,!Ac){for(Ie=-255;255>=Ie;++Ie)Yo[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)Sc[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)Eu[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)ku[255+Ie]=0>Ie?0:255<Ie?255:Ie;Ac=1}la=Pa,Ms=oo,ma=Qn,Tr=lo,_r=pu,_i=xs,Yr=wc,En=Rs,fs=le,Fa=Ee,Vo=_c,Su=j,Vh=Ce,bd=De,wd=Es,_d=ks,Kh=$o,Yh=bu,vn[0]=vc,vn[1]=pc,vn[2]=yc,vn[3]=yu,vn[4]=aa,vn[5]=vu,vn[6]=hi,vn[7]=zo,vn[8]=qo,vn[9]=sa,Ii[0]=Da,Ii[1]=mu,Ii[2]=gu,Ii[3]=gc,Ii[4]=Ss,Ii[5]=Fo,Ii[6]=uo,za[0]=Sl,za[1]=mc,za[2]=ns,za[3]=bc,za[4]=ei,za[5]=Al,za[6]=is,Ie=1}else Ie=0}Ie&&(Ie=(function(fr,an){for(fr.M=0;fr.M<fr.Va;++fr.M){var Qt,vt=fr.Jc[fr.M&fr.Xb],ft=fr.m,hn=fr;for(Qt=0;Qt<hn.za;++Qt){var zt=ft,nr=hn,Br=nr.Ac,Gn=nr.Bc+4*Qt,vi=nr.zc,Xr=nr.ya[nr.aa+Qt];if(nr.Qa.Bb?Xr.$b=oe(zt,nr.Pa.jb[0])?2+oe(zt,nr.Pa.jb[2]):oe(zt,nr.Pa.jb[1]):Xr.$b=0,nr.kc&&(Xr.Ad=oe(zt,nr.Bd)),Xr.Za=!oe(zt,145)+0,Xr.Za){var Ln=Xr.Ob,Ai=0;for(nr=0;4>nr;++nr){var jn,lr=vi[0+nr];for(jn=0;4>jn;++jn){lr=mi[Br[Gn+jn]][lr];for(var Ar=Cc[oe(zt,lr[0])];0<Ar;)Ar=Cc[2*Ar+oe(zt,lr[Ar])];lr=-Ar,Br[Gn+jn]=lr}i(Ln,Ai,Br,Gn,4),Ai+=4,vi[0+nr]=lr}}else lr=oe(zt,156)?oe(zt,128)?1:3:oe(zt,163)?2:0,Xr.Ob[0]=lr,s(Br,Gn,lr,4),s(vi,0,lr,4);Xr.Dd=oe(zt,142)?oe(zt,114)?oe(zt,183)?1:3:2:0}if(hn.m.Ka)return ir(fr,7,"Premature end-of-partition0 encountered.");for(;fr.ja<fr.za;++fr.ja){if(hn=vt,zt=(ft=fr).rb[ft.sb-1],Br=ft.rb[ft.sb+ft.ja],Qt=ft.ya[ft.aa+ft.ja],Gn=ft.kc?Qt.Ad:0)zt.la=Br.la=0,Qt.Za||(zt.Na=Br.Na=0),Qt.Hc=0,Qt.Gc=0,Qt.ia=0;else{var fn,Rr;if(zt=Br,Br=hn,Gn=ft.Pa.Xc,vi=ft.ya[ft.aa+ft.ja],Xr=ft.pb[vi.$b],nr=vi.ad,Ln=0,Ai=ft.rb[ft.sb-1],lr=jn=0,s(nr,Ln,0,384),vi.Za)var Wn=0,dn=Gn[3];else{Ar=o(16);var Er=zt.Na+Ai.Na;if(Er=ca(Br,Gn[1],Er,Xr.Eb,0,Ar,0),zt.Na=Ai.Na=(0<Er)+0,1<Er)la(Ar,0,nr,Ln);else{var Nn=Ar[0]+3>>3;for(Ar=0;256>Ar;Ar+=16)nr[Ln+Ar]=Nn}Wn=1,dn=Gn[0]}var Ir=15&zt.la,Pn=15&Ai.la;for(Ar=0;4>Ar;++Ar){var Dn=1&Pn;for(Nn=Rr=0;4>Nn;++Nn)Ir=Ir>>1|(Dn=(Er=ca(Br,dn,Er=Dn+(1&Ir),Xr.Sc,Wn,nr,Ln))>Wn)<<7,Rr=Rr<<2|(3<Er?3:1<Er?2:nr[Ln+0]!=0),Ln+=16;Ir>>=4,Pn=Pn>>1|Dn<<7,jn=(jn<<8|Rr)>>>0}for(dn=Ir,Wn=Pn>>4,fn=0;4>fn;fn+=2){for(Rr=0,Ir=zt.la>>4+fn,Pn=Ai.la>>4+fn,Ar=0;2>Ar;++Ar){for(Dn=1&Pn,Nn=0;2>Nn;++Nn)Er=Dn+(1&Ir),Ir=Ir>>1|(Dn=0<(Er=ca(Br,Gn[2],Er,Xr.Qc,0,nr,Ln)))<<3,Rr=Rr<<2|(3<Er?3:1<Er?2:nr[Ln+0]!=0),Ln+=16;Ir>>=2,Pn=Pn>>1|Dn<<5}lr|=Rr<<4*fn,dn|=Ir<<4<<fn,Wn|=(240&Pn)<<fn}zt.la=dn,Ai.la=Wn,vi.Hc=jn,vi.Gc=lr,vi.ia=43690&lr?0:Xr.ia,Gn=!(jn|lr)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[Qt.$b][Qt.Za],ft.wa[ft.Y+ft.ja].La|=!Gn),hn.Ka)return ir(fr,7,"Premature end-of-file encountered.")}if(Dr(fr),ft=an,hn=1,Qt=(vt=fr).D,zt=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Qt.M=vt.M,Qt.uc=zt,oa(vt,Qt),hn=1,Qt=(Rr=vt.D).Nb,zt=(lr=Ul[vt.L])*vt.R,Br=lr/2*vt.B,Ar=16*Qt*vt.R,Nn=8*Qt*vt.B,Gn=vt.sa,vi=vt.ta-zt+Ar,Xr=vt.qa,nr=vt.ra-Br+Nn,Ln=vt.Ha,Ai=vt.Ia-Br+Nn,Pn=(Ir=Rr.M)==0,jn=Ir>=vt.Va-1,vt.Aa==2&&oa(vt,Rr),Rr.uc)for(Dn=(Er=vt).D.M,e(Er.D.uc),Rr=Er.yb;Rr<Er.Hb;++Rr){Wn=Rr,dn=Dn;var zr=(xr=(Bn=Er).D).Nb;fn=Bn.R;var xr=xr.wa[xr.Y+Wn],Ei=Bn.sa,bn=Bn.ta+16*zr*fn+16*Wn,Dt=xr.dd,Bt=xr.tc;if(Bt!=0)if(e(3<=Bt),Bn.L==1)0<Wn&&_d(Ei,bn,fn,Bt+4),xr.La&&Yh(Ei,bn,fn,Bt),0<dn&&wd(Ei,bn,fn,Bt+4),xr.La&&Kh(Ei,bn,fn,Bt);else{var kr=Bn.B,Ki=Bn.qa,Aa=Bn.ra+8*zr*kr+8*Wn,Ui=Bn.Ha,Bn=Bn.Ia+8*zr*kr+8*Wn;zr=xr.ld,0<Wn&&(En(Ei,bn,fn,Bt+4,Dt,zr),Fa(Ki,Aa,Ui,Bn,kr,Bt+4,Dt,zr)),xr.La&&(Su(Ei,bn,fn,Bt,Dt,zr),bd(Ki,Aa,Ui,Bn,kr,Bt,Dt,zr)),0<dn&&(Yr(Ei,bn,fn,Bt+4,Dt,zr),fs(Ki,Aa,Ui,Bn,kr,Bt+4,Dt,zr)),xr.La&&(Vo(Ei,bn,fn,Bt,Dt,zr),Vh(Ki,Aa,Ui,Bn,kr,Bt,Dt,zr))}}if(vt.ia&&alert("todo:DitherRow"),ft.put!=null){if(Rr=16*Ir,Ir=16*(Ir+1),Pn?(ft.y=vt.sa,ft.O=vt.ta+Ar,ft.f=vt.qa,ft.N=vt.ra+Nn,ft.ea=vt.Ha,ft.W=vt.Ia+Nn):(Rr-=lr,ft.y=Gn,ft.O=vi,ft.f=Xr,ft.N=nr,ft.ea=Ln,ft.W=Ai),jn||(Ir-=lr),Ir>ft.o&&(Ir=ft.o),ft.F=null,ft.J=null,vt.Fa!=null&&0<vt.Fa.length&&Rr<Ir&&(ft.J=Kr(vt,ft,Rr,Ir-Rr),ft.F=vt.mb,ft.F==null&&ft.F.length==0)){hn=ir(vt,3,"Could not decode alpha data.");break t}Rr<ft.j&&(lr=ft.j-Rr,Rr=ft.j,e(!(1&lr)),ft.O+=vt.R*lr,ft.N+=vt.B*(lr>>1),ft.W+=vt.B*(lr>>1),ft.F!=null&&(ft.J+=ft.width*lr)),Rr<Ir&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=Rr-ft.j,ft.U=ft.va-ft.v,ft.T=Ir-Rr,hn=ft.put(ft))}Qt+1!=vt.Ic||jn||(i(vt.sa,vt.ta-zt,Gn,vi+16*vt.R,zt),i(vt.qa,vt.ra-Br,Xr,nr+8*vt.B,Br),i(vt.Ha,vt.Ia-Br,Ln,Ai+8*vt.B,Br))}if(!hn)return ir(fr,6,"Output aborted.")}return 1})(Se,Pe)),Pe.bc!=null&&Pe.bc(Pe),Ie&=1}return Ie?(Se.cb=0,Ie):0})(g,V)||(x=g.a)}}else x=g.a}x==0&&me.Oa!=null&&me.Oa.fd&&(x=xu(me.ba))}me=x}de=me!=0?null:11>de?be.f.RGBA.eb:be.f.kb.y}else de=null;return de};var Pc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(P,fe){for(var re="",B=0;B<4;B++)re+=String.fromCharCode(P[fe++]);return re}function p(P,fe){return P[fe+0]|P[fe+1]<<8}function y(P,fe){return(P[fe+0]|P[fe+1]<<8|P[fe+2]<<16)>>>0}function b(P,fe){return(P[fe+0]|P[fe+1]<<8|P[fe+2]<<16|P[fe+3]<<24)>>>0}new h;var m=[0],A=[0],_=[],E=new h,v=r,C=(function(P,fe){var re={},B=0,J=!1,L=0,se=0;if(re.frames=[],!(function(R,G){for(var X=0;X<4;X++)if(R[G+X]!="RIFF".charCodeAt(X))return!0;return!1})(P,fe)){for(b(P,fe+=4),fe+=8;fe<P.length;){var ie=f(P,fe),Z=b(P,fe+=4);fe+=4;var pe=Z+(1&Z);switch(ie){case"VP8 ":case"VP8L":re.frames[B]===void 0&&(re.frames[B]={}),(W=re.frames[B]).src_off=J?se:fe-8,W.src_size=L+Z+8,B++,J&&(J=!1,L=0,se=0);break;case"VP8X":(W=re.header={}).feature_flags=P[fe];var ye=fe+4;W.canvas_width=1+y(P,ye),ye+=3,W.canvas_height=1+y(P,ye),ye+=3;break;case"ALPH":J=!0,L=pe+8,se=fe-8;break;case"ANIM":(W=re.header).bgcolor=b(P,fe),ye=fe+4,W.loop_count=p(P,ye),ye+=2;break;case"ANMF":var Te,W;(W=re.frames[B]={}).offset_x=2*y(P,fe),fe+=3,W.offset_y=2*y(P,fe),fe+=3,W.width=1+y(P,fe),fe+=3,W.height=1+y(P,fe),fe+=3,W.duration=y(P,fe),fe+=3,Te=P[fe++],W.dispose=1&Te,W.blend=Te>>1&1}ie!="ANMF"&&(fe+=pe)}return re}})(v,0);C.response=v,C.rgbaoutput=!0,C.dataurl=!1;var N=C.header?C.header:null,S=C.frames?C.frames:null;if(N){N.loop_counter=N.loop_count,m=[N.canvas_height],A=[N.canvas_width];for(var D=0;D<S.length&&S[D].blend!=0;D++);}var K=S[0],$=E.WebPDecodeRGBA(v,K.src_off,K.src_size,A,m);K.rgba=$,K.imgwidth=A[0],K.imgheight=m[0];for(var ee=0;ee<A[0]*m[0]*4;ee++)_[ee]=$[ee];return this.width=A,this.height=m,this.data=_,this}(function(r){var e,t,i,s,o,c,l,h,f,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new h,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new c,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new c,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,l=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var y=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=R;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(te){X=!!te}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(te){ce=!!te}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(te){isNaN(te)||(ae=te)}});var I=0;Object.defineProperty(this,"posY",{get:function(){return I},set:function(te){isNaN(te)||(I=te)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(te){var q;typeof te=="number"?q=[te,te,te,te]:((q=new Array(4))[0]=te[0],q[1]=te.length>=2?te[1]:q[0],q[2]=te.length>=3?te[2]:q[0],q[3]=te.length>=4?te[3]:q[1]),f.margin=q}});var U=!1;Object.defineProperty(this,"autoPaging",{get:function(){return U},set:function(te){U=te}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(te){ne=te}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(te){oe=te}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(te){te instanceof p&&(f=te)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(te){f.path=te}});var Q=[];Object.defineProperty(this,"ctxStack",{get:function(){return Q},set:function(te){Q=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var q;q=b(te),this.ctx.fillStyle=q.style,this.ctx.isFillTransparent=q.a===0,this.ctx.fillOpacity=q.a,this.pdf.setFillColor(q.r,q.g,q.b,{a:q.a}),this.pdf.setTextColor(q.r,q.g,q.b,{a:q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var q=b(te);this.ctx.strokeStyle=q.style,this.ctx.isStrokeTransparent=q.a===0,this.ctx.strokeOpacity=q.a,q.a===0?this.pdf.setDrawColor(255,255,255):(q.a,this.pdf.setDrawColor(q.r,q.g,q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var ue=null,ke=null,z=null;Object.defineProperty(this,"fontFaces",{get:function(){return z},set:function(te){ue=null,ke=null,z=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var q;if(this.ctx.font=te,(q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var T=q[1];q[2];var O=q[3],M=q[4];q[5];var ve=q[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(M)[2];M=Math.floor(xe==="px"?parseFloat(M)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(M)*this.pdf.getFontSize():parseFloat(M)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(M);var we=(function(mt){var Sr,bt,Je=[],lt=mt.trim();if(lt==="")return Ty;if(lt in IS)return[IS[lt]];for(;lt!=="";){switch(bt=null,Sr=(lt=MS(lt)).charAt(0)){case'"':case"'":bt=ZP(lt.substring(1),Sr);break;default:bt=QP(lt)}if(bt===null||(Je.push(bt[0]),(lt=MS(bt[1]))!==""&&lt.charAt(0)!==","))return Ty;lt=lt.replace(/^,/,"")}return Je})(ve);if(this.fontFaces){var je=(function(mt,Sr){var bt=mt.getFontList(),Je=JSON.stringify(bt);if(ue===null||ke!==Je){var lt=(function(_t){var Et=[];return Object.keys(_t).forEach(function(Jt){_t[Jt].forEach(function(wt){var Ut=null;switch(wt){case"bold":Ut={family:Jt,weight:"bold"};break;case"italic":Ut={family:Jt,style:"italic"};break;case"bolditalic":Ut={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:Jt}}Ut!==null&&(Ut.ref={name:Jt,style:wt},Et.push(Ut))})}),Et})(bt);ue=(function(_t){for(var Et={},Jt=0;Jt<_t.length;++Jt){var wt=Ny(_t[Jt]),Ut=wt.family,yr=wt.stretch,Mt=wt.style,gt=wt.weight;Et[Ut]=Et[Ut]||{},Et[Ut][yr]=Et[Ut][yr]||{},Et[Ut][yr][Mt]=Et[Ut][yr][Mt]||{},Et[Ut][yr][Mt][gt]=wt}return Et})(lt.concat(Sr)),ke=Je}return ue})(this.pdf,this.fontFaces),qe=we.map(function(mt){return{family:mt,stretch:"normal",weight:O,style:T}}),Me=(function(mt,Sr,bt){for(var Je=(bt=bt||{}).defaultFontFamily||"times",lt=Object.assign({},JP,bt.genericFontFamilies||{}),_t=null,Et=null,Jt=0;Jt<Sr.length;++Jt)if(lt[(_t=Ny(Sr[Jt])).family]&&(_t.family=lt[_t.family]),mt.hasOwnProperty(_t.family)){Et=mt[_t.family];break}if(!(Et=Et||mt[Je]))throw new Error("Could not find a font-family for the rule '"+US(_t)+"' and default family '"+Je+"'.");if(Et=(function(wt,Ut){if(Ut[wt])return Ut[wt];var yr=vv[wt],Mt=yr<=vv.normal?-1:1,gt=BS(Ut,W6,yr,Mt);if(!gt)throw new Error("Could not find a matching font-stretch value for "+wt);return gt})(_t.stretch,Et),Et=(function(wt,Ut){if(Ut[wt])return Ut[wt];for(var yr=G6[wt],Mt=0;Mt<yr.length;++Mt)if(Ut[yr[Mt]])return Ut[yr[Mt]];throw new Error("Could not find a matching font-style for "+wt)})(_t.style,Et),!(Et=(function(wt,Ut){if(Ut[wt])return Ut[wt];if(wt===400&&Ut[500])return Ut[500];if(wt===500&&Ut[400])return Ut[400];var yr=XP[wt],Mt=BS(Ut,V6,yr,wt<400?-1:1);if(!Mt)throw new Error("Could not find a matching font-weight for value "+wt);return Mt})(_t.weight,Et)))throw new Error("Failed to resolve a font for the rule '"+US(_t)+"'.");return Et})(je,qe);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Ke="";(O==="bold"||parseInt(O,10)>=700||T==="bold")&&(Ke="bold"),T==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var at="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<we.length;dt++){if(this.pdf.internal.getFont(we[dt],Ke,{noFallback:!0,disableWarning:!0})!==void 0){at=we[dt];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(we[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=we[dt],Ke="bold";else if(this.pdf.internal.getFont(we[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=we[dt],Ke="normal";break}}if(at===""){for(var Rt=0;Rt<we.length;Rt++)if(ht[we[Rt]]){at=ht[we[Rt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};y.prototype.setLineDash=function(R){this.lineDash=R},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){S.call(this,"fill",!1)},y.prototype.stroke=function(){S.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(R,G){if(isNaN(R)||isNaN(G))throw on.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new c(R,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new c(R,G)},y.prototype.closePath=function(){var R=new c(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&$r(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){R=new c(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(R.x,R.y)},y.prototype.lineTo=function(R,G){if(isNaN(R)||isNaN(G))throw on.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new c(R,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new c(X.x,X.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},y.prototype.quadraticCurveTo=function(R,G,X,ce){if(isNaN(X)||isNaN(ce)||isNaN(R)||isNaN(G))throw on.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new c(X,ce)),I=this.ctx.transform.applyToPoint(new c(R,G));this.path.push({type:"qct",x1:I.x,y1:I.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},y.prototype.bezierCurveTo=function(R,G,X,ce,ae,I){if(isNaN(ae)||isNaN(I)||isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce))throw on.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var U=this.ctx.transform.applyToPoint(new c(ae,I)),ne=this.ctx.transform.applyToPoint(new c(R,G)),oe=this.ctx.transform.applyToPoint(new c(X,ce));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:oe.x,y2:oe.y,x:U.x,y:U.y}),this.ctx.lastPoint=new c(U.x,U.y)},y.prototype.arc=function(R,G,X,ce,ae,I){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(ae))throw on.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(I=!!I,!this.ctx.transform.isIdentity){var U=this.ctx.transform.applyToPoint(new c(R,G));R=U.x,G=U.y;var ne=this.ctx.transform.applyToPoint(new c(0,X)),oe=this.ctx.transform.applyToPoint(new c(0,0));X=Math.sqrt(Math.pow(ne.x-oe.x,2)+Math.pow(ne.y-oe.y,2))}Math.abs(ae-ce)>=2*Math.PI&&(ce=0,ae=2*Math.PI),this.path.push({type:"arc",x:R,y:G,radius:X,startAngle:ce,endAngle:ae,counterclockwise:I})},y.prototype.arcTo=function(R,G,X,ce,ae){throw new Error("arcTo not implemented.")},y.prototype.rect=function(R,G,X,ce){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce))throw on.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,G),this.lineTo(R+X,G),this.lineTo(R+X,G+ce),this.lineTo(R,G+ce),this.lineTo(R,G),this.lineTo(R+X,G),this.lineTo(R,G)},y.prototype.fillRect=function(R,G,X,ce){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce))throw on.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,G,X,ce),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},y.prototype.strokeRect=function(R,G,X,ce){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce))throw on.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(R,G,X,ce),this.stroke())},y.prototype.clearRect=function(R,G,X,ce){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce))throw on.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,G,X,ce))},y.prototype.save=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},y.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(R){var G,X,ce,ae;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))G=0,X=0,ce=0,ae=0;else{var I=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(I!==null)G=parseInt(I[1]),X=parseInt(I[2]),ce=parseInt(I[3]),ae=1;else if((I=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)G=parseInt(I[1]),X=parseInt(I[2]),ce=parseInt(I[3]),ae=parseFloat(I[4]);else{if(ae=1,typeof R=="string"&&R.charAt(0)!=="#"){var U=new U6(R);R=U.ok?U.toHex():"#000000"}R.length===4?(G=R.substring(1,2),G+=G,X=R.substring(2,3),X+=X,ce=R.substring(3,4),ce+=ce):(G=R.substring(1,3),X=R.substring(3,5),ce=R.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),ce=parseInt(ce,16)}}return{r:G,g:X,b:ce,a:ae,style:R}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(R,G,X,ce){if(isNaN(G)||isNaN(X)||typeof R!="string")throw on.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!m.call(this)){var ae=pe(this.ctx.transform.rotation),I=this.ctx.transform.scaleX;B.call(this,{text:R,x:G,y:X,scale:I,angle:ae,align:this.textAlign,maxWidth:ce})}},y.prototype.strokeText=function(R,G,X,ce){if(isNaN(G)||isNaN(X)||typeof R!="string")throw on.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ce=isNaN(ce)?void 0:ce;var ae=pe(this.ctx.transform.rotation),I=this.ctx.transform.scaleX;B.call(this,{text:R,x:G,y:X,scale:I,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ce})}},y.prototype.measureText=function(R){if(typeof R!="string")throw on.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,ce=G.internal.getFontSize(),ae=G.getStringUnitWidth(R)*ce/G.internal.scaleFactor;return new function(I){var U=(I=I||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return U}}),this}({width:ae*=Math.round(96*X/72*1e4)/1e4})},y.prototype.scale=function(R,G){if(isNaN(R)||isNaN(G))throw on.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new h(R,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.rotate=function(R){if(isNaN(R))throw on.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new h(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.translate=function(R,G){if(isNaN(R)||isNaN(G))throw on.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new h(1,0,0,1,R,G);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.transform=function(R,G,X,ce,ae,I){if(isNaN(R)||isNaN(G)||isNaN(X)||isNaN(ce)||isNaN(ae)||isNaN(I))throw on.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var U=new h(R,G,X,ce,ae,I);this.ctx.transform=this.ctx.transform.multiply(U)},y.prototype.setTransform=function(R,G,X,ce,ae,I){R=isNaN(R)?1:R,G=isNaN(G)?0:G,X=isNaN(X)?0:X,ce=isNaN(ce)?1:ce,ae=isNaN(ae)?0:ae,I=isNaN(I)?0:I,this.ctx.transform=new h(R,G,X,ce,ae,I)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(R,G,X,ce,ae,I,U,ne,oe){var Q=this.pdf.getImageProperties(R),ue=1,ke=1,z=1,te=1;ce!==void 0&&ne!==void 0&&(z=ne/ce,te=oe/ae,ue=Q.width/ce*ne/ce,ke=Q.height/ae*oe/ae),I===void 0&&(I=G,U=X,G=0,X=0),ce!==void 0&&ne===void 0&&(ne=ce,oe=ae),ce===void 0&&ne===void 0&&(ne=Q.width,oe=Q.height);var q=this.ctx.transform.decompose(),T=pe(q.rotate.shx),O=new h,M=(O=(O=(O=O.multiply(q.translate)).multiply(q.skew)).multiply(q.scale)).applyToRectangle(new l(I-G*z,U-X*te,ce*ue,ae*ke));if(this.autoPaging){for(var ve,xe=E.call(this,M),we=[],je=0;je<xe.length;je+=1)we.indexOf(xe[je])===-1&&we.push(xe[je]);N(we);for(var qe=we[0],Me=we[we.length-1],Ke=qe;Ke<Me+1;Ke++){this.pdf.setPage(Ke);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=Ke===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ke===1?0:dt+(Ke-2)*Rt;if(this.ctx.clip_path.length!==0){var Sr=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ve,this.posX+this.margin[3],-mt+ht+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Sr}var bt=JSON.parse(JSON.stringify(M));bt=C([bt],this.posX+this.margin[3],-mt+ht+this.ctx.prevPageLastElemOffset)[0];var Je=(Ke>qe||Ke<Me)&&_.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Rt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,T),Je&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",M.x,M.y,M.w,M.h,null,null,T)};var E=function(R,G,X){var ce=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ce.push(Math.floor((R.y+ae)/X)+1);break;case"arc":ce.push(Math.floor((R.y+ae-R.radius)/X)+1),ce.push(Math.floor((R.y+ae+R.radius)/X)+1);break;case"qct":var I=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ce.push(Math.floor((I.y+ae)/X)+1),ce.push(Math.floor((I.y+I.h+ae)/X)+1);break;case"bct":var U=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ce.push(Math.floor((U.y+ae)/X)+1),ce.push(Math.floor((U.y+U.h+ae)/X)+1);break;case"rect":ce.push(Math.floor((R.y+ae)/X)+1),ce.push(Math.floor((R.y+R.h+ae)/X)+1)}for(var ne=0;ne<ce.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ce[ne];)v.call(this);return ce},v=function(){var R=this.fillStyle,G=this.strokeStyle,X=this.font,ce=this.lineCap,ae=this.lineWidth,I=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=G,this.font=X,this.lineCap=ce,this.lineWidth=ae,this.lineJoin=I},C=function(R,G,X){for(var ce=0;ce<R.length;ce++)switch(R[ce].type){case"bct":R[ce].x2+=G,R[ce].y2+=X;case"qct":R[ce].x1+=G,R[ce].y1+=X;default:R[ce].x+=G,R[ce].y+=X}return R},N=function(R){return R.sort(function(G,X){return G-X})},S=function(R,G){var X=this.fillStyle,ce=this.strokeStyle,ae=this.lineCap,I=this.lineWidth,U=Math.abs(I*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var oe,Q,ue=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),z=[],te=0;te<ke.length;te++)if(ke[te].x!==void 0)for(var q=E.call(this,ke[te]),T=0;T<q.length;T+=1)z.indexOf(q[T])===-1&&z.push(q[T]);for(var O=0;O<z.length;O++)for(;this.pdf.internal.getNumberOfPages()<z[O];)v.call(this);N(z);for(var M=z[0],ve=z[z.length-1],xe=M;xe<ve+1;xe++){this.pdf.setPage(xe),this.fillStyle=X,this.strokeStyle=ce,this.lineCap=ae,this.lineWidth=U,this.lineJoin=ne;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=xe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=xe===1?0:qe+(xe-2)*Me;if(this.ctx.clip_path.length!==0){var at=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(oe,this.posX+this.margin[3],-Ke+je+this.ctx.prevPageLastElemOffset),D.call(this,R,!0),this.path=at}if(Q=JSON.parse(JSON.stringify(ue)),this.path=C(Q,this.posX+this.margin[3],-Ke+je+this.ctx.prevPageLastElemOffset),G===!1||xe===0){var ht=(xe>M||xe<ve)&&_.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Me,null).clip().discardPath()),D.call(this,R,G),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=I}this.path=ue}else this.lineWidth=U,D.call(this,R,G),this.lineWidth=I},D=function(R,G){if((R!=="stroke"||G||!A.call(this))&&(R==="stroke"||G||!m.call(this))){for(var X,ce,ae=[],I=this.path,U=0;U<I.length;U++){var ne=I[U];switch(ne.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ne,deltas:[],abs:[]});break;case"lt":var oe=ae.length;if(I[U-1]&&!isNaN(I[U-1].x)&&(X=[ne.x-I[U-1].x,ne.y-I[U-1].y],oe>0)){for(;oe>=0;oe--)if(ae[oe-1].close!==!0&&ae[oe-1].begin!==!0){ae[oe-1].deltas.push(X),ae[oe-1].abs.push(ne);break}}break;case"bct":X=[ne.x1-I[U-1].x,ne.y1-I[U-1].y,ne.x2-I[U-1].x,ne.y2-I[U-1].y,ne.x-I[U-1].x,ne.y-I[U-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var Q=I[U-1].x+2/3*(ne.x1-I[U-1].x),ue=I[U-1].y+2/3*(ne.y1-I[U-1].y),ke=ne.x+2/3*(ne.x1-ne.x),z=ne.y+2/3*(ne.y1-ne.y),te=ne.x,q=ne.y;X=[Q-I[U-1].x,ue-I[U-1].y,ke-I[U-1].x,z-I[U-1].y,te-I[U-1].x,q-I[U-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ne)}}ce=G?null:R==="stroke"?"stroke":"fill";for(var T=!1,O=0;O<ae.length;O++)if(ae[O].arc)for(var M=ae[O].abs,ve=0;ve<M.length;ve++){var xe=M[ve];xe.type==="arc"?ee.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,G,!T):J.call(this,xe.x,xe.y),T=!0}else if(ae[O].close===!0)this.pdf.internal.out("h"),T=!1;else if(ae[O].begin!==!0){var we=ae[O].start.x,je=ae[O].start.y;L.call(this,ae[O].deltas,we,je),T=!0}ce&&P.call(this,ce),G&&fe.call(this)}},K=function(R){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-X;case"top":return R+G-X;case"hanging":return R+G-2*X;case"middle":return R+G/2-X;default:return R}},$=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(G,X){this.colorStops.push([G,X])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(R,G,X,ce,ae,I,U,ne,oe){for(var Q=ie.call(this,X,ce,ae,I),ue=0;ue<Q.length;ue++){var ke=Q[ue];ue===0&&(oe?re.call(this,ke.x1+R,ke.y1+G):J.call(this,ke.x1+R,ke.y1+G)),se.call(this,R,G,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ne?fe.call(this):P.call(this,U)},P=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},fe=function(){this.pdf.clip(),this.pdf.discardPath()},re=function(R,G){this.pdf.internal.out(t(R)+" "+i(G)+" m")},B=function(R){var G;switch(R.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X,ce,ae,I=this.pdf.getTextDimensions(R.text),U=K.call(this,R.y),ne=$.call(this,U)-I.h,oe=this.ctx.transform.applyToPoint(new c(R.x,U));if(this.autoPaging){var Q=this.ctx.transform.decompose(),ue=new h;ue=(ue=(ue=ue.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var ke=this.ctx.transform.applyToRectangle(new l(R.x,U,I.w,I.h)),z=ue.applyToRectangle(new l(R.x,ne,I.w,I.h)),te=E.call(this,z),q=[],T=0;T<te.length;T+=1)q.indexOf(te[T])===-1&&q.push(te[T]);N(q);for(var O=q[0],M=q[q.length-1],ve=O;ve<M+1;ve++){this.pdf.setPage(ve);var xe=ve===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],qe=je-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],Ke=Me-this.margin[3],at=ve===1?0:we+(ve-2)*qe;if(this.ctx.clip_path.length!==0){var ht=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(X,this.posX+this.margin[3],-1*at+xe),D.call(this,"fill",!0),this.path=ht}var dt=C([JSON.parse(JSON.stringify(z))],this.posX+this.margin[3],-at+xe+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale);var Rt=this.autoPaging!=="text";if(Rt||dt.y+dt.h<=je){if(Rt||dt.y>=xe&&dt.x<=Me){var mt=Rt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Me-dt.x)[0],Sr=C([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-at+xe+this.ctx.prevPageLastElemOffset)[0],bt=Rt&&(ve>O||ve<M)&&_.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,qe,null).clip().discardPath()),this.pdf.text(mt,Sr.x,Sr.y,{angle:R.angle,align:G,renderingMode:R.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else dt.y<je&&(this.ctx.prevPageLastElemOffset+=je-dt.y);R.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ae)}}else R.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*R.scale),ae=this.lineWidth,this.lineWidth=ae*R.scale),this.pdf.text(R.text,oe.x+this.posX,oe.y+this.posY,{angle:R.angle,align:G,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ae)},J=function(R,G,X,ce){X=X||0,ce=ce||0,this.pdf.internal.out(t(R+X)+" "+i(G+ce)+" l")},L=function(R,G,X){return this.pdf.lines(R,G,X,null,null)},se=function(R,G,X,ce,ae,I,U,ne){this.pdf.internal.out([e(s(X+R)),e(o(ce+G)),e(s(ae+R)),e(o(I+G)),e(s(U+R)),e(o(ne+G)),"c"].join(" "))},ie=function(R,G,X,ce){for(var ae=2*Math.PI,I=Math.PI/2;G>X;)G-=ae;var U=Math.abs(X-G);U<ae&&ce&&(U=ae-U);for(var ne=[],oe=ce?-1:1,Q=G;U>1e-5;){var ue=Q+oe*Math.min(U,I);ne.push(Z.call(this,R,Q,ue)),U-=Math.abs(ue-Q),Q=ue}return ne},Z=function(R,G,X){var ce=(X-G)/2,ae=R*Math.cos(ce),I=R*Math.sin(ce),U=ae,ne=-I,oe=U*U+ne*ne,Q=oe+U*ae+ne*I,ue=4/3*(Math.sqrt(2*oe*Q)-Q)/(U*I-ne*ae),ke=U-ue*ne,z=ne+ue*U,te=ke,q=-z,T=ce+G,O=Math.cos(T),M=Math.sin(T);return{x1:R*Math.cos(G),y1:R*Math.sin(G),x2:ke*O-z*M,y2:ke*M+z*O,x3:te*O-q*M,y3:te*M+q*O,x4:R*Math.cos(X),y4:R*Math.sin(X)}},pe=function(R){return 180*R/Math.PI},ye=function(R,G,X,ce,ae,I){var U=R+.5*(X-R),ne=G+.5*(ce-G),oe=ae+.5*(X-ae),Q=I+.5*(ce-I),ue=Math.min(R,ae,U,oe),ke=Math.max(R,ae,U,oe),z=Math.min(G,I,ne,Q),te=Math.max(G,I,ne,Q);return new l(ue,z,ke-ue,te-z)},Te=function(R,G,X,ce,ae,I,U,ne){var oe,Q,ue,ke,z,te,q,T,O,M,ve,xe,we,je,qe=X-R,Me=ce-G,Ke=ae-X,at=I-ce,ht=U-ae,dt=ne-I;for(Q=0;Q<41;Q++)O=(q=(ue=R+(oe=Q/40)*qe)+oe*((z=X+oe*Ke)-ue))+oe*(z+oe*(ae+oe*ht-z)-q),M=(T=(ke=G+oe*Me)+oe*((te=ce+oe*at)-ke))+oe*(te+oe*(I+oe*dt-te)-T),Q==0?(ve=O,xe=M,we=O,je=M):(ve=Math.min(ve,O),xe=Math.min(xe,M),we=Math.max(we,O),je=Math.max(je,M));return new l(Math.round(ve),Math.round(xe),Math.round(we-ve),Math.round(je-xe))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,G,X=(R=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Pt.API),(function(r){var e=function(c){var l,h,f,p,y,b,m,A,_,E;for(h=[],f=0,p=(c+=l="\0\0\0\0".slice(c.length%4||4)).length;p>f;f+=4)(y=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(b=(y=((y=((y=((y=(y-(E=y%85))/85)-(_=y%85))/85)-(A=y%85))/85)-(m=y%85))/85)%85,h.push(b+33,m+33,A+33,_+33,E+33)):h.push(122);return(function(v,C){for(var N=C;N>0;N--)v.pop()})(h,l.length),String.fromCharCode.apply(String,h)+"~>"},t=function(c){var l,h,f,p,y,b=String,m="length",A=255,_="charCodeAt",E="slice",v="replace";for(c[E](-2),c=c[E](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),f=[],p=0,y=(c+=l="uuuuu"[E](c[m]%5||5))[m];y>p;p+=5)h=52200625*(c[_](p)-33)+614125*(c[_](p+1)-33)+7225*(c[_](p+2)-33)+85*(c[_](p+3)-33)+(c[_](p+4)-33),f.push(A&h>>24,A&h>>16,A&h>>8,A&h);return(function(C,N){for(var S=N;S>0;S--)C.pop()})(f,l[m]),b.fromCharCode.apply(b,f)},i=function(c){return c.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),l.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var l=new Uint8Array(c.length),h=c.length;h--;)l[h]=c.charCodeAt(h);return(l=hv(l)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};r.processDataByFilters=function(c,l){var h=0,f=c||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),h=0;h<l.length;h+=1)switch(l[h]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=i(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(Pt.API),(function(r){r.loadFile=function(e,t,i){return(function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var l=void 0;try{l=(function(h,f,p){var y=new XMLHttpRequest,b=0,m=function(A){var _=A.length,E=[],v=String.fromCharCode;for(b=0;b<_;b+=1)E.push(v(255&A.charCodeAt(b)));return E.join("")};if(y.open("GET",h,!f),y.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(y.onload=function(){y.status===200?p(m(this.responseText)):p(void 0)}),y.send(null),f&&y.status===200)return m(y.responseText)})(s,o,c)}catch{}return l})(e,t,i)},r.loadImageFile=r.loadFile})(Pt.API),(function(r){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):uy(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):uy(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var i=function(l){var h=$r(l);return h==="undefined"?"undefined":h==="string"||l instanceof String?"string":h==="number"||l instanceof Number?"number":h==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":h==="object"?"object":"unknown"},s=function(l,h){var f=document.createElement(l);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},o=function l(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(l(y,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},c=function l(h){var f=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),f);return(p=p.setProgress(1,l,1,[l])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(l,h){return l.__proto__=h||c.prototype,l},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(l,h){return this.then(function(){switch(h=h||(function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),h){case"string":return this.then(t).then(function(f){return this.set({src:s("div",{innerHTML:l,dompurify:f})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},c.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var m=0;m<p.length;++m){var A=p[m],_=A.src.find(function(E){return E.format==="truetype"});_&&f.addFont(_.url,A.ref.name,A.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,f.context2d.save(!0),h(this.prop.container,b)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(l,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(l,h):this.outputPdf(l,h)},c.prototype.outputPdf=function(l,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,h)})},c.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},c.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(l){if(i(l)!=="object")return this;var h=Object.keys(l||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=l[f]};switch(f){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[f]=l[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(l,h){return this.then(function(){var f=l in c.template.prop?this.prop[l]:this.opt[l];return h?h(f):f})},c.prototype.setMargin=function(l){return this.then(function(){switch(i(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},c.prototype.setPageSize=function(l){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(l=l||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:h(l.inner.width,l.k),height:h(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},c.prototype.setProgress=function(l,h,f,p){return l!=null&&(this.progress.val=l),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(l,h,f,p){return this.setProgress(l?this.progress.val+l:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(l,h){var f=this;return this.thenCore(l,h,function(p,y){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return f.updateProgress(null,p),b}).then(p,y).then(function(b){return f.updateProgress(1),b})})},c.prototype.thenCore=function(l,h,f){f=f||Promise.prototype.then;var p=this;l&&(l=l.bind(p)),h&&(h=h.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),b=f.call(y,l,h);return c.convert(b,p.__proto__)},c.prototype.thenExternal=function(l,h){return Promise.prototype.then.call(this,l,h)},c.prototype.thenList=function(l){var h=this;return l.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(l){l&&(l=l.bind(this));var h=Promise.prototype.catch.call(this,l);return c.convert(h,this)},c.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},c.prototype.error=function(l){return this.then(function(){throw new Error(l)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Pt.getPageSize=function(l,h,f){if($r(l)==="object"){var p=l;l=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",l=(""+(l||"P")).toLowerCase();var y,b=(""+f).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+h}var A,_=0,E=0;if(m.hasOwnProperty(b))_=m[b][1]/y,E=m[b][0]/y;else try{_=f[1],E=f[0]}catch{throw new Error("Invalid format: "+f)}if(l==="p"||l==="portrait")l="p",E>_&&(A=E,E=_,_=A);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>E&&(A=E,E=_,_=A)}return{width:E,height:_,unit:h,k:y,orientation:l}},r.html=function(l,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Ny):null;var f=new c(h);return h.worker?f:f.from(l).doCallback()}})(Pt.API),Pt.API.addJS=function(r){return zS=r,this.internal.events.subscribe("postPutResources",function(){Up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Up!==void 0&&FS!==void 0&&this.internal.out("/Names <</JavaScript "+Up+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],l=i.exec(c);if(l!=null){var h=l[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(o=0;o<f;o++){var y=t.internal.newObject();p.push(y);var b=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,o){var c={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var l=this.count=this.count_r({count:0},c);if(l>0&&this.line("/Count "+l),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])})(Pt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,s,o,c,l){var h,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,h=(function(y){for(var b,m=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,_={width:0,height:0,numcomponents:1},E=4;E<A;E+=2){if(E+=m,e.indexOf(y.charCodeAt(E+1))!==-1){b=256*y.charCodeAt(E+5)+y.charCodeAt(E+6),_={width:256*y.charCodeAt(E+7)+y.charCodeAt(E+8),height:b,numcomponents:y.charCodeAt(E+9)};break}m=256*y.charCodeAt(E+2)+y.charCodeAt(E+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),h.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:t,width:h.width,height:h.height,colorSpace:l,bitsPerComponent:8,filter:f,index:i,alias:s}}return p}})(Pt.API),Pt.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,o=BP(r,{checkCrc:!0}),c=o.width,l=o.height,h=o.channels,f=o.palette,p=o.depth;s=f&&h===1?(function(ee){for(var P=ee.width,fe=ee.height,re=ee.data,B=ee.palette,J=ee.depth,L=!1,se=[],ie=[],Z=void 0,pe=!1,ye=0,Te=0;Te<B.length;Te++){var W=Gx(B[Te],4),R=W[0],G=W[1],X=W[2],ce=W[3];se.push(R,G,X),ce!=null&&(ce===0?(ye++,ie.length<1&&ie.push(Te)):ce<255&&(pe=!0))}if(pe||ye>1){L=!0,ie=void 0;var ae=P*fe;Z=new Uint8Array(ae);for(var I=new DataView(re.buffer),U=0;U<ae;U++){var ne=Ry(I,U,J),oe=Gx(B[ne],4)[3];Z[U]=oe}}else ye===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:L?8:void 0,colorBytes:re,alphaBytes:Z,needSMask:L,palette:se,mask:ie}})(o):h===2||h===4?(function(ee){for(var P=ee.data,fe=ee.width,re=ee.height,B=ee.channels,J=ee.depth,L=B===2?"DeviceGray":"DeviceRGB",se=B-1,ie=fe*re,Z=se,pe=ie*Z,ye=1*ie,Te=Math.ceil(pe*J/8),W=Math.ceil(ye*J/8),R=new Uint8Array(Te),G=new Uint8Array(W),X=new DataView(P.buffer),ce=new DataView(R.buffer),ae=new DataView(G.buffer),I=!1,U=0;U<ie;U++){for(var ne=U*B,oe=0;oe<Z;oe++)XS(ce,Ry(X,ne+oe,J),U*Z+oe,J);var Q=Ry(X,ne+Z,J);Q<(1<<J)-1&&(I=!0),XS(ae,Q,1*U,J)}return{colorSpace:L,colorsPerPixel:se,sMaskBitsPerComponent:I?J:void 0,colorBytes:R,alphaBytes:G,needSMask:I}})(o):(function(ee){var P=ee.data,fe=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:fe,colorsPerPixel:fe==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(re){for(var B=re.length,J=new Uint8Array(2*B),L=new DataView(J.buffer,J.byteOffset,J.byteLength),se=0;se<B;se++)L.setUint16(2*se,re[se],!1);return J})(P):P,needSMask:!1}})(o);var y,b,m,A=s,_=A.colorSpace,E=A.colorsPerPixel,v=A.sMaskBitsPerComponent,C=A.colorBytes,N=A.alphaBytes,S=A.needSMask,D=A.palette,K=A.mask,$=null;return i!==Pt.API.image_compression.NONE&&typeof hv=="function"?($=(function(ee){var P;switch(ee){case Pt.API.image_compression.FAST:P=11;break;case Pt.API.image_compression.MEDIUM:P=13;break;case Pt.API.image_compression.SLOW:P=14;break;default:P=12}return P})(i),y=this.decode.FLATE_DECODE,b="/Predictor ".concat($," /Colors ").concat(E," /BitsPerComponent ").concat(p," /Columns ").concat(c),r=GS(C,Math.ceil(c*E*p/8),E,p,i),S&&(m=GS(N,Math.ceil(c*v/8),1,v,i))):(y=void 0,b=void 0,r=C,S&&(m=N)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:t,data:r,index:e,filter:y,decodeParameters:b,transparency:K,palette:D,sMask:m,predictor:$,width:c,height:l,bitsPerComponent:p,sMaskBitsPerComponent:v,colorSpace:_}}},(function(r){r.processGIF89A=function(e,t,i,s){var o=new nD(e),c=o.width,l=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:l},p=new Cy(100).encode(f,100);return r.processJPEG.call(this,p,t,i,s)},r.processGIF87A=r.processGIF89A})(Pt.API),Ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ys.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){on.log("bit decode error:"+t)}},Ys.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var h=this.palette[o>>7-l&1];this.data[c+4*l]=h.blue,this.data[c+4*l+1]=h.green,this.data[c+4*l+2]=h.red,this.data[c+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Ys.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*s*4,l=o>>4,h=15&o,f=this.palette[l];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*s+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Ys.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Ys.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=c,this.data[p+3]=f}this.pos+=r}},Ys.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(c&e)/e*255|0,h=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,p=s*this.width*4+4*o;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=l,this.data[p+3]=255}this.pos+=r}},Ys.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},Ys.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=i,this.data[l+3]=c}},Ys.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,s){var o=new Ys(e,!1),c=o.width,l=o.height,h={data:o.getData(),width:c,height:l},f=new Cy(100).encode(h,100);return r.processJPEG.call(this,f,t,i,s)}})(Pt.API),ZS.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,s){var o=new ZS(e),c=o.width,l=o.height,h={data:o.getData(),width:c,height:l},f=new Cy(100).encode(h,100);return r.processJPEG.call(this,f,t,i,s)}})(Pt.API),Pt.API.processRGBA=function(r,e,t){for(var i=r.data,s=i.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),l=0,h=0,f=0;f<s;f+=4){var p=i[f],y=i[f+1],b=i[f+2],m=i[f+3];o[l++]=p,o[l++]=y,o[l++]=b,c[h++]=m}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Pt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dh=Pt.API,Mp=dh.getCharWidthsArray=function(r,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,h=l.fof?l.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=f.fof?f.fof:1,y=e.doKerning!==!1,b=0,m=r.length,A=0,_=l[0]||h,E=[];for(t=0;t<m;t++)i=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?E.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(b=y&&$r(f[i])==="object"&&!isNaN(parseInt(f[i][A],10))?f[i][A]/p:0,E.push((l[i]||_)/h+b)),A=i;return E},qS=dh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return dh.processArabic&&(r=dh.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,s)/t:Mp.apply(this,arguments).reduce(function(o,c){return o+c},0)},HS=function(r,e,t,i){for(var s=[],o=0,c=r.length,l=0;o!==c&&l+e[o]<t;)l+=e[o],o++;s.push(r.slice(0,o));var h=o;for(l=0;o!==c;)l+e[o]>i&&(s.push(r.slice(h,o)),l=0,h=o),l+=e[o],o++;return h!==o&&s.push(r.slice(h,o)),s},$S=function(r,e,t){t||(t={});var i,s,o,c,l,h,f,p=[],y=[p],b=t.textIndent||0,m=0,A=0,_=r.split(" "),E=Mp.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var v=Array(h).join(" "),C=[];_.map(function(S){(S=S.split(/\s*\n/)).length>1?C=C.concat(S.map(function(D,K){return(K&&D.length?`
`:"")+D})):C.push(S[0])}),_=C,h=qS.apply(this,[v,t])}for(o=0,c=_.length;o<c;o++){var N=0;if(i=_[o],h&&i[0]==`
`&&(i=i.substr(1),N=1),b+m+(A=(s=Mp.apply(this,[i,t])).reduce(function(S,D){return S+D},0))>e||N){if(A>e){for(l=HS.apply(this,[i,s,e-(b+m),e]),p.push(l.shift()),p=[l.pop()];l.length;)y.push([l.shift()]);A=s.slice(i.length-(p[0]?p[0].length:0)).reduce(function(S,D){return S+D},0)}else p=[i];y.push(p),b=A+h,m=E}else p.push(i),b+=m+A,m=E}return f=h?function(S,D){return(D?v:"")+S.join(" ")}:function(S){return S.join(" ")},y.map(f)},dh.splitTextToSize=function(r,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return y.metadata[b]?{widths:y.metadata[b].widths||{0:1},kerning:y.metadata[b].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var l,h,f=[];for(l=0,h=i.length;l<h;l++)f=f.concat($S.apply(this,[i[l],c,o]));return f},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},s={},o=0;o<16;o++)i[t[o]]=e[o],s[e[o]]=t[o];var c=function(b){return"0x"+parseInt(b,10).toString(16)},l=r.__fontmetrics__.compress=function(b){var m,A,_,E,v=["{"];for(var C in b){if(m=b[C],isNaN(parseInt(C,10))?A="'"+C+"'":(C=parseInt(C,10),A=(A=c(C).slice(2)).slice(0,-1)+s[A.slice(-1)]),typeof m=="number")m<0?(_=c(m).slice(3),E="-"):(_=c(m).slice(2),E=""),_=E+_.slice(0,-1)+s[_.slice(-1)];else{if($r(m)!=="object")throw new Error("Don't know what to do with value type "+$r(m)+".");_=l(m)}v.push(A+_)}return v.push("}"),v.join("")},h=r.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,A,_,E,v={},C=1,N=v,S=[],D="",K="",$=b.length-1,ee=1;ee<$;ee+=1)(E=b[ee])=="'"?m?(_=m.join(""),m=void 0):m=[]:m?m.push(E):E=="{"?(S.push([N,_]),N={},_=void 0):E=="}"?((A=S.pop())[0][A[1]]=N,_=void 0,N=A[0]):E=="-"?C=-1:_===void 0?i.hasOwnProperty(E)?(D+=i[E],_=parseInt(D,16)*C,C=1,D=""):D+=E:i.hasOwnProperty(E)?(K+=i[E],N[_]=parseInt(K,16)*C,C=1,_=void 0,K=""):K+=E;return v},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},y={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(b){var m=b.font,A=y.Unicode[m.postScriptName];A&&(m.metadata.Unicode={},m.metadata.Unicode.widths=A.widths,m.metadata.Unicode.kerning=A.kerning);var _=p.Unicode[m.postScriptName];_&&(m.metadata.Unicode.encoding=_,m.encoding=_.codePages[0])}])})(Pt.API),(function(r){var e=function(t){for(var i=t.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=t.charCodeAt(o);return s};r.API.events.push(["addFont",function(t){var i=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Kp(l)),c.metadata=r.API.TTFFont.open(l),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,i)}}])})(Pt),Pt.API.addSvgAsImage=function(r,e,t,i,s,o,c,l){if(isNaN(e)||isNaN(t))throw on.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw on.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=s;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Kt.canvg?Promise.resolve(Kt.canvg):uy(()=>import("./index.es-B9BNty8x.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){y.addImage(h.toDataURL("image/jpeg",1),e,t,i,s,c,l)})},Pt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},Pt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(c),h=[],f=0,p=0,y=0;function b(A,_){var E,v=!1;for(E=0;E<A.length;E+=1)A[E]===_&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var m=l.length;for(y=0;y<m;y+=1)t[l[y]].value=t[l[y]].defaultValue,t[l[y]].explicitSet=!1}if($r(r)==="object"){for(s in r)if(o=r[s],b(l,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&b(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(f=0;f<o.length;f+=1)if(i=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(p=0;p<o[f].length;p+=1)typeof o[f][p]!="number"&&(i=!1);i===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}t[s].value="["+h.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,_=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?_.push("/"+A+" /"+t[A].value):_.push("/"+A+" "+t[A].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+l.length+s.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+o+c+l+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Pt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,c){for(var l,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],y=0,b=o.length;y<b;++y){if(l=c.metadata.characterToGlyph(o.charCodeAt(y)),c.metadata.glyIdsUsed.push(l),c.metadata.toUnicode[l]=o.charCodeAt(y),h.indexOf(l)==-1&&(h.push(l),h.push([parseInt(c.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},i=function(o){var c,l,h,f,p,y,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,b=(l=Object.keys(o).sort(function(m,A){return m-A})).length;y<b;y++)c=l[y],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var l=c.font,h=c.out,f=c.newObject,p=c.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var y=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",A=0;A<b.length;A++)m+=String.fromCharCode(b[A]);var _=f();p({data:m,addLength1:!0,objectId:_}),h("endobj");var E=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var v=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+bh(l.fontName)),h("/FontFile2 "+_+" 0 R"),h("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),h("/Flags "+l.metadata.flags),h("/StemV "+l.metadata.stemV),h("/ItalicAngle "+l.metadata.italicAngle),h("/Ascent "+l.metadata.ascender),h("/Descent "+l.metadata.decender),h("/CapHeight "+l.metadata.capHeight),h(">>"),h("endobj");var C=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+bh(l.fontName)),h("/FontDescriptor "+v+" 0 R"),h("/W "+r.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+l.encoding+")"),h(">>"),h(">>"),h("endobj"),l.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+E+" 0 R"),h("/BaseFont /"+bh(l.fontName)),h("/Encoding /"+l.encoding),h("/DescendantFonts ["+C+" 0 R]"),h(">>"),h("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var l=c.font,h=c.out,f=c.newObject,p=c.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var y=l.metadata.rawData,b="",m=0;m<y.length;m++)b+=String.fromCharCode(y[m]);var A=f();p({data:b,addLength1:!0,objectId:A}),h("endobj");var _=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:_}),h("endobj");var E=f();h("<<"),h("/Descent "+l.metadata.decender),h("/CapHeight "+l.metadata.capHeight),h("/StemV "+l.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),h("/FontName /"+bh(l.fontName)),h("/ItalicAngle "+l.metadata.italicAngle),h("/Ascent "+l.metadata.ascender),h(">>"),h("endobj"),l.objectNumber=f();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+bh(l.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),h("endobj"),l.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,l=o.text||"",h=o.x,f=o.y,p=o.options||{},y=o.mutex||{},b=y.pdfEscape,m=y.activeFontKey,A=y.fonts,_=m,E="",v=0,C="",N=A[_].encoding;if(A[_].encoding!=="Identity-H")return{text:l,x:h,y:f,options:p,mutex:y};for(C=l,_=m,Array.isArray(l)&&(C=l[0]),v=0;v<C.length;v+=1)A[_].metadata.hasOwnProperty("cmap")&&(c=A[_].metadata.cmap.unicode.codeMap[C[v].charCodeAt(0)]),c||C[v].charCodeAt(0)<256&&A[_].metadata.hasOwnProperty("Unicode")?E+=C[v]:E+="";var S="";return parseInt(_.slice(1))<14||N==="WinAnsiEncoding"?S=b(E,_).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(S=t(E,A[_])),y.isHex=!0,{text:S,x:h,y:f,options:p,mutex:y}};e.events.push(["postProcessText",function(o){var c=o.text||"",l=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?l.push([s(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):l.push(s(Object.assign({},h,{text:c[f]})).text);o.text=l}else o.text=s(Object.assign({},h,{text:c})).text}])})(Pt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Pt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var s,o,c,l,h,f,p,y=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,N=0;this.__bidiEngine__={};var S=function(re){var B=re.charCodeAt(),J=B>>8,L=_[J];return L!==void 0?y[256*L+(255&B)]:J===252||J===253?"AL":v.test(J)?"L":J===8?"R":"N"},D=function(re){for(var B,J=0;J<re.length;J++){if((B=S(re.charAt(J)))==="L")return!1;if(B==="R")return!0}return!1},K=function(re,B,J,L){var se,ie,Z,pe,ye=B[L];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ye="AN");break;case"AL":C=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":L<1||L+1>=B.length||(se=J[L-1])!=="EN"&&se!=="AN"||(ie=B[L+1])!=="EN"&&ie!=="AN"?ye="N":C&&(ie="AN"),ye=ie===se?ie:"N";break;case"ES":ye=(se=L>0?J[L-1]:"B")==="EN"&&L+1<B.length&&B[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&J[L-1]==="EN"){ye="EN";break}if(C){ye="N";break}for(Z=L+1,pe=B.length;Z<pe&&B[Z]==="ET";)Z++;ye=Z<pe&&B[Z]==="EN"?"EN":"N";break;case"NSM":if(c&&!l){for(pe=B.length,Z=L+1;Z<pe&&B[Z]==="NSM";)Z++;if(Z<pe){var Te=re[L],W=Te>=1425&&Te<=2303||Te===64286;if(se=B[Z],W&&(se==="R"||se==="AL")){ye="R";break}}}ye=L<1||(se=B[L-1])==="B"?"N":J[L-1];break;case"B":C=!1,s=!0,ye=N;break;case"S":o=!0,ye="N"}return ye},$=function(re,B,J){var L=re.split("");return J&&ee(L,J,{hiLevel:N}),L.reverse(),B&&B.reverse(),L.join("")},ee=function(re,B,J){var L,se,ie,Z,pe,ye=-1,Te=re.length,W=0,R=[],G=N?m:b,X=[];for(C=!1,s=!1,o=!1,se=0;se<Te;se++)X[se]=S(re[se]);for(ie=0;ie<Te;ie++){if(pe=W,R[ie]=K(re,X,R,ie),L=240&(W=G[pe][A[R[ie]]]),W&=15,B[ie]=Z=G[W][5],L>0)if(L===16){for(se=ye;se<ie;se++)B[se]=1;ye=-1}else ye=-1;if(G[W][6])ye===-1&&(ye=ie);else if(ye>-1){for(se=ye;se<ie;se++)B[se]=Z;ye=-1}X[ie]==="B"&&(B[ie]=0),J.hiLevel|=Z}o&&(function(ce,ae,I){for(var U=0;U<I;U++)if(ce[U]==="S"){ae[U]=N;for(var ne=U-1;ne>=0&&ce[ne]==="WS";ne--)ae[ne]=N}})(X,B,Te)},P=function(re,B,J,L,se){if(!(se.hiLevel<re)){if(re===1&&N===1&&!s)return B.reverse(),void(J&&J.reverse());for(var ie,Z,pe,ye,Te=B.length,W=0;W<Te;){if(L[W]>=re){for(pe=W+1;pe<Te&&L[pe]>=re;)pe++;for(ye=W,Z=pe-1;ye<Z;ye++,Z--)ie=B[ye],B[ye]=B[Z],B[Z]=ie,J&&(ie=J[ye],J[ye]=J[Z],J[Z]=ie);W=pe}W++}}},fe=function(re,B,J){var L=re.split(""),se={hiLevel:N};return J||(J=[]),ee(L,J,se),(function(ie,Z,pe){if(pe.hiLevel!==0&&p)for(var ye,Te=0;Te<ie.length;Te++)Z[Te]===1&&(ye=E.indexOf(ie[Te]))>=0&&(ie[Te]=E[ye+1])})(L,J,se),P(2,L,B,J,se),P(1,L,B,J,se),L.join("")};return this.__bidiEngine__.doBidiReorder=function(re,B,J){if((function(se,ie){if(ie)for(var Z=0;Z<se.length;Z++)ie[Z]=Z;l===void 0&&(l=D(se)),f===void 0&&(f=D(se))})(re,B),c||!h||f)if(c&&h&&l^f)N=l?1:0,re=$(re,B,J);else if(!c&&h&&f)N=l?1:0,re=fe(re,B,J),re=$(re,B);else if(!c||l||h||f){if(c&&!h&&l^f)re=$(re,B),l?(N=0,re=fe(re,B,J)):(N=1,re=fe(re,B,J),re=$(re,B));else if(c&&l&&!h&&f)N=1,re=fe(re,B,J),re=$(re,B);else if(!c&&!h&&l^f){var L=p;l?(N=1,re=fe(re,B,J),N=0,p=!1,re=fe(re,B,J),p=L):(N=0,re=fe(re,B,J),re=$(re,B),N=1,p=!1,re=fe(re,B,J),p=L,re=$(re,B))}}else N=0,re=fe(re,B,J);else N=l?1:0,re=fe(re,B,J);return re},this.__bidiEngine__.setOptions=function(re){re&&(c=re.isInputVisual,h=re.isOutputVisual,l=re.isInputRtl,f=re.isOutputRtl,p=re.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(c=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?c.push([t.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):c.push([t.doBidiReorder(s[l])]);i.text=c}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Pt),Pt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new hu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new vD(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new iD(this.contents),this.head=new sD(this),this.name=new hD(this),this.cmap=new Y6(this),this.toUnicode={},this.hhea=new oD(this),this.maxp=new fD(this),this.hmtx=new dD(this),this.post=new uD(this),this.os2=new lD(this),this.loca=new yD(this),this.glyf=new pD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,l,h,f;for(f=[],c=0,l=(h=this.bbox).length;c<l;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var s,o,c,l;for(c=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return c*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var so,hu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,s,o,c,l,h;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^l)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*o+65536*c+256*l+h},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),iD=(function(){var r;function e(t){var i,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,o,c,l,h,f,p,y,b,m,A,_;for(_ in m=Object.keys(t).length,h=Math.log(2),y=16*Math.floor(Math.log(m)/h),c=Math.floor(y/h),p=16*m-y,(s=new hu).writeInt(this.scalarType),s.writeShort(m),s.writeShort(y),s.writeShort(c),s.writeShort(p),o=16*m,f=s.pos+o,l=null,A=[],t)for(b=t[_],s.writeString(_),s.writeInt(r(b)),s.writeInt(f),s.writeInt(b.length),A=A.concat(b),_==="head"&&(l=f),f+=b.length;f%4;)A.push(0),f++;return s.write(A),i=2981146554-r(s.data),s.pos=l+8,s.writeUInt32(i),s.data},r=function(t){var i,s,o,c;for(t=X6.call(t);t.length%4;)t.push(0);for(o=new hu(t),s=0,i=0,c=t.length;i<c;i=i+=4)s+=o.readUInt32();return 4294967295&s},e})(),aD={}.hasOwnProperty,Uo=function(r,e){for(var t in e)aD.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};so=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var sD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new hu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),QS=(function(){function r(e,t){var i,s,o,c,l,h,f,p,y,b,m,A,_,E,v,C,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(m=e.readUInt16(),b=m/2,e.pos+=6,o=(function(){var S,D;for(D=[],h=S=0;0<=b?S<b:S>b;h=0<=b?++S:--S)D.push(e.readUInt16());return D})(),e.pos+=2,_=(function(){var S,D;for(D=[],h=S=0;0<=b?S<b:S>b;h=0<=b?++S:--S)D.push(e.readUInt16());return D})(),f=(function(){var S,D;for(D=[],h=S=0;0<=b?S<b:S>b;h=0<=b?++S:--S)D.push(e.readUInt16());return D})(),p=(function(){var S,D;for(D=[],h=S=0;0<=b?S<b:S>b;h=0<=b?++S:--S)D.push(e.readUInt16());return D})(),s=(this.length-e.pos+this.offset)/2,l=(function(){var S,D;for(D=[],h=S=0;0<=s?S<s:S>s;h=0<=s?++S:--S)D.push(e.readUInt16());return D})(),h=v=0,N=o.length;v<N;h=++v)for(E=o[h],i=C=A=_[h];A<=E?C<=E:C>=E;i=A<=E?++C:--C)p[h]===0?c=i+f[h]:(c=l[p[h]/2+(i-A)-(b-h)]||0)!==0&&(c+=f[h]),this.codeMap[i]=65535&c}e.pos=y}return r.encode=function(e,t){var i,s,o,c,l,h,f,p,y,b,m,A,_,E,v,C,N,S,D,K,$,ee,P,fe,re,B,J,L,se,ie,Z,pe,ye,Te,W,R,G,X,ce,ae,I,U,ne,oe,Q,ue;switch(L=new hu,c=Object.keys(e).sort(function(ke,z){return ke-z}),t){case"macroman":for(_=0,E=(function(){var ke=[];for(A=0;A<256;++A)ke.push(0);return ke})(),C={0:0},o={},se=0,ye=c.length;se<ye;se++)C[ne=e[s=c[se]]]==null&&(C[ne]=++_),o[s]={old:e[s],new:C[e[s]]},E[s]=C[e[s]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(E),{charMap:o,subtable:L.data,maxGlyphID:_+1};case"unicode":for(B=[],y=[],N=0,C={},i={},v=f=null,ie=0,Te=c.length;ie<Te;ie++)C[D=e[s=c[ie]]]==null&&(C[D]=++N),i[s]={old:D,new:C[D]},l=C[D]-s,v!=null&&l===f||(v&&y.push(v),B.push(s),f=l),v=s;for(v&&y.push(v),y.push(65535),B.push(65535),fe=2*(P=B.length),ee=2*Math.pow(Math.log(P)/Math.LN2,2),b=Math.log(ee/2)/Math.LN2,$=2*P-ee,h=[],K=[],m=[],A=Z=0,W=B.length;Z<W;A=++Z){if(re=B[A],p=y[A],re===65535){h.push(0),K.push(0);break}if(re-(J=i[re].new)>=32768)for(h.push(0),K.push(2*(m.length+P-A)),s=pe=re;re<=p?pe<=p:pe>=p;s=re<=p?++pe:--pe)m.push(i[s].new);else h.push(J-re),K.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*P+2*m.length),L.writeUInt16(0),L.writeUInt16(fe),L.writeUInt16(ee),L.writeUInt16(b),L.writeUInt16($),I=0,R=y.length;I<R;I++)s=y[I],L.writeUInt16(s);for(L.writeUInt16(0),U=0,G=B.length;U<G;U++)s=B[U],L.writeUInt16(s);for(oe=0,X=h.length;oe<X;oe++)l=h[oe],L.writeUInt16(l);for(Q=0,ce=K.length;Q<ce;Q++)S=K[Q],L.writeUInt16(S);for(ue=0,ae=m.length;ue<ae;ue++)_=m[ue],L.writeUInt16(_);return{charMap:i,subtable:L.data,maxGlyphID:N+1}}},r})(),Y6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)t=new QS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,s;return t==null&&(t="macroman"),i=QS.encode(e,t),(s=new hu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},r})(),oD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),lD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),uD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var c,l,h;for(h=[],o=c=0,l=this.file.maxp.numGlyphs;0<=l?c<l:c>l;o=0<=l?++c:--c)h.push(e.readUInt32());return h}).call(this)}},r})(),cD=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},hD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,s,o,c,l,h,f,p,y,b;for(e.pos=this.offset,e.readShort(),t=e.readShort(),l=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(h={},o=p=0,y=i.length;p<y;o=++p)s=i[o],e.pos=s.offset,f=e.readString(s.length),c=new cD(f,s),h[b=s.nameID]==null&&(h[b]=[]),h[s.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},r})(),fD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),dD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,s,o,c,l,h;for(e.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],t=f=0;0<=s?f<s:f>s;t=0<=s?++f:--f)p.push(e.readInt16());return p})(),this.widths=(function(){var f,p,y,b;for(b=[],f=0,p=(y=this.metrics).length;f<p;f++)o=y[f],b.push(o.advance);return b}).call(this),i=this.widths[this.widths.length-1],h=[],t=c=0;0<=s?c<s:c>s;t=0<=s?++c:--c)h.push(this.widths.push(i));return h},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),X6=[].slice,pD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,s,o,c,l,h,f,p,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,c=(l=new hu(t.read(s))).readShort(),f=l.readShort(),y=l.readShort(),h=l.readShort(),p=l.readShort(),this.cache[e]=c===-1?new gD(l,f,y,h,p):new mD(l,c,f,y,h,p),this.cache[e]))},r.prototype.encode=function(e,t,i){var s,o,c,l,h;for(c=[],o=[],l=0,h=t.length;l<h;l++)s=e[t[l]],o.push(c.length),s&&(c=c.concat(s.encode(i)));return o.push(c.length),{table:c,offsets:o}},r})(),mD=(function(){function r(e,t,i,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),gD=(function(){function r(e,t,i,s,o){var c,l;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;l=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&l;)c.pos+=1&l?4:2,128&l?c.pos+=8:64&l?c.pos+=4:8&l&&(c.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new hu(X6.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),yD=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Uo(r,so),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<i.length;++c)if(i[c]=s,o<t.length&&t[o]==c){++o,i[c]=s;var l=this.offsets[c],h=this.offsets[c+1]-l;h>0&&(s+=h)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},r})(),vD=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=s[i];return e},r.prototype.glyphsFor=function(e){var t,i,s,o,c,l,h;for(s={},c=0,l=e.length;c<l;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(i=s[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))i=h[o],s[o]=i;return s},r.prototype.encode=function(e,t){var i,s,o,c,l,h,f,p,y,b,m,A,_,E,v;for(s in i=Y6.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),m={0:0},v=i.charMap)m[(h=v[s]).old]=h.new;for(A in b=i.maxGlyphID,c)A in m||(m[A]=b++);return p=(function(C){var N,S;for(N in S={},C)S[C[N]]=N;return S})(m),y=Object.keys(p).sort(function(C,N){return C-N}),_=(function(){var C,N,S;for(S=[],C=0,N=y.length;C<N;C++)l=y[C],S.push(p[l]);return S})(),o=this.font.glyf.encode(c,_,m),f=this.font.loca.encode(o.offsets,_),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},r})();Pt.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,o,c;if(Array.isArray(t))return"["+(function(){var l,h,f;for(f=[],l=0,h=t.length;l<h;l++)i=t[l],f.push(e.convert(i));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();var Qp={exports:{}},bD=Qp.exports,e3;function wD(){return e3||(e3=1,(function(r,e){(function(t,i){i()})(bD,function(){function t(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function i(f,p,y){var b=new XMLHttpRequest;b.open("GET",f),b.responseType="blob",b.onload=function(){h(b.response,p,y)},b.onerror=function(){console.error("could not download file")},b.send()}function s(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hp=="object"&&hp.global===hp?hp:void 0,l=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(f,p,y){var b=c.URL||c.webkitURL,m=document.createElement("a");p=p||f.name||"download",m.download=p,m.rel="noopener",typeof f=="string"?(m.href=f,m.origin===location.origin?o(m):s(m.href)?i(f,p,y):o(m,m.target="_blank")):(m.href=b.createObjectURL(f),setTimeout(function(){b.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,y){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,y),p);else if(s(f))i(f,p,y);else{var b=document.createElement("a");b.href=f,b.target="_blank",setTimeout(function(){o(b)})}}:function(f,p,y,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof f=="string")return i(f,p,y);var m=f.type==="application/octet-stream",A=/constructor/i.test(c.HTMLElement)||c.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||m&&A||l)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var N=E.result;N=_?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=N:location=N,b=null},E.readAsDataURL(f)}else{var v=c.URL||c.webkitURL,C=v.createObjectURL(f);b?b.location=C:location.href=C,b=null,setTimeout(function(){v.revokeObjectURL(C)},4e4)}});c.saveAs=h.saveAs=h,r.exports=h})})(Qp)),Qp.exports}var _D=wD();async function xD(r,e="pdf"){if(!r?.patientEncounterName){console.error("[exportDataAsFile]: data: ",r),alert("Patient encounter name is required for export.");return}if(console.log("[exportDataAsFile] Exporting data: ",r),e==="pdf"){let s=function(c,l=16,h=8,f="#2563eb"){t.setFontSize(l),t.setTextColor(f),i+=h,i=t3(t,i),t.text(c,20,i),t.setTextColor("#000000")},o=function(c,l=12,h=8,f="#000000"){t.setFontSize(l),t.setTextColor(f),t.splitTextToSize(c,180).forEach(y=>{i+=h,i=t3(t,i),t.text(y,20,i)}),t.setTextColor("#000000")};const t=new Pt({unit:"mm",format:"a4"});let i=20;s(r.patientEncounterName,20,8,"#000000"),r.transcript&&(i+=10,s("Transcript",16,0),o(r.transcript,12,8),i+=10),Array.isArray(r.soapNotes)&&r.soapNotes.length>0&&r.soapNotes.forEach((c,l)=>{s(`SOAP Note${r.soapNotes.length>1?` #${l+1}`:""}`,16,8);const h=c.soapNote_text.soapNote||{},f=c.soapNote_text.billingSuggestion||{};if(h)if(typeof h!="object")s("SOAP Note",16,8),o(h,12,8);else for(const[p,y]of Object.entries(h))y&&(s(p.charAt(0).toUpperCase()+p.slice(1),14,8),o(bl(y),12,8));if(i+=8,f)if(s("Billing Suggestion",16,8),typeof f!="object")o(f,12,8);else for(const[p,y]of Object.entries(f))y&&(s(p.charAt(0).toUpperCase()+p.slice(1),14,8),o(bl(y),12,8));i+=10}),t.save(`${r.patientEncounterName}.pdf`)}else if(e==="word"){let i=function(l,h,f="000000",p){return new ou({text:l,heading:h,color:f,spacing:p!==void 0?p:{after:400}})},s=function(l,h,f="000000",p){if(typeof l!="string")return[];const y=l.split(`
`).filter(m=>m.trim().length>0);return console.log("Markdown lines for Word export:",y),y.map(m=>i(m,h,f,p))};const t=[new ou({text:r.patientEncounterName,heading:ru.TITLE})];r.transcript&&t.push(i("Transcript",ru.HEADING_1,"2563eb",{before:400,after:200}),i(r.transcript,void 0,"2563eb",{after:800}),new ou({text:""})),Array.isArray(r.soapNotes)&&r.soapNotes.length>0&&r.soapNotes.forEach((l,h)=>{t.push(i(`SOAP Note${r.soapNotes.length>1?` #${h+1}`:""}`,ru.HEADING_1,"2563eb",{before:400,after:200}));const f=l.soapNote_text?.soapNote||{},p=l.soapNote_text?.billingSuggestion||{};if(f&&typeof f=="object")for(const[y,b]of Object.entries(f))b&&t.push(i(y.charAt(0).toUpperCase()+y.slice(1),ru.HEADING_2,"2563eb",{before:200}),...s(b,void 0,"2563eb",{before:50}));else f&&t.push(i("SOAP Note",ru.HEADING_1,"2563eb",{before:200}),...s(f,void 0,"2563eb",{after:800}));if(t.push(new ou({text:""})),typeof p!="object")t.push(i("Billing Suggestion",ru.HEADING_2,"2563eb",{before:400}),...s(p,void 0,"2563eb"));else{t.push(i("Billing Suggestion",ru.HEADING_1,"2563eb",{before:400}));for(const[y,b]of Object.entries(p))b&&t.push(i(y.charAt(0).toUpperCase()+y.slice(1),ru.HEADING_2,"2563eb",{before:200}),...s(b,void 0,"2563eb",{before:50}))}t.push(new ou({text:""}))});const o=new j7({sections:[{children:t}]}),c=await K7.toBlob(o);_D.saveAs(c,`${r.patientEncounterName}.docx`)}else throw new Error("Unsupported export type")}const SD=297,AD=20;function t3(r,e){return e>SD-AD?(r.addPage(),20):e}function ob({patientEncounterData:r,transcriptData:e,soapNotesData:t}){const[i,s]=Ne.useState(!1),o=async c=>{const l={patientEncounterName:r?.name||"",transcript:e?.transcript_text||"",soapNotes:t||[]};await xD(l,c),s(!1)};return H.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[H.jsx("button",{className:"bg-[#DE7459] hover:bg-[#D1735E] text-white px-8 py-3 rounded-lg font-medium",children:"Export As..."}),i&&H.jsxs("div",{className:"absolute left-0 top-full w-full z-10 bg-white border border-gray-200 rounded-lg shadow-lg flex flex-col",style:{marginTop:0},children:[H.jsx("button",{className:"bg-white hover:bg-gray-100 text-black px-3 py-2 rounded-t w-full font-medium transition-all duration-150",onClick:()=>o("word"),children:"Export as Word"}),H.jsx("button",{className:"bg-white hover:bg-gray-100 text-black px-3 py-2 rounded-b w-full font-medium transition-all duration-150",onClick:()=>o("pdf"),children:"Export as PDF"})]})]})}async function ED(r){if(!Gr()){Sh(),r("/login");return}try{const t=await vk();if(!t.valid){console.error("<Auth/>: JWT validation failed:",t.error||t.data),Sh(),r("/login");return}console.log("<Auth/>: JWT is valid:",t.data)}catch(t){console.error("<Auth/>: Error during JWT validation:",t),Sh(),r("/login")}}function dc(){const r=Ja();return Ne.useEffect(()=>{ED(r)},[r]),null}function Hi({text:r,label:e="Copy",className:t="",placement:i="inline"}){const[s,o]=Ne.useState(!1),[c,l]=Ne.useState(!1),h=async()=>{try{if(!r)return;await navigator.clipboard.writeText(r),o(!0),setTimeout(()=>o(!1),2e3)}catch(b){console.error("copy failed",b);try{const m=document.createElement("textarea");m.value=r,document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),o(!0),setTimeout(()=>o(!1),2e3)}catch(m){console.error("clipboard fallback failed",m)}}},f={display:"inline-flex",alignItems:"center",gap:8,padding:i==="right"?"6px 10px":"6px 8px",fontSize:13,cursor:"pointer",border:"1px solid #ddd",borderRadius:6,background:"#fff",boxShadow:"0 1px 2px rgba(0,0,0,0.04)",transition:"transform 140ms ease, background 140ms ease, box-shadow 140ms ease",transform:c?"scale(1.02)":"none"},p=s?"Copied":i==="right"?"Copy":e,y=s?"Copied!":"Copy to clipboard";return H.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[H.jsxs("button",{type:"button",onClick:h,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:t,style:f,"aria-label":s?"Copied":"Copy to clipboard",children:[s?H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#16a34a",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",style:{display:"block"},children:H.jsx("polyline",{points:"20 6 9 17 4 12"})}):H.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[H.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),H.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),H.jsx("span",{children:p})]}),H.jsx("div",{style:{position:"absolute",bottom:"100%",right:0,marginBottom:8,background:"rgba(0,0,0,0.85)",color:"#fff",padding:"6px 8px",borderRadius:6,fontSize:12,whiteSpace:"nowrap",opacity:c?1:0,transform:c?"translateY(0)":"translateY(6px)",transition:"opacity 120ms ease, transform 120ms ease",pointerEvents:"none",zIndex:50},role:"status","aria-hidden":!c,children:y})]})}const kD=F0("https://rwadtdxagmdqrygltzlv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ3YWR0ZHhhZ21kcXJ5Z2x0emx2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwNDYxODQsImV4cCI6MjA2ODYyMjE4NH0.a4dAU6510fuSihMYqGu4tyZHanGVETweKQKsgezIF1Y");function ND(){const r=Ja(),t=new URLSearchParams(window.location.search).get("recordingPath"),[i,s]=Ne.useState(null),[o,c]=Ne.useState(!1),{isSupportedWakeLock:l,isWakeLockActive:h,isWakeLockPending:f,acquireWakeLock:p,releaseWakeLock:y}=X7(),[b,m]=Ne.useState("upload"),[A,_]=Ne.useState(null),[E,v]=Ne.useState(null),[C,N]=Ne.useState(!1),[S,D]=Ne.useState(!1),[K,$]=Ne.useState(null),ee=K?.status==="uploading-recording",[P,fe]=Ne.useState(""),[re,B]=Ne.useState(""),[J,L]=Ne.useState(""),[se,ie]=Ne.useState(""),[Z,pe]=Ne.useState(""),[ye,Te]=Ne.useState(""),[W,R]=Ne.useState(""),[G,X]=Ne.useState(!1),[ce,ae]=Ne.useState("transcript"),[I,U]=Ne.useState({transcript:!1,soapNote:!1,billingSuggestion:!1}),ne={patientEncounterName:"emscribe_patientEncounterName",transcript:"emscribe_transcript",soapSubjective:"emscribe_soapSubjective",soapObjective:"emscribe_soapObjective",soapAssessment:"emscribe_soapAssessment",soapPlan:"emscribe_soapPlan",billingSuggestion:"emscribe_billingSuggestion",recordingFileMetadata:"emscribe_recordingFileMetadata",recordingFile:"emscribe_recordingFile"};Ne.useEffect(()=>{!t&&!o&&Oi().then(v)},[]),Ne.useEffect(()=>{const $e=localStorage.getItem(ne.patientEncounterName)||"",ct=localStorage.getItem(ne.transcript)||"",pt=localStorage.getItem(ne.soapSubjective)||"",Lt=localStorage.getItem(ne.soapObjective)||"",cr=localStorage.getItem(ne.soapAssessment)||"",Wt=localStorage.getItem(ne.soapPlan)||"",rr=localStorage.getItem(ne.billingSuggestion)||"";R($e),fe(ct),B(pt),L(Lt),ie(cr),pe(Wt),Te(rr),($e.trim()||ct.trim()||pt.trim()||Lt.trim()||cr.trim()||Wt.trim()||rr.trim())&&O(!0)},[]),Ne.useEffect(()=>{(async()=>{if(!t){c(!1);return}c(!0);try{const ct=Gr();if(!ct)throw new Error("User not authenticated");const pt=Tj(ct),{data:Lt,error:cr}=await pt.storage.from("audio-files").createSignedUrl(t,3600);if(cr||!Lt?.signedUrl){console.error("Error creating signed URL for URL recording:",cr),alert("Failed to load recording from URL. Please try again or upload the file manually."),c(!1);return}const Wt=t.split("/").pop()||"recording",rr={path:t,signedUrl:Lt.signedUrl,name:Wt,fromUrl:!0};localStorage.setItem(ne.recordingFileMetadata,JSON.stringify(rr)),s(rr),v(rr),O(!0),console.log("Loaded recording from URL and saved to localStorage:",{path:t,fileName:Wt,signedUrl:Lt.signedUrl,metadata:rr})}catch(ct){console.error("Error loading recording from URL:",ct),alert("Failed to load recording from URL. Please try again or upload the file manually.")}finally{c(!1)}})()},[t,ne.recordingFileMetadata]),Ne.useEffect(()=>{localStorage.setItem(ne.patientEncounterName,W)},[W,ne.patientEncounterName]),Ne.useEffect(()=>{localStorage.setItem(ne.transcript,P)},[P,ne.transcript]),Ne.useEffect(()=>{localStorage.setItem(ne.soapSubjective,re)},[re,ne.soapSubjective]),Ne.useEffect(()=>{localStorage.setItem(ne.soapObjective,J)},[J,ne.soapObjective]),Ne.useEffect(()=>{localStorage.setItem(ne.soapAssessment,se)},[se,ne.soapAssessment]),Ne.useEffect(()=>{localStorage.setItem(ne.soapPlan,Z)},[Z,ne.soapPlan]),Ne.useEffect(()=>{localStorage.setItem(ne.billingSuggestion,ye)},[ye,ne.billingSuggestion]);const[oe,Q]=Ne.useState(0),ue=Ne.useRef(0),[ke,z]=Ne.useState(!1),[te,q]=Ne.useState(!1),[T,O]=Ne.useState(!1),[M,ve]=Ne.useState(""),[xe,we]=Ne.useState(null),[je,qe]=Ne.useState(null),[Me,Ke]=Ne.useState(null),[at,ht]=Ne.useState(null),[dt,Rt]=Ne.useState(null),[mt,Sr]=Ne.useState(null),bt=Ne.useRef(!0),Je=Ne.useCallback(async()=>{try{const $e=await rn(),ct=await Zn(),pt=await yk();let Lt=!0;try{localStorage.setItem("emscribe_localstorage_test","1"),localStorage.removeItem("emscribe_localstorage_test"),Lt=!0}catch{Lt=!1}let cr=null,Wt=!1,rr=!1;try{cr=Gr(),Wt=!!pt,rr=pt}catch(Pr){console.warn("JWT/refreshCookie checks failed:",Pr),cr=null,Wt=!1,rr=!1}const ar={incognitoStatus:$e,storageQuotaInfo:ct,cookiesWork:rr,localStorageAccessible:Lt,refreshTokenCookieAvailable:Wt,jwtPresent:!!cr};return bt.current&&(Rt(Wt),Sr(cr||null),Ke(rr),we($e),qe(ct),ht(Lt)),console.log("Startup checks:",ar),ar}catch{const ct={incognitoStatus:null,storageQuotaInfo:null,cookiesWork:!1,localStorageAccessible:!1,refreshTokenCookieAvailable:!1,jwtPresent:!1};return bt.current&&(we(null),qe(null),Ke(!1),ht(!1),Rt(!1),Sr(null)),ct}},[]),lt=Ne.useCallback($e=>{console.error("[handleAuthError] Authentication failed - diagnostic analysis:",$e);let ct="You must be logged in to upload recordings.";$e.isIncognito==="localhost-incognito"?ct=`Your session has expired in incognito/private mode on localhost.

Note: Localhost has relaxed incognito restrictions, but session tokens may still expire. Please log in again.`:$e.isIncognito===!0&&$e.jwtPresent?ct=`Your session has expired in incognito/private mode.

Incognito mode blocks refresh token cookies needed to maintain long sessions. Please log in again or use normal browsing mode for better session persistence.`:$e.isIncognito===!0?ct+=`

Incognito/Private mode detected. This may cause authentication issues due to restricted cookies and storage.`:$e.isIncognito==="localhost-normal"?ct+=`

Running on localhost with relaxed incognito restrictions.`:$e.jwtPresent||(ct+=`

Please log in to continue.`),alert(ct),Gp(),r("/login")},[r]);Ne.useEffect(()=>(bt.current=!0,Je().then($e=>{if(console.log("[NewPatientEncounter] Startup checks complete:",$e),$e.isIncognito===!0){console.warn("[NewPatientEncounter] Actual incognito mode detected"),lt($e);return}$e.isIncognito==="localhost-incognito"&&console.warn("[NewPatientEncounter] Localhost incognito detected"),$e.localStorageAccessible===!1&&console.warn("[NewPatientEncounter] localStorage not accessible"),$e.jwtPresent===!1&&console.warn("[NewPatientEncounter] JWT not present")}),()=>{bt.current=!1}),[r,Je,lt]);const _t=Ne.useRef(null),Et=Ne.useRef([]),Jt=Ne.useRef(null),wt=Ne.useRef(null),[Ut,yr]=Ne.useState(!1),[Mt,gt]=Ne.useState(0),[Xt,qn]=Ne.useState(0),[li,ea]=Ne.useState(null),[Ri,Tt]=Ne.useState(!1),[Ci,ui]=Ne.useState("idle"),Oi=async()=>{const $e=localStorage.getItem(ne.recordingFileMetadata);if(!$e)return null;try{const ct=JSON.parse($e),{data:pt,error:Lt}=await kD.storage.from("audio-files").createSignedUrl(ct.path,3600);return Lt||!pt?.signedUrl?{...ct,signedUrl:null,name:ct.path&&typeof ct.path=="string"?ct.path.split("/")[ct.path.split("/").length-1]:"recording.webm"}:(console.log("[getLocalStorageRecordingFile]: recordingFileMetadata:",ct,"signedUrl:",pt.signedUrl,"isuploading:",ee),{...ct,signedUrl:pt.signedUrl,name:ct.path&&typeof ct.path=="string"?ct.path.split("/")[ct.path.split("/").length-1]:"recording.webm"})}catch(ct){return console.error("Error parsing recording file metadata:",ct),null}};Ne.useEffect(()=>{if(A){const $e=URL.createObjectURL(A);return ea($e),gt(0),qn(0),Tt(!1),ui("loading"),()=>{URL.revokeObjectURL($e)}}else ea(null),gt(0),qn(0),Tt(!1),ui("idle")},[A]);const Li=()=>{ui("loading")},Wr=()=>{if(wt.current){const $e=wt.current.duration;isFinite($e)&&$e>0?(qn($e),Tt(!0),ui("loaded")):(qn(oe||0),Tt(!0),ui("loaded"))}},yn=()=>{if(wt.current){const $e=wt.current.currentTime;if(gt($e),!isFinite(Xt)||Xt===0){const ct=wt.current.duration;isFinite(ct)&&ct>0?qn(ct):$e>Xt&&qn($e+1)}}},Rn=()=>{if(yr(!1),wt.current){const $e=wt.current.currentTime;qn($e),gt(0)}else gt(0)},Za=$e=>{const ct=$e.target.error;let pt="Unknown audio error";if(ct)switch(ct.code){case 1:pt="Audio loading was aborted";break;case 2:pt="Network error occurred while loading audio";break;case 3:pt="Audio decoding error - file may be corrupted";break;case 4:pt="Audio format not supported by browser";break;default:pt=`Audio error (code: ${ct.code})`}ui("error"),Tt(!1),alert(`Error loading audio: ${pt}`)},ci=$e=>["audio/mp3","audio/mpeg","audio/wav","audio/webm","audio/ogg","video/webm","video/mp4","video/mp4","audio/mp4","audio/m4a","audio/x-m4a"].some(pt=>$e.type.includes(pt))?$e.size>50*1024*1024?"File size must be less than 50MB":null:"File must be in a supported audio format (MP3, WAV, WebM, OGG, MP4, M4A)",jr=async $e=>new Promise((ct,pt)=>{const Lt=new Audio,cr=()=>{Lt.removeEventListener("loadedmetadata",rr),Lt.removeEventListener("error",ar),Lt.src&&URL.revokeObjectURL(Lt.src)};console.log("Getting audio duration for file:",{name:$e.name,size:$e.size,type:$e.type});const Wt=()=>{const Pr=ue.current;if(Q(Pr),Pr>0)return console.warn(`Using recordingDurationRef: ${Pr} seconds`),Pr;const dr=Math.max(1,$e.size/1024);return console.warn(`Using estimated duration: ${dr} seconds`),dr},rr=()=>{cr(),isFinite(Lt.duration)&&Lt.duration>0?(console.log("Audio duration obtained:",Lt.duration),ct(Lt.duration)):ct(Wt())},ar=()=>{cr(),ct(Wt())};Lt.addEventListener("loadedmetadata",rr),Lt.addEventListener("error",ar),Lt.src=URL.createObjectURL($e),setTimeout(()=>{cr(),ct(Wt())},1e4)}),rn=async()=>{try{const $e="incognito-test-"+Math.random();try{return localStorage.setItem($e,"test"),localStorage.removeItem($e),!1}catch{return!0}}catch{return!1}},Zn=async()=>{try{if("storage"in navigator&&"estimate"in navigator.storage){const $e=await navigator.storage.estimate();return{quota:Math.round($e.quota/(1024*1024))+"MB",usage:Math.round($e.usage/(1024*1024))+"MB",available:Math.round(($e.quota-$e.usage)/(1024*1024))+"MB"}}return null}catch($e){return{error:$e.message}}},ji=async()=>{try{const $e=await hg("/api/auth/refresh",{method:"POST",credentials:"include"});return $e.ok?(console.log("refreshAndGetAccessToken response:",$e),(await $e.json())?.accessToken||null):null}catch($e){return console.error("refreshAndGetAccessToken error:",$e),null}},Gi=async($e,ct)=>{console.log("[uploadWithRetry] attempting upload:",{fileName:$e.split("/").pop(),filePath:$e,fileSize:ct.size,fileType:ct.type});const pt=Gr();if(!pt)return{data:null,error:new Error("No JWT available"),requiresLogin:!0};const Lt=Wt=>F0("https://rwadtdxagmdqrygltzlv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ3YWR0ZHhhZ21kcXJ5Z2x0emx2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwNDYxODQsImV4cCI6MjA2ODYyMjE4NH0.a4dAU6510fuSihMYqGu4tyZHanGVETweKQKsgezIF1Y",{global:{headers:{Authorization:`Bearer ${Wt}`}}}),cr=Wt=>{if(!Wt)return!1;const rr=Wt.statusCode??Wt.status??Wt.status_code;return rr===401||rr===403||/unauthorized|jwt|token|session/i.test(Wt.message||"")};try{const rr=await Lt(pt).storage.from("audio-files").upload($e,ct,{upsert:!1});if(!rr.error)return console.log("[uploadWithRetry] upload successful:",{fileName:$e.split("/").pop(),filePath:$e,resultPath:rr.data?.path,resultId:rr.data?.id}),{data:rr.data,error:null};if(!cr(rr.error))throw rr.error;console.log("[uploadWithRetry] first attempt failed with auth error, retrying with refreshed token");const ar=await ji();if(!ar)return{data:null,error:new Error("Session expired"),requiresLogin:!0};const dr=await Lt(ar).storage.from("audio-files").upload($e,ct,{upsert:!1});if(dr.error)throw dr.error;return console.log("[uploadWithRetry] retry upload successful:",{fileName:$e.split("/").pop(),filePath:$e,resultPath:dr.data?.path,resultId:dr.data?.id}),{data:dr.data,error:null}}catch(Wt){throw Wt}},Qa=async $e=>{if(!$e)return;const ct=ci($e);if(ct){alert(ct);return}try{const pt=await jr($e);if(pt>2400){alert("Recording duration must be less than 40 minutes");return}console.log("File metadata:",{name:$e.name,size:$e.size,type:$e.type,duration:pt}),$({status:"uploading-recording",message:"Uploading recording..."}),z(!0);const Lt=Gr();if(!Lt){z(!1),$({status:"error",message:"Not logged in"});let or={isIncognito:xe,storageQuota:je,cookiesWork:Me,jwtPresent:!!mt,refreshTokenCookieAvailable:dt,localStorageAccessible:at};if(xe===null||je===null||Me===null){or=await Je();return}lt(or,router);return}let cr,Wt;try{const Vr=Lt.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Mr=decodeURIComponent(atob(Vr).split("").map(function(xs){return"%"+("00"+xs.charCodeAt(0).toString(16)).slice(-2)}).join("")),Pi=JSON.parse(Mr);if(!Pi.sub||!Pi.email)throw new Error("Invalid JWT payload");if(cr={id:Pi.sub,email:Pi.email},Wt=Pi.email,!cr||!cr.id||!Wt)throw new Error("Invalid user information: "+JSON.stringify({user:cr,email:Wt}))}catch(or){z(!1),console.error("Error decoding JWT or extracting user info:",or),$({status:"error",message:"Invalid session"}),alert("Invalid session. Please log in again."),Gp(),r("/login");return}const rr=$e.name||"audio",ar=rr.lastIndexOf("."),Pr=ar!==-1?rr.substring(ar+1).toLowerCase():"",dr=`${Wt}-${Date.now()}-${Math.floor(Math.random()*100).toString().padStart(2,"0")}${Pr?`.${Pr}`:""}`;console.log("[handleRecordingFileUpload] constructed filename/path:",{fileName:dr,filePath:`${cr?.id}/${dr}`});const ir=`${cr?.id||"anonymous"}/${dr}`,rs=await Gi(ir,$e);if(z(!1),rs?.requiresLogin){alert("Session expired. Please log in again."),Sh(),r("/login");return}const{data:Hn,error:Cn}=rs;if(Cn||!Hn||!Hn?.path){$({status:"error",message:Cn?.message||"Upload failed"}),alert("Error uploading to Supabase: "+(Cn?.message||String(Cn)));return}localStorage.removeItem(ne.recordingFile),localStorage.removeItem(ne.recordingFileMetadata),_(null),Q(0),v(null);const Dr={path:Hn.path,id:Hn.id,fullPath:Hn.fullPath,size:$e.size,duration:pt};console.log("File uploaded successfully:",Dr),localStorage.setItem(ne.recordingFileMetadata,JSON.stringify(Dr)),_($e),Q(pt),v(Dr),$({status:"success",message:"Recording Ready"})}catch(pt){z(!1),$({status:"error",message:pt.message}),D(!1),console.error("Error processing or uploading audio file:",pt),alert("Error processing or uploading audio file. Please ensure it's a valid audio file.")}},ta=$e=>{const ct=$e.target.files&&$e.target.files[0];Qa(ct)},ra=async()=>{if(wt.current&&Ri)try{await wt.current.play(),yr(!0)}catch($e){console.error("Error playing audio:",$e),alert(`Error playing audio: ${$e.message}`)}},es=()=>{wt.current&&(wt.current.pause(),yr(!1))},na=$e=>{if(wt.current&&Ri){const ct=isFinite(Xt)?Xt:oe||$e,pt=Math.min($e,ct);wt.current.currentTime=pt,gt(pt)}},ia=async()=>{Jt.current&&(clearInterval(Jt.current),Jt.current=null),localStorage.removeItem(ne.recordingFile),localStorage.removeItem(ne.recordingFileMetadata),_(null),v(null),Q(0),ue.current=0;try{const $e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}}),ct=new window.MediaRecorder($e,{mimeType:"audio/webm;codecs=opus"});_t.current=ct,Et.current=[],ct.ondataavailable=pt=>{pt.data.size>0&&Et.current.push(pt.data)},ct.onstop=async()=>{Jt.current&&(clearInterval(Jt.current),Jt.current=null);const pt=new Blob(Et.current,{type:"audio/webm"}),Lt=new File([pt],"recording.webm",{type:"audio/webm"});_(Lt),console.log("Recording file set locally:",Lt),await Qa(Lt,!0),$e.getTracks().forEach(cr=>cr.stop())},ct.start(1e3),N(!0);try{if(typeof p=="function"){const pt=await p();console.log("Wake lock acquire result:",pt)}}catch(pt){console.warn("Wake lock acquisition threw:",pt)}Jt.current=setInterval(()=>{Q(pt=>{const Lt=pt+1;return console.log(`Recording duration: ${Lt} seconds`),Lt>=2400&&ts(),ue.current=Lt,Lt})},1e3)}catch($e){console.error("Error accessing microphone:",$e),alert("Error accessing microphone. Please check permissions.")}},ts=()=>{_t.current&&C&&(_t.current.stop(),N(!1),Jt.current&&(clearInterval(Jt.current),Jt.current=null));try{typeof y=="function"&&y()}catch($e){console.warn("Error releasing wake lock on stop:",$e)}};Ne.useEffect(()=>()=>{Jt.current&&(clearInterval(Jt.current),Jt.current=null)},[]);const fa=async()=>{R(""),fe(""),B(""),L(""),ie(""),pe(""),Te(""),O(!0),D(!0),m("review"),$({status:"processing",message:"Starting transcription..."});let $e;const ct=180*1e3;try{$e=setTimeout(()=>{D(!1),$({status:"error",message:"Request timed out after 3 minutes. Please try again."}),alert("Request timed out after 3 minutes. Please try again.")},ct);try{let pt="";const Lt=localStorage.getItem(ne.recordingFileMetadata);if(Lt){const dr=JSON.parse(Lt);if(!dr.path)throw new Error("Audio file path missing in metadata.");pt=dr.path,console.log("Using recording path from localStorage:",pt,dr.fromUrl?"(from URL)":"(from upload)")}else throw new Error("No audio file found. Please upload or record audio first.");const cr={recording_file_path:pt},Wt=await hg("/api/prompt-llm",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Gr()}`},method:"POST",body:JSON.stringify(cr)});if(!Wt.ok){D(!1);let dr=`Server error: ${Wt.status} ${Wt.statusText}`;$({status:"error",message:dr});try{const ir=await Wt.text();ir&&(dr+=`
${ir}`,$({status:"error",message:dr}))}catch(ir){console.warn("Could not read error response body:",ir)}throw new Error(dr)}if(!Wt.body||!Wt.body.getReader)throw new Error("No readable response body received from server");const rr=Wt.body.getReader();let ar="",Pr=!1;for(;;){const{done:dr,value:ir}=await rr.read();if(dr){if(!Pr)throw new Error("Stream ended unexpectedly without completion signal");break}const rs=new TextDecoder().decode(ir);ar+=rs;const Hn=ar.split(`
`);ar=Hn.pop()||"";for(const Cn of Hn)if(console.log("Received line:",Cn),Cn.trim())try{let Dr;if(Cn.startsWith("data: ")){const or=Cn.substring(6);or.trim()&&(Dr=JSON.parse(or))}else Dr=JSON.parse(Cn);if(Dr){if($(Dr),Dr.status==="error")throw $(Dr),D(!1),new Error(Dr.message||"Streamed error received");if(Dr.status==="transcription complete"&&Dr.data?.transcript&&fe(Dr.data.transcript),Dr.status==="soap note complete"&&Dr.data){Pr=!0;let or={},Vr={};try{const Mr=typeof Dr.data=="string"?JSON.parse(Dr.data):Dr.data;console.log("[generateSoapNote]: Parsed SOAP note data:",Mr),or=Mr.soap_note||{},Vr=Mr.billing||{};let Pi=typeof or.subjective=="string"?or.subjective:bl(or.subjective),xs=typeof or.objective=="string"?or.objective:bl(or.objective),oo=typeof or.assessment=="string"?or.assessment:bl(or.assessment),Qn=typeof or.plan=="string"?or.plan:bl(or.plan);B(Pi),L(xs),ie(oo),pe(Qn);let lo=typeof Vr=="string"?Vr:bl(Vr);Te(lo.trim()),D(!1),localStorage.setItem(ne.patientEncounterName,W),localStorage.setItem(ne.transcript,Dr.data.transcript),localStorage.setItem(ne.soapSubjective,Pi),localStorage.setItem(ne.soapObjective,xs),localStorage.setItem(ne.soapAssessment,oo),localStorage.setItem(ne.soapPlan,Qn),localStorage.setItem(ne.billingSuggestion,lo.trim())}catch(Mr){console.error("Failed to parse SOAP note JSON:",Mr,Dr.data),B(""),L(""),ie(""),pe(""),Te("")}}}}catch(Dr){throw new Error(`Failed to parse JSON line: ${Cn}
Error: ${Dr.message}`)}}}catch(pt){console.error("[generateSoapNote]: Error",pt);const Lt=typeof pt=="string"?pt:pt?.message||"";if(Lt.includes("expired token")||Lt.includes("401")){Gp(),r("/login");return}alert(`Error generating SOAP note: ${Lt}`),$({status:"error",message:`Failed to process recording: ${Lt}`}),D(!1)}clearTimeout($e)}catch(pt){clearTimeout($e),console.error("[generateSoapNote]: Error",pt),alert(`Error generating SOAP note: ${pt.message}`),$({status:"error",message:`Failed to process recording: ${pt.message}`}),D(!1)}},un=async()=>{q(!0);const $e=[];if(W.trim()||$e.push("Patient Encounter Name"),P.trim()||$e.push("Transcript"),re.trim()||$e.push("Subjective"),J.trim()||$e.push("Objective"),se.trim()||$e.push("Assessment"),Z.trim()||$e.push("Plan"),ye.trim()||$e.push("Billing Suggestion"),$e.length>0){alert("Required field(s): "+$e.map(ct=>`${ct}`).join(", "));return}z(!0);try{const ct={subjective:re.replace(/\r?\n/g,`
`),objective:J.replace(/\r?\n/g,`
`),assessment:se.replace(/\r?\n/g,`
`),plan:Z.replace(/\r?\n/g,`
`)};let pt={};const Lt=localStorage.getItem(ne.recordingFileMetadata);let cr="";if(Lt)try{cr=JSON.parse(Lt).path||""}catch(ar){console.error("Error parsing recording metadata:",ar),cr=""}const Wt={patientEncounter:{name:W},recording:{recording_file_path:cr},transcript:{transcript_text:P},soapNote_text:{soapNote:ct,billingSuggestion:ye}};console.log("Saving patient encounter with data:",Wt);const rr=await hg("/api/patient-encounters/complete",{method:"POST",headers:{Authorization:`Bearer ${Gr()}`,"Content-Type":"application/json"},body:JSON.stringify(Wt),cache:"no-store"});if(console.log("Save response:",rr),!rr.ok){let ar=`Failed to save patient encounter: ${rr.status} ${rr.statusText}`;try{const Pr=await rr.text();Pr&&(ar+=`
Server response: ${Pr}`),console.error(ar)}catch(Pr){ar+=`
Error reading server response: ${Pr.message}`}alert(ar),z(!1);return}Object.values(ne).forEach(ar=>localStorage.removeItem(ar)),_(null),v(null),R(""),fe(""),B(""),L(""),ie(""),pe(""),Te(""),z(!1),window.location.reload()}catch(ct){let pt="Error saving data: "+ct.message;ct.stack&&(pt+=`
Stack trace: `+ct.stack),alert(pt),z(!1)}},_s=$e=>{if(!isFinite($e)||isNaN($e))return"0:00";const ct=Math.floor($e/60),pt=Math.floor($e%60);return`${ct}:${pt.toString().padStart(2,"0")}`};return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-6",children:[H.jsx("h1",{className:"text-3xl font-bold mb-8",children:"New Patient Encounter"}),H.jsxs("div",{className:"border border-gray-200 rounded-lg mb-4",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>m("upload"),children:[H.jsx("span",{className:"text-lg font-semibold",children:"1. Upload or Record Patient Encounter Audio"}),H.jsx("span",{className:"text-xl",children:b==="upload"?"":"+"})]}),b==="upload"&&H.jsxs("div",{className:"p-6 border-t border-gray-200",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-4",children:[H.jsx("h3",{className:"text-lg font-medium",children:"Upload Audio"}),H.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[H.jsx("input",{type:"file",accept:"audio/*,video/mp4,.mp4,.m4a",onChange:ta,className:"hidden",id:"file-upload",disabled:C||S}),H.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-600 hover:text-blue-800",children:[H.jsx("div",{className:"text-4xl mb-2",children:""}),H.jsx("div",{children:"Click to upload audio file"}),H.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Max 50MB, 30 minutes duration",H.jsx("br",{}),"Supports MP3, WAV, WebM, OGG, MP4, M4A"]})]})]})]}),H.jsxs("div",{className:"space-y-4",children:[H.jsx("h3",{className:"text-lg font-medium",children:"Record Audio"}),H.jsxs("div",{className:"text-center space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[H.jsx("div",{className:"text-2xl",children:C?"":""}),H.jsx("div",{className:"text-sm text-gray-500",children:C?H.jsxs("span",{className:"inline-flex items-center gap-2",children:[H.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"Keep Awake"}),H.jsxs("span",{className:"text-xs",children:[l?h?"Active":f?"Pending":"Inactive":"Unsupported",!1]})]}):null})]}),C&&H.jsxs("div",{className:"text-lg font-mono",children:[_s(oe)," / 40:00"]}),H.jsx("button",{onClick:C?ts:ia,disabled:S,className:`px-6 py-3 rounded-lg font-medium ${C?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} disabled:opacity-50`,children:C?"Stop Recording":"Start Recording"})]})]})]}),(()=>{if(E||ee||o){const $e=ee||o;return H.jsx("div",{className:`mt-6 p-4 rounded-lg border ${$e?"bg-gray-100 border-gray-300 opacity-60 pointer-events-none select-none":"bg-green-50 border-green-200"}`,children:H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("p",{className:`font-medium ${$e?"text-gray-500":"text-green-800"}`,children:$e?o?"Loading recording from URL...":"Uploading recording...":E?.fromUrl?"Recording Loaded from URL":"Recording Ready"}),H.jsxs("p",{className:`text-sm ${$e?"text-gray-500":"text-green-600"}`,"data-path":E?.path||"",children:[E?.name||"recording.webm",E?.size&&` (${((E.size||0)/(1024*1024)).toFixed(1)}MB)`]}),!$e&&E?.signedUrl&&H.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[H.jsx("audio",{ref:wt,src:E.signedUrl,onLoadStart:Li,onLoadedMetadata:Wr,onTimeUpdate:yn,onEnded:Rn,onError:Za,preload:"metadata",style:{display:"none"}}),H.jsx("button",{type:"button",onClick:ra,disabled:Ut||Ci!=="loaded",className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:" Play"}),H.jsx("button",{type:"button",onClick:es,disabled:!Ut,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:" Pause"}),H.jsx("input",{type:"range",min:0,max:isFinite(Xt)&&Xt>0?Xt:E.duration||100,step:.1,value:Mt,onChange:ct=>na(parseFloat(ct.target.value)),className:"w-32 md:w-48",disabled:Ci!=="loaded"}),H.jsxs("span",{className:"text-xs text-gray-700 font-mono min-w-[80px] text-right",children:[_s(Mt)," /"," ",_s(isFinite(Xt)?Xt:E.duration||0)]}),H.jsxs("span",{className:"text-xs",children:[Ci==="loading"&&H.jsx("span",{className:"text-orange-600",children:" Loading..."}),Ci==="loaded"&&H.jsx("span",{className:"text-green-600",children:" Ready"}),Ci==="error"&&H.jsx("span",{className:"text-red-600",children:" Error"})]})]})]}),H.jsx("button",{onClick:fa,disabled:S||ee||o||!E,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium disabled:opacity-50",children:S?"Processing...":o?"Loading Recording...":"Generate SOAP Note"})]})})}return null})()]})]}),H.jsxs("div",{className:`border border-gray-200 rounded-lg ${T?"":"opacity-60 pointer-events-none select-none"}`,children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>m("review"),disabled:!T,children:[H.jsx("span",{className:"text-lg font-semibold",children:"2. Edit Generated Transcript and SOAP Note"}),H.jsx("span",{className:"text-xl",children:b==="review"?"":"+"})]}),b==="review"&&H.jsxs("div",{className:"p-6 border-t border-gray-200",children:[K&&H.jsxs("div",{className:`mb-6 p-4 rounded-lg ${K.status==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"}`,children:[H.jsx("div",{className:"font-medium capitalize",children:K.status}),H.jsx("div",{className:"text-sm",children:K.message})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Patient Encounter Name"}),H.jsx("input",{type:"text",value:W,onChange:$e=>R($e.target.value),disabled:ke||S,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white",placeholder:"Patient Encounter Name...",maxLength:100})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Transcript"}),H.jsx("textarea",{value:P,onChange:$e=>fe($e.target.value),disabled:ke||S,className:"w-full h-100 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"20rem"},placeholder:"Transcript will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:P,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Subjective"}),H.jsx("textarea",{value:re,onChange:$e=>B($e.target.value),disabled:ke||S,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Subjective notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:re,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Objective"}),H.jsx("textarea",{value:J,onChange:$e=>L($e.target.value),disabled:ke||S,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Objective notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:J,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Assessment"}),H.jsx("textarea",{value:se,onChange:$e=>ie($e.target.value),disabled:ke||S,className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Assessment notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:se,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Plan"}),H.jsx("textarea",{value:Z,onChange:$e=>pe($e.target.value),disabled:ke||S,className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Plan notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:Z,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Billing Suggestion"}),H.jsx("textarea",{value:ye,onChange:$e=>Te($e.target.value),disabled:ke||S,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"20rem"},placeholder:"Billing suggestion will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:ye,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"flex flex-col items-end",children:[H.jsxs("div",{className:"flex gap-4",children:[H.jsx(ob,{patientEncounterData:{name:W},transcriptData:{transcript_text:P},soapNotesData:[{soapNote_text:{soapNote:{subjective:re,objective:J,assessment:se,plan:Z}}}],billingSuggestionData:ye}),H.jsx("button",{onClick:()=>X(!0),disabled:ke,className:`bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium ${ke?"opacity-50 cursor-not-allowed":""}`,children:"Preview & Save"})]}),M&&H.jsx("div",{className:"mt-3 text-red-600 text-sm text-right w-full",children:M})]})]})]})]}),H.jsx(d0,{isOpen:G,onClose:()=>X(!1),transcript:P,setTranscript:fe,soapSubjective:re,setSoapSubjective:B,soapObjective:J,setSoapObjective:L,soapAssessment:se,setSoapAssessment:ie,soapPlan:Z,setSoapPlan:pe,billingSuggestion:ye,setBillingSuggestion:Te,patientEncounterName:W,setPatientEncounterName:R,onSave:un,isSaving:ke,errorMessage:M,sections:["transcript","soapNote","billingSuggestion"]})]})}const TD=()=>{const r=Ja(),[e,t]=Ne.useState([]),[i,s]=Ne.useState("created_at");Ne.useEffect(()=>{(async()=>{if(!Gr()){r("/login");return}try{const f=await q3();t(Object.values(f))}catch{r("/login")}})()},[r]);const o=[...e].sort((l,h)=>i==="created_at"?new Date(h.created_at)-new Date(l.created_at):i==="updated_at"?new Date(h.updated_at)-new Date(l.updated_at):i==="A-Z"?(l.name||"").localeCompare(h.name||""):0),c=l=>{r(`/edit-patient-encounter?id=${l}`)};return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-8",children:[H.jsxs("div",{className:"flex justify-between items-center mb-8",children:[H.jsxs("h1",{className:"text-3xl font-bold",children:["View Patient Encounters (",e.length,")"]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{htmlFor:"sortBy",className:"text-sm font-medium text-gray-700",children:"Sort By:"}),H.jsxs("select",{id:"sortBy",value:i,onChange:l=>s(l.target.value),className:"border rounded px-2 py-1 text-sm",children:[H.jsx("option",{value:"created_at",children:"Date Created"}),H.jsx("option",{value:"updated_at",children:"Date Updated"}),H.jsx("option",{value:"A-Z",children:"A-Z"})]})]})]}),H.jsx("div",{id:"allPatientEncounters",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",width:"100%",margin:"0 auto"},className:"responsive-grid",children:o.length===0?H.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[H.jsx("div",{className:"empty-icon",children:""}),H.jsx("div",{className:"empty-text",children:"No patient encounters found"})]}):o.map(l=>H.jsxs("div",{className:"encounter-card","data-encounter-id":l.id,style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",minWidth:0,width:"100%",display:"flex",flexDirection:"column",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer"},onMouseEnter:h=>{h.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",h.currentTarget.style.transform="translateY(-4px) scale(1.03)"},onMouseLeave:h=>{h.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",h.currentTarget.style.transform="none"},onClick:()=>c(l.id),children:[H.jsx("div",{className:"recent-icon",style:{fontSize:"2rem",marginBottom:"8px"},children:""}),H.jsx("div",{className:"recent-title",style:{fontWeight:"bold",marginBottom:"6px"},children:l.name||""}),H.jsx("div",{className:"recent-preview",style:{color:"#555",marginBottom:"12px",fontSize:"0.95em"},children:ic(l.created_at)})]},l.id))})]})]})};function RD(){Ja();const[r]=Sv(),e=r.get("id"),[t,i]=Ne.useState(null),[s,o]=Ne.useState(""),[c,l]=Ne.useState(""),[h,f]=Ne.useState([]),[p,y]=Ne.useState(""),[b,m]=Ne.useState(""),[A,_]=Ne.useState(""),[E,v]=Ne.useState(""),[C,N]=Ne.useState(""),[S,D]=Ne.useState(""),[K,$]=Ne.useState(""),[ee,P]=Ne.useState(0),[fe,re]=Ne.useState(0),[B,J]=Ne.useState(!1),[L,se]=Ne.useState(0),[ie,Z]=Ne.useState(0),[pe,ye]=Ne.useState("idle"),[Te,W]=Ne.useState(!1),R=Ne.useRef(null),[G,X]=Ne.useState(null),[ce,ae]=Ne.useState("created_at"),[I,U]=Ne.useState(s),[ne,oe]=Ne.useState(!1),[Q,ue]=Ne.useState(!1),[ke,z]=Ne.useState(""),[te,q]=Ne.useState(null),[T,O]=Ne.useState({recording:!0,transcript:!0,soapNotes:!0,editSoapNote:!1}),[M,ve]=Ne.useState(null),xe=Je=>{O(lt=>({...lt,[Je]:!lt[Je]}))},we=[...h].sort((Je,lt)=>ce==="created_at"?new Date(lt.created_at)-new Date(Je.created_at):ce==="updated_at"?new Date(lt.updated_at)-new Date(Je.updated_at):ce==="A-Z"?(Je.soapNote_text?.soapNote?.subjective||"").localeCompare(lt.soapNote_text?.soapNote?.subjective||""):0);Ne.useEffect(()=>{if(!e)return;(async()=>{try{const lt=await H3(e);if(console.log("Fetched patient encounter data:",lt),i(lt.patientEncounter.id||null),o(lt.patientEncounter.name||""),l(lt.transcript.transcript_text||""),D(lt.recording.recording_file_signed_url||""),lt.soapNotes){const _t=B0(lt.soapNotes);f(_t)}}catch(lt){console.error("Error fetching patient encounter data:",lt),z(`Failed to load patient encounter: ${lt.message}`),D(""),J(!1),se(0),Z(0),ye("error")}})()},[e]);const je=()=>{if(R.current){const Je=R.current.duration;isFinite(Je)&&Je>0?(Z(Je),J(!0),ye("loaded")):(Z(fe||0),J(!0),ye("loaded"))}},qe=()=>{R.current&&se(R.current.currentTime)},Me=()=>{se(0),W(!1)},Ke=Je=>{ye("error"),J(!1),alert("Error loading audio file.")},at=async()=>{if(R.current&&B)try{await R.current.play(),W(!0)}catch(Je){alert(`Error playing audio: ${Je.message}`)}},ht=()=>{R.current&&(R.current.pause(),W(!1))},dt=Je=>{R.current&&B&&(R.current.currentTime=Math.min(Je,ie||fe||Je),se(R.current.currentTime))},Rt=Je=>{if(!isFinite(Je)||isNaN(Je))return"0:00";const lt=Math.floor(Je/60),_t=Math.floor(Je%60);return`${lt}:${_t.toString().padStart(2,"0")}`},mt=async Je=>{oe(!0);const lt=[];if(s.trim()||lt.push("Patient Encounter Name"),c.trim()||lt.push("Transcript"),lt.length>0){alert("Required field(s): "+lt.join(", ")),oe(!1);return}try{await gk(Je,{name:s,transcript_text:c}),oe(!1),O(_t=>({..._t,editSoapNote:!1})),ve(null),X(null),window.location.reload()}catch(_t){alert("Error saving data: "+_t.message),oe(!1)}},Sr=async Je=>{oe(!0);const lt=[];if(s.trim()||lt.push("Patient Encounter Name"),p.trim()||lt.push("Subjective"),b.trim()||lt.push("Objective"),A.trim()||lt.push("Assessment"),E.trim()||lt.push("Plan"),C.trim()||lt.push("Billing Suggestion"),lt.length>0){alert("Required field(s): "+lt.join(", ")),oe(!1);return}try{const _t={subjective:p.replace(/\r?\n/g,`
`),objective:b.replace(/\r?\n/g,`
`),assessment:A.replace(/\r?\n/g,`
`),plan:E.replace(/\r?\n/g,`
`)};await G3(Je,{soapNote_text:{soapNote:_t,billingSuggestion:C}}),oe(!1),window.location.reload()}catch(_t){alert("Error saving data: "+_t.message),oe(!1)}},bt=()=>{const Je=h.find(lt=>lt.id===G);if(console.log("Editing SOAP Note:",Je),Je){ve(Je),y(Je.soapNote_text?.soapNote?.subjective||""),m(Je.soapNote_text?.soapNote?.objective||""),_(Je.soapNote_text?.soapNote?.assessment||""),v(Je.soapNote_text?.soapNote?.plan||"");const lt=Je.soapNote_text?.billingSuggestion||{},_t=l0("",lt,0);N(_t),O(Et=>({...Et,soapNotes:!1,editSoapNote:!0}))}};return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-8",children:[H.jsxs("h1",{className:"text-3xl font-bold",children:["Edit Patient Encounter: ",s]}),H.jsx(ob,{patientEncounterData:{name:s},transcriptData:{transcript_text:c},soapNotesData:h,billingSuggestionData:C})]}),H.jsxs("div",{className:"border border-gray-200 rounded-lg mb-4",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>xe("recording"),disabled:!1,children:[H.jsx("span",{className:"text-lg font-semibold",children:"1. Patient Encounter Recording"}),H.jsx("span",{className:"text-xl",children:T.recording?"":"+"})]}),T.recording!==!1&&H.jsx("div",{className:"p-6 border-t border-gray-200",children:S?H.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:H.jsxs("div",{className:"flex-1",children:[H.jsx("p",{className:"font-medium text-green-800",children:"Recording Ready"}),H.jsxs("p",{className:"text-sm text-green-600",children:[K," (",(ee/(1024*1024)).toFixed(1),"MB)",fe>0&&` - ${Rt(fe)}`]}),H.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[H.jsx("audio",{ref:R,src:S,onLoadedMetadata:je,onTimeUpdate:qe,onEnded:Me,onError:Ke,preload:"metadata",style:{display:"none"}}),H.jsx("button",{type:"button",onClick:at,disabled:Te||pe!=="loaded",className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:" Play"}),H.jsx("button",{type:"button",onClick:ht,disabled:!Te,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:" Pause"}),H.jsx("input",{type:"range",min:0,max:isFinite(ie)&&ie>0?ie:fe||100,step:.1,value:L,onChange:Je=>dt(parseFloat(Je.target.value)),className:"w-32 md:w-48",disabled:B===!1}),H.jsxs("span",{className:"text-xs text-gray-700 font-mono min-w-[80px] text-right",children:[Rt(L)," /"," ",Rt(isFinite(ie)?ie:fe||0)]}),H.jsxs("span",{className:"text-xs",children:[pe==="loading"&&H.jsx("span",{className:"text-orange-600",children:" Loading..."}),pe==="loaded"&&H.jsx("span",{className:"text-green-600",children:" Ready"}),pe==="error"&&H.jsx("span",{className:"text-red-600",children:" Error"})]})]})]})}):H.jsx("div",{className:"text-red-600",children:"No recording found for this patient encounter."})})]}),H.jsxs("div",{className:"border border-gray-200 rounded-lg mb-4",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>xe("transcript"),disabled:!1,children:[H.jsx("span",{className:"text-lg font-semibold",children:"2. Edit Transcript and SOAP Note"}),H.jsx("span",{className:"text-xl",children:T.transcript?"":"+"})]}),T.transcript&&H.jsxs("div",{className:"p-6 border-t border-gray-200",children:[ke&&H.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-50 border border-red-200 text-red-800",children:[H.jsx("div",{className:"font-medium capitalize",children:"Error"}),H.jsx("div",{className:"text-sm",children:ke})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Transcript"}),H.jsxs("div",{children:[H.jsx("textarea",{value:c,onChange:Je=>l(Je.target.value),disabled:ne,className:"w-full h-100 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"20rem"},placeholder:"Transcript will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:c,label:"Copy",placement:"right"})})]})]}),H.jsx("div",{className:"flex flex-col items-end",children:H.jsxs("div",{className:"flex gap-4",children:[H.jsx("button",{onClick:()=>ue({type:"transcript"}),disabled:ne,className:`bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium ${ne?"opacity-50 cursor-not-allowed":""}`,children:"Preview & Save Transcript"}),ke&&H.jsx("div",{className:"mt-3 text-red-600 text-sm text-right w-full",children:ke})]})})]})]}),H.jsxs("div",{className:"border border-gray-200 rounded-lg mb-4",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>xe("soapNotes"),disabled:!1,children:[H.jsx("span",{className:"text-lg font-semibold",children:"3. Select Associated SOAP Note"}),H.jsx("span",{className:"text-xl",children:T.soapNotes?"":"+"})]}),T.soapNotes&&H.jsxs("div",{className:"p-6 border-t border-gray-200",children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsx("h3",{className:"text-xl font-bold",children:"Associated SOAP Notes"}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"sortSoapNotes",className:"mr-2 text-sm font-medium text-gray-700",children:"Sort By:"}),H.jsxs("select",{id:"sortSoapNotes",value:ce,onChange:Je=>ae(Je.target.value),className:"border rounded px-2 py-1 text-sm",children:[H.jsx("option",{value:"created_at",children:"Created at"}),H.jsx("option",{value:"updated_at",children:"Updated at"}),H.jsx("option",{value:"A-Z",children:"A-Z"})]})]})]}),H.jsx("div",{id:"associatedSoapNotes",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",width:"100%",margin:"0 auto"},children:we.length===0?H.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[H.jsx("div",{className:"empty-icon",children:""}),H.jsx("div",{className:"empty-text",children:"No SOAP notes yet"})]}):we.map(Je=>H.jsxs("div",{className:"soap-card","data-soapnote-id":Je.id,style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",minWidth:0,width:"100%",display:"flex",flexDirection:"column",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",position:"relative",border:G===Je.id?"2px solid #22c55e":""},onMouseEnter:lt=>{lt.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",lt.currentTarget.style.transform="translateY(-4px) scale(1.03)"},onMouseLeave:lt=>{lt.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",lt.currentTarget.style.transform="none"},onClick:()=>X(Je.id),children:[H.jsx("div",{className:"recent-icon",style:{fontSize:"2rem",marginBottom:"8px"},children:""}),H.jsx("div",{className:"recent-title",style:{fontWeight:"bold",marginBottom:"6px"},children:ic(Je.created_at)}),H.jsx("div",{className:"recent-preview",style:{color:"#555",marginBottom:"12px",fontSize:"0.95em"},children:Je.soapNote_text?.soapNote?.subjective?Je.soapNote_text.soapNote.subjective.substring(0,200)+"...":"No content"}),G===Je.id&&H.jsx("div",{style:{position:"absolute",top:10,right:10,background:"#22c55e",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"1.2rem",boxShadow:"0 2px 6px rgba(34,197,94,0.2)"},children:""})]},Je.id))}),H.jsx("div",{className:"flex justify-end mt-4",children:H.jsx("button",{className:`bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium ${G?"":"opacity-50 cursor-not-allowed"}`,disabled:!G,onClick:bt,children:"Edit this SOAP note"})})]})]}),H.jsxs("div",{className:"border border-gray-200 rounded-lg mb-4",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>{M&&xe("editSoapNote")},disabled:!M,children:[H.jsx("span",{className:"text-lg font-semibold",children:"4. Edit Selected SOAP Note"}),H.jsx("span",{className:"text-xl",children:T.editSoapNote?"":"+"})]}),T.editSoapNote&&M&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Subjective"}),H.jsx("textarea",{value:p,onChange:Je=>y(Je.target.value),className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Subjective notes..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:p,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Objective"}),H.jsx("textarea",{value:b,onChange:Je=>m(Je.target.value),className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Objective notes..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:b,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Assessment"}),H.jsx("textarea",{value:A,onChange:Je=>_(Je.target.value),className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Assessment notes..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:A,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Plan"}),H.jsx("textarea",{value:E,onChange:Je=>v(Je.target.value),className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Plan notes..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:E,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Billing Suggestion"}),H.jsx("textarea",{value:C,onChange:Je=>N(Je.target.value),className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"20rem"},placeholder:"Billing suggestion..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:C,label:"Copy",placement:"right"})})]}),H.jsx("div",{className:"p-6 border-t border-gray-200",children:H.jsx("div",{className:"flex flex-col items-end",children:H.jsx("button",{onClick:()=>ue({type:"soapNoteBillingSuggestion"}),disabled:ne,className:`bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium ${ne?"opacity-50 cursor-not-allowed":""}`,children:"Preview & Save SOAP Note and Billing Suggestion"})})})]})]})]}),Q&&Q.type==="transcript"&&H.jsx(d0,{isOpen:!0,onClose:()=>ue(!1),transcript:c,setTranscript:l,patientEncounterName:I,setPatientEncounterName:U,onSave:()=>mt(t),isSaving:ne,errorMessage:ke,sections:["transcript"]}),Q&&Q.type==="soapNoteBillingSuggestion"&&H.jsx(d0,{isOpen:!0,onClose:()=>ue(!1),soapSubjective:p,setSoapSubjective:y,soapObjective:b,setSoapObjective:m,soapAssessment:A,setSoapAssessment:_,soapPlan:E,setSoapPlan:v,billingSuggestion:C,setBillingSuggestion:N,patientEncounterName:I,setPatientEncounterName:U,onSave:()=>Sr(G),isSaving:ne,errorMessage:ke,sections:["soapNote","billingSuggestion"],isPatientEncounterNameEditable:!1})]})}function CD({selectedRecording:r,recordingData:e,loadingRecording:t,deletingRecording:i,onClose:s,onDeleteClick:o}){if(!r)return null;const c=h=>h?.split("/").pop()||"unknown",l=h=>h?`${(h/(1024*1024)).toFixed(1)} MB`:"Unknown size";return H.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:s,children:H.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:h=>h.stopPropagation(),children:[H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[H.jsx("h2",{style:{margin:0,fontSize:"1.5rem"},children:"Recording Preview"}),H.jsx("button",{onClick:s,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",padding:"5px"},children:""})]}),H.jsxs("div",{style:{marginBottom:"20px"},children:[H.jsxs("h3",{children:[H.jsx("strong",{children:"Name:"})," ",c(r.path)]}),H.jsxs("p",{children:[H.jsx("strong",{children:"Size:"})," ",l(r.size)]}),H.jsxs("p",{children:[H.jsx("strong",{children:"Created:"})," ",r.created_at?ic(r.created_at):"Unknown"]}),r.patientEncounter&&H.jsxs("p",{children:[H.jsx("strong",{children:"Patient Encounter:"})," ",r.patientEncounter.name||"Unnamed Encounter"]})]}),H.jsx("div",{style:{padding:"4px",backgroundColor:"#f3f4f6",borderRadius:"8px"},children:r.missing?H.jsxs("div",{style:{textAlign:"center",color:"#ef4444"},children:[H.jsx("p",{style:{margin:0,fontWeight:"bold"},children:" File Missing from Storage"}),H.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.9rem"},children:"This recording file cannot be found in storage and cannot be played."})]}):e?t?H.jsx("div",{style:{textAlign:"center",color:"#666"},children:H.jsx("p",{style:{margin:0},children:"Loading audio player..."})}):e&&e.recording_file_signed_url?H.jsx("div",{children:H.jsxs("audio",{controls:!0,style:{width:"100%"},preload:"metadata",children:[H.jsx("source",{src:e.recording_file_signed_url,type:"audio/mpeg"}),H.jsx("source",{src:e.recording_file_signed_url,type:"audio/wav"}),H.jsx("source",{src:e.recording_file_signed_url,type:"audio/ogg"}),H.jsx("source",{src:e.recording_file_signed_url,type:"audio/webm"}),"Your browser does not support the audio element."]})}):H.jsx("div",{style:{textAlign:"center",color:"#ef4444"},children:H.jsx("p",{style:{margin:0},children:"Failed to load audio player. Please try again."})}):H.jsx("div",{style:{textAlign:"center",color:"#666"},children:H.jsx("p",{style:{margin:0},children:" Click to load audio player"})})}),H.jsxs("div",{style:{marginTop:"20px"},children:[!r.id&&H.jsxs("div",{style:{display:"flex",gap:"10px"},children:[!r.missing&&H.jsx("button",{onClick:()=>{const h=r.path;router.push(`/new-patient-encounter?recordingPath=${encodeURIComponent(h)}`)},style:{backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"12px 16px",fontSize:"1rem",cursor:"pointer",fontWeight:"bold",flex:"1",lineHeight:"1.2",wordWrap:"break-word",textAlign:"center"},onMouseOver:h=>h.target.style.backgroundColor="#059669",onMouseOut:h=>h.target.style.backgroundColor="#10b981",children:"Create Patient Encounter"}),H.jsx("button",{onClick:o,disabled:i,style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"12px 16px",fontSize:"1rem",cursor:i?"not-allowed":"pointer",fontWeight:"bold",flex:"1",lineHeight:"1.2",wordWrap:"break-word",textAlign:"center"},onMouseOver:h=>!i&&(h.target.style.backgroundColor="#dc2626"),onMouseOut:h=>!i&&(h.target.style.backgroundColor="#ef4444"),children:i?"Deleting...":"Delete Recording"})]}),r.id&&H.jsxs("div",{style:{display:"flex",gap:"10px"},children:[H.jsx("button",{onClick:()=>{const h=r.patientEncounter?.id;h&&router.push(`/edit-patient-encounter?id=${h}`)},style:{backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",padding:"12px 16px",fontSize:"1rem",cursor:"pointer",fontWeight:"bold",flex:"1",lineHeight:"1.2",wordWrap:"break-word",textAlign:"center"},onMouseOver:h=>h.target.style.backgroundColor="#1d4ed8",onMouseOut:h=>h.target.style.backgroundColor="#2563eb",children:"View Patient Encounter"}),H.jsx("button",{onClick:o,disabled:i,style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",padding:"12px 16px",fontSize:"1rem",cursor:i?"not-allowed":"pointer",fontWeight:"bold",flex:"1",lineHeight:"1.2",wordWrap:"break-word",textAlign:"center"},onMouseOver:h=>!i&&(h.target.style.backgroundColor="#dc2626"),onMouseOut:h=>!i&&(h.target.style.backgroundColor="#ef4444"),children:i?"Deleting...":" Delete Recording"})]})]})]})})}function OD(){const r=Ja(),[e,t]=Ne.useState([]),[i,s]=Ne.useState([]),[o,c]=Ne.useState("name"),[l,h]=Ne.useState("name"),[f,p]=Ne.useState("attached"),[y,b]=Ne.useState(!0),[m,A]=Ne.useState(null),[_,E]=Ne.useState(null),[v,C]=Ne.useState(!1),[N,S]=Ne.useState(!1),D=Ne.useCallback(async(se,ie="name")=>{if(!Gr())return r("/login"),[];try{return await xk({attached:se,limit:100,offset:0,sortBy:ie,order:"asc"})}catch(pe){return console.error(`Error fetching ${se?"attached":"unattached"} recordings:`,pe),(pe.message.includes("401")||pe.message.includes("User not logged in"))&&r("/login"),[]}},[r]),K=Ne.useCallback(async(se=o,ie=l)=>{b(!0);const[Z,pe]=await Promise.all([D(!0,se),D(!1,ie)]);t(Z),s(pe),b(!1)},[o,l,D,b,t,s]);Ne.useEffect(()=>{K()},[K]);const $=se=>{c(se),K(se,l)},ee=se=>{h(se),K(o,se)},P=se=>se?.split("/").pop()||"unknown",fe=se=>se?`${(se/(1024*1024)).toFixed(1)} MB`:"Unknown size",re=async se=>{A(se),C(!0),E(null);const ie=Gr();if(!ie){r("/login");return}try{if(se.id)try{const Z=await Sk(se.id);E(Z)}catch(Z){console.error("Failed to fetch recording data:",Z)}else{const Z=Ux(`Bearer ${ie}`),{data:pe,error:ye}=await Z.storage.from("audio-files").createSignedUrl(se.path,3600);ye?console.error("Signed URL error:",ye):E({...se,recording_file_signed_url:pe.signedUrl,id:null})}}catch(Z){console.error("Error fetching recording data:",Z)}finally{C(!1)}},B=()=>{A(null),E(null)},J=async()=>{if(!m)return;let se;if(m.id?se=`Warning: This will delete the entire Patient Encounter!

Deleting this recording will also permanently delete:
 The associated Patient Encounter
 All Transcripts
 All SOAP Notes

Are you sure you want to continue?`:se="Are you sure you want to permanently delete this recording file from storage?",!confirm(se))return;S(!0);const ie=Gr();if(!ie){r("/login");return}try{if(m.id)console.log("Would delete patient encounter and all related data for recording:",m.id),alert("Delete functionality for attached recordings will be implemented soon. This would delete the entire patient encounter, transcript, and SOAP notes.");else{const Z=Ux(`Bearer ${ie}`),{error:pe}=await Z.storage.from("audio-files").remove([m.path]);pe?(console.error("Storage delete error:",pe),alert("Failed to delete recording. Please try again.")):(s(ye=>ye.filter(Te=>Te.path!==m.path)),B())}}catch(Z){console.error("Error deleting recording:",Z),alert("Failed to delete recording. Please try again.")}finally{S(!1)}},L=({recording:se,isAttached:ie})=>H.jsxs("div",{className:"recording-card","data-recording-path":se.path,"data-patient-encounter-id":ie?se.patientEncounter?.id:void 0,style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",minWidth:0,width:"100%",display:"flex",flexDirection:"column",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer",border:se.missing?"2px solid #ef4444":"none"},onMouseEnter:Z=>{Z.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",Z.currentTarget.style.transform="translateY(-4px) scale(1.03)"},onMouseLeave:Z=>{Z.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",Z.currentTarget.style.transform="none"},onClick:()=>re(se),children:[H.jsx("div",{className:"recording-icon",style:{fontSize:"2rem",marginBottom:"8px"},children:se.missing?"":""}),H.jsx("div",{className:"recording-title",style:{fontWeight:"bold",marginBottom:"6px",fontSize:"1rem",wordBreak:"break-word"},children:P(se.path)}),ie&&se.patientEncounter&&H.jsx("div",{className:"patient-encounter-name",style:{fontWeight:"bold",fontSize:"0.85rem",color:"#2563eb",marginBottom:"6px",wordBreak:"break-word"},children:se.patientEncounter.name||"Unnamed Encounter"}),H.jsx("div",{className:"recording-size",style:{color:"#666",fontSize:"0.9rem",marginBottom:"8px"},children:fe(se.size)}),H.jsx("div",{className:"recording-date",style:{color:"#555",fontSize:"0.85em"},children:se.created_at?ic(se.created_at):"Unknown date"}),se.missing&&H.jsx("div",{style:{color:"#ef4444",fontSize:"0.8rem",marginTop:"8px",fontStyle:"italic"},children:"File missing from storage"})]},se.path);return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-8",children:[H.jsx("div",{className:"flex justify-between items-center mb-8",children:H.jsxs("h1",{className:"text-3xl font-bold",children:["View Recordings (",e.length+i.length,")"]})}),y?H.jsx("div",{style:{textAlign:"center",padding:"40px"},children:H.jsx("p",{children:"Loading recordings..."})}):H.jsx(H.Fragment,{children:H.jsxs("div",{className:"tabs",style:{display:"flex",borderBottom:"2px solid #e0e0e0",marginBottom:"20px",backgroundColor:"#f8f9fa"},children:[H.jsxs("button",{className:`tab-btn${f==="attached"?" active":""}`,onClick:()=>p("attached"),style:{flex:1,padding:"12px 20px",border:"none",backgroundColor:f==="attached"?"#007bff":"transparent",color:f==="attached"?"white":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:"500",borderBottom:f==="attached"?"3px solid #0056b3":"3px solid transparent",transition:"all 0.3s ease"},children:[" Attached (",e.length,")"]}),H.jsxs("button",{className:`tab-btn${f==="unattached"?" active":""}`,onClick:()=>p("unattached"),style:{flex:1,padding:"12px 20px",border:"none",backgroundColor:f==="unattached"?"#007bff":"transparent",color:f==="unattached"?"white":"#495057",cursor:"pointer",fontSize:"14px",fontWeight:"500",borderBottom:f==="unattached"?"3px solid #0056b3":"3px solid transparent",transition:"all 0.3s ease"},children:[" Unattached (",i.length,")"]})]})}),!y&&f==="attached"&&H.jsxs("div",{className:"tab-content",style:{display:f==="attached"?"block":"none"},children:[H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[H.jsx("div",{}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{htmlFor:"attachedSortBy",className:"text-sm font-medium text-gray-700",children:"Sort by"}),H.jsxs("select",{id:"attachedSortBy",value:o,onChange:se=>$(se.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[H.jsx("option",{value:"name",children:"A-Z"}),H.jsx("option",{value:"created_at",children:"Date Created"}),H.jsx("option",{value:"updated_at",children:"Date Updated"})]})]})]}),H.jsx("div",{className:"responsive-grid",id:"attachedRecordings",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",width:"100%",margin:"0 auto"},children:e.length===0?H.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[H.jsx("div",{className:"empty-icon",children:""}),H.jsx("div",{className:"empty-text",children:"No attached recordings found"})]}):e.map(se=>H.jsx(L,{recording:se,isAttached:!0},se.path))})]}),!y&&f==="unattached"&&H.jsxs("div",{className:"tab-content",style:{display:f==="unattached"?"block":"none"},children:[H.jsx("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",padding:"12px 16px",marginBottom:"16px",fontSize:"14px",color:"#92400e"},children:" These recordings have not been linked to a patient encounter. Please review and attach them, otherwise they will be removed per our data retention policy."}),H.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[H.jsx("div",{}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{htmlFor:"unattachedSortBy",className:"text-sm font-medium text-gray-700",children:"Sort by"}),H.jsxs("select",{id:"unattachedSortBy",value:l,onChange:se=>ee(se.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[H.jsx("option",{value:"name",children:"A-Z"}),H.jsx("option",{value:"created_at",children:"Date Created"}),H.jsx("option",{value:"updated_at",children:"Date Updated"})]})]})]}),H.jsx("div",{className:"responsive-grid",id:"unattachedRecordings",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",width:"100%",margin:"0 auto"},children:i.length===0?H.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[H.jsx("div",{className:"empty-icon",children:""}),H.jsx("div",{className:"empty-text",children:"No unattached recordings found"})]}):i.map(se=>H.jsx(L,{recording:se,isAttached:!1},se.path))})]})]}),H.jsx(CD,{selectedRecording:m,recordingData:_,loadingRecording:v,deletingRecording:N,onClose:B,onDeleteClick:J})]})}function LD(){const r=Ja(),[e,t]=Ne.useState([]),[i,s]=Ne.useState("created_at");Ne.useEffect(()=>{(async()=>{if(!Gr()){r("/login");return}try{const f=await z3();if(!f||Object.keys(f).length===0){r("/login");return}const p=B0(f);t(p),console.log("Fetched SOAP notes:",p)}catch{r("/login")}})()},[r]);const o=[...e].sort((l,h)=>i==="created_at"?new Date(h.created_at)-new Date(l.created_at):i==="updated_at"?new Date(h.updated_at)-new Date(l.updated_at):i==="A-Z"?(l.soapNote_text?.soapNote?.subjective||"").localeCompare(h.soapNote_text?.soapNote?.subjective||""):0),c=l=>{r(`/edit-soap-note?id=${l}`)};return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-8",children:[H.jsxs("div",{className:"flex justify-between items-center mb-8",children:[H.jsxs("h1",{className:"text-3xl font-bold",children:["View SOAP Notes (",e.length,")"]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("label",{htmlFor:"sortBy",className:"text-sm font-medium text-gray-700",children:"Sort By:"}),H.jsxs("select",{id:"sortBy",value:i,onChange:l=>s(l.target.value),className:"border rounded px-2 py-1 text-sm",children:[H.jsx("option",{value:"created_at",children:"Date Created"}),H.jsx("option",{value:"updated_at",children:"Date Updated"}),H.jsx("option",{value:"A-Z",children:"A-Z"})]})]})]}),H.jsx("div",{id:"allSoapNotes",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px",width:"100%",margin:"0 auto"},className:"responsive-grid",children:o.length===0?H.jsxs("div",{className:"empty-state",style:{gridColumn:"1 / -1"},children:[H.jsx("div",{className:"empty-icon",children:""}),H.jsx("div",{className:"empty-text",children:"No SOAP notes found"})]}):o.map(l=>H.jsxs("div",{className:"soap-card","data-soapnote-id":l.id,style:{background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:"20px",minWidth:0,width:"100%",display:"flex",flexDirection:"column",transition:"box-shadow 0.2s, transform 0.2s",cursor:"pointer"},onMouseEnter:h=>{h.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.16)",h.currentTarget.style.transform="translateY(-4px) scale(1.03)"},onMouseLeave:h=>{h.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",h.currentTarget.style.transform="none"},onClick:()=>c(l.id),children:[H.jsx("div",{className:"recent-icon",style:{fontSize:"2rem",marginBottom:"8px"},children:""}),H.jsx("div",{className:"recent-title",style:{fontWeight:"bold",marginBottom:"6px"},children:ic(l.created_at)}),H.jsx("div",{className:"recent-preview",style:{color:"#555",marginBottom:"12px",fontSize:"0.95em"},children:l.soapNote_text?.soapNote?.subjective?l.soapNote_text.soapNote.subjective.substring(0,200)+"...":"No content"})]},l.id))})]})]})}function jD(){Ja();const[r]=Sv(),e=r.get("id"),t=e?parseInt(e,10):null,[i,s]=Ne.useState(""),[o,c]=Ne.useState(""),[l,h]=Ne.useState(""),[f,p]=Ne.useState(""),[y,b]=Ne.useState(""),[m,A]=Ne.useState(""),[_,E]=Ne.useState(""),[v,C]=Ne.useState(""),[N,S]=Ne.useState(0),[D,K]=Ne.useState(!1),[$,ee]=Ne.useState(0),[P,fe]=Ne.useState(0),[re,B]=Ne.useState("idle"),[J,L]=Ne.useState(!1);Ne.useRef(null);const[se,ie]=Ne.useState(!1),[Z,pe]=Ne.useState(!1),[ye,Te]=Ne.useState(""),[W,R]=Ne.useState(null);Ne.useEffect(()=>{if(!t)return;(async()=>{try{let ce=await mk(t);if(ce=B0(ce),!ce)throw new Error("SOAP note not found");const ae=ce.soapNote_text;p(ae?.soapNote?.subjective||""),b(ae?.soapNote?.objective||""),A(ae?.soapNote?.assessment||""),E(ae?.soapNote?.plan||"");let I=ae?.billingSuggestion||{},U=l0("",I,0,"1.25em");C(U);const ne=ce.patientEncounter_id;if(!ne)throw new Error("Associated Patient Encounter not found");const Q=(await H3(ne)).patientEncounter;c(Q.name||"")}catch(ce){console.error("Error fetching SOAP note or patient encounter:",ce),Te(`Failed to load SOAP note or patient encounter: ${ce.message}`),c(""),p(""),b(""),A(""),E(""),C("")}})()},[t]);const G=async()=>{ie(!0);const X=[];if(f.trim()||X.push("Subjective"),y.trim()||X.push("Objective"),m.trim()||X.push("Assessment"),_.trim()||X.push("Plan"),v.trim()||X.push("Billing Suggestion"),X.length>0){alert("Required field(s): "+X.join(", ")),ie(!1);return}try{const ae={soapNote_text:{soapNote:{subjective:f.replace(/\r?\n/g,`
`),objective:y.replace(/\r?\n/g,`
`),assessment:m.replace(/\r?\n/g,`
`),plan:_.replace(/\r?\n/g,`
`)},billingSuggestion:v}};console.log("Saving SOAP note:",ae),await G3(t,ae),ie(!1),window.location.reload()}catch(ce){alert("Error saving data: "+ce.message),ie(!1)}};return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-8",children:[H.jsx("h1",{className:"text-3xl font-bold",children:"Edit Soap Note"}),H.jsx(ob,{patientEncounterData:{name:o},transcriptData:null,soapNotesData:[{id:t,soapNote_text:{soapNote:{subjective:f,objective:y,assessment:m,plan:_},billingSuggestion:v}}]})]}),H.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[H.jsxs("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 flex justify-between items-center",onClick:()=>{},disabled:!1,children:[H.jsx("span",{className:"text-lg font-semibold",children:"1. Edit SOAP Note"}),H.jsx("span",{className:"text-xl",children:""})]}),H.jsxs("div",{className:"p-6 border-t border-gray-200",children:[H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Associated Patient Encounter Name"}),H.jsx("div",{className:"flex items-center gap-3",children:H.jsx("input",{type:"text",value:o,disabled:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100 text-gray-700 cursor-not-allowed",style:{minWidth:"12rem"}})}),H.jsxs("div",{className:"mt-2 text-red-600 text-sm font-medium",children:["This field is view-only. To change, go to"," ",H.jsx("a",{href:`/edit-patient-encounter?id=${i}`,className:"text-blue-600 underline text-sm font-medium",style:{whiteSpace:"nowrap"},target:"_blank",rel:"noopener noreferrer",children:"Edit Patient Encounter"})," ","page."]})]}),ye&&H.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-red-50 border border-red-200 text-red-800",children:[H.jsx("div",{className:"font-medium capitalize",children:"Error"}),H.jsx("div",{className:"text-sm",children:ye})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Subjective"}),H.jsx("textarea",{value:f,onChange:X=>p(X.target.value),disabled:se,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Subjective notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:f,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Objective"}),H.jsx("textarea",{value:y,onChange:X=>b(X.target.value),disabled:se,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Objective notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:y,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Assessment"}),H.jsx("textarea",{value:m,onChange:X=>A(X.target.value),disabled:se,className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Assessment notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:m,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Plan"}),H.jsx("textarea",{value:_,onChange:X=>E(X.target.value),disabled:se,className:"w-full h-50 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"8rem"},placeholder:"Plan notes will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:_,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("label",{className:"block text-sm font-bold text-xl text-gray-700 mb-2",children:"Billing Suggestion"}),H.jsx("textarea",{value:v,onChange:X=>C(X.target.value),disabled:se,className:"w-full h-80 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 border-gray-300 bg-white resize-none",style:{minHeight:"20rem"},placeholder:"Billing suggestion will appear here..."}),H.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:H.jsx(Hi,{text:v,label:"Copy",placement:"right"})})]}),H.jsxs("div",{className:"flex flex-col items-end",children:[H.jsx("button",{onClick:()=>pe(!0),disabled:se,className:`bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium ${se?"opacity-50 cursor-not-allowed":""}`,children:"Preview & Save"}),ye&&H.jsx("div",{className:"mt-3 text-red-600 text-sm text-right w-full",children:ye})]})]})]})]}),H.jsx(d0,{isOpen:Z,onClose:()=>pe(!1),soapSubjective:f,setSoapSubjective:p,soapObjective:y,setSoapObjective:b,soapAssessment:m,setSoapAssessment:A,soapPlan:_,setSoapPlan:E,billingSuggestion:v,setBillingSuggestion:C,patientEncounterName:o,setPatientEncounterName:c,onSave:G,isSaving:se,errorMessage:ye,sections:["soapNote","billingSuggestion"],isPatientEncounterNameEditable:!1})]})}function PD(){const r=Ja(),[e,t]=Ne.useState([]),[i,s]=Ne.useState(null),[o,c]=Ne.useState({trigger:"",expansion:""}),[l,h]=Ne.useState(!1),f=Ne.useCallback(async()=>{if(!Gr()){r("/login");return}try{const v=await bk();t(v)}catch{r("/login")}},[r]);Ne.useEffect(()=>{const E=setTimeout(()=>{f().catch(console.error)},0);return()=>clearTimeout(E)},[f]);const p=E=>{s(E.id),c({trigger:E.trigger,expansion:E.expansion}),h(!1)},y=async E=>{if(confirm(`Are you sure you want to delete the dot phrase "${E.trigger}"?`))try{await _k(E.id),window.location.reload()}catch(v){console.error("Delete failed:",v)}},b=async()=>{try{const E=l?"POST":"PATCH",v=l?{trigger:o.trigger,expansion:o.expansion}:{id:i,trigger:o.trigger,expansion:o.expansion};await wk(v,E),window.location.reload()}catch(E){console.error("Save failed:",E)}},m=()=>{s(null),h(!1),c({trigger:"",expansion:""})},A=()=>{h(!0),s(null),c({trigger:"",expansion:""})},_=(E,v=50)=>E?E.length>v?E.substring(0,v)+"...":E:"";return H.jsxs(H.Fragment,{children:[H.jsx(dc,{}),H.jsxs("div",{className:"max-w-8xl mx-auto p-8",children:[H.jsx("div",{className:"flex justify-between items-center mb-8",children:H.jsxs("h1",{className:"text-3xl font-bold",children:["Dot Phrases (",e.length,")"]})}),H.jsx("div",{className:"bg-gray-50 p-4 rounded-t-lg",children:H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsx("div",{className:"font-semibold text-gray-700",children:"Dot Phrase"}),H.jsx("div",{className:"font-semibold text-gray-700",children:"Full Text"})]})}),H.jsxs("div",{className:"bg-white border border-gray-200 rounded-b-lg",children:[e.length===0?H.jsx("div",{className:"p-8 text-center text-gray-500",children:"No dot phrases found. Create your first one below!"}):e.map(E=>H.jsxs("div",{children:[i!==E.id&&H.jsx("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 group cursor-pointer transition-colors","data-dot-phrase-id":E.id,children:H.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[H.jsx("p",{className:"text-gray-800",children:_(E.trigger)}),H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsx("p",{className:"text-gray-800",children:_(E.expansion)}),H.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[H.jsx("button",{onClick:()=>p(E),className:"w-8 h-8 bg-gray-300 hover:bg-gray-300 text-white rounded-lg flex items-center justify-center transition-colors",title:"Edit",children:""}),H.jsx("button",{onClick:()=>y(E),className:"w-8 h-8 bg-gray-300 hover:bg-gray-300 text-white rounded-lg flex items-center justify-center transition-colors",title:"Delete",children:""})]})]})]})}),i===E.id&&H.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-100",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsx("div",{children:H.jsx("input",{type:"text",value:o.trigger,onChange:v=>c({...o,trigger:v.target.value.substring(0,50)}),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Dot phrase trigger",maxLength:50})}),H.jsx("div",{children:H.jsx("textarea",{value:o.expansion,onChange:v=>c({...o,expansion:v.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Full text expansion",rows:"4",style:{whiteSpace:"pre-wrap"}})})]}),H.jsxs("div",{className:"mt-4 flex gap-2",children:[H.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),H.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:"Save"})]})]})]},E.id)),l&&H.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-100",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsx("div",{children:H.jsx("input",{type:"text",value:o.trigger,onChange:E=>c({...o,trigger:E.target.value.substring(0,50)}),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Dot phrase trigger",maxLength:50})}),H.jsx("div",{children:H.jsx("textarea",{value:o.expansion,onChange:E=>c({...o,expansion:E.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Full text expansion",rows:"4",style:{whiteSpace:"pre-wrap"}})})]}),H.jsxs("div",{className:"mt-4 flex gap-2",children:[H.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),H.jsx("button",{onClick:b,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:"Save"})]})]})]}),H.jsx("div",{className:"mt-6 text-center",children:H.jsx("button",{onClick:A,disabled:l||i!==null,className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:"Create New Dot Phrase"})})]})]})}function DD(){return H.jsxs(h8,{children:[H.jsx(Lk,{}),H.jsxs(o8,{children:[H.jsx(Xs,{path:"/login",element:H.jsx(jk,{})}),H.jsx(Xs,{path:"/dashboard",element:H.jsx(Y7,{})}),H.jsx(Xs,{path:"/new-patient-encounter",element:H.jsx(ND,{})}),H.jsx(Xs,{path:"/view-patient-encounters",element:H.jsx(TD,{})}),H.jsx(Xs,{path:"/edit-patient-encounter",element:H.jsx(RD,{})}),H.jsx(Xs,{path:"/view-recordings",element:H.jsx(OD,{})}),H.jsx(Xs,{path:"/view-soap-notes",element:H.jsx(LD,{})}),H.jsx(Xs,{path:"/edit-soap-note",element:H.jsx(jD,{})}),H.jsx(Xs,{path:"/dot-phrases",element:H.jsx(PD,{})}),H.jsx(Xs,{path:"/",element:H.jsx(a8,{to:"/login",replace:!0})})]})]})}console.log("main.jsx loading...");const bv=document.getElementById("root");console.log("Root element:",bv);bv?(mE.createRoot(bv).render(H.jsx(rc.StrictMode,{children:H.jsx(DD,{})})),console.log("React app mounted")):console.error("Root element not found!");export{$r as _,hp as c,r3 as g};
